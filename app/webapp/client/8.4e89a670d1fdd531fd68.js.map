{"version":3,"sources":["webpack:///8.4e89a670d1fdd531fd68.js","webpack:///./components/select_team/index.js","webpack:///./components/select_team/select_team.jsx","webpack:///./components/select_team/components/select_team_item.jsx","webpack:///./components/svg/team_info_icon.jsx"],"names":["webpackJsonp","2532","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","_extends3","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","getTeams","Object","defineProperty","value","_extends2","_reactRedux","_teams","_reactRouterDom","_select_team","_select_team2","withRouter","connect","2533","global","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","_getIterator2","_getIterator3","_map","_map2","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactIntl","_global_actions","GlobalActions","_team_actions","_team_store","_team_store2","_user_store","_user_store2","_user_agent","UserAgent","_utils","Utils","_logo","_logo2","_announcement_bar","_announcement_bar2","_back_button","_back_button2","_loading_screen","_loading_screen2","_select_team_item","_select_team_item2","SelectTeam","_React$Component","props","this","_this","__proto__","onTeamChange","setState","getStateFromStores","handleTeamClick","team","loadingTeamId","id","addUserToTeamFromInvite","invite_id","history","push","name","error","clearError","e","preventDefault","addChangeListener","removeChangeListener","loaded","teams","getAll","teamMembers","getMyTeamMembers","teamListings","getTeamListings","teamItemA","teamItemB","display_name","localeCompare","isSystemAdmin","getCurrentUser","roles","openContent","createElement","className","message","openTeamContents","isAlreadyMember","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","teamMember","teamId","team_id","err","return","openTeam","onTeamClick","loading","length","window","mm_config","EnableTeamCreation","FormattedMessage","defaultMessage","Array","isArray","sort","teamContentsCompare","teamHelp","teamSignUp","Link","to","adminConsoleLink","isMobileApp","description","mm_license","IsLicensed","CustomBrand","EnableCustomBrand","CustomDescriptionText","headerButton","onClick","href","emitUserLoggedOutEvent","src","SiteName","Component","propTypes","shape","func","isRequired","2534","_reactBootstrap","_team_info_icon","_team_info_icon2","SelectTeamItem","_React$PureComponent","_ref","_temp","_ret","_len","arguments","args","_key","apply","concat","icon","descriptionTooltip","showDescriptionTooltip","Tooltip","OverlayTrigger","trigger","delayShow","placement","overlay","ref","rootClose","container","createSafeId","PureComponent","object","bool","2535","TeamInfoIcon","width","height","viewBox","style","transform","d","fillRule","clipRule","strokeLinejoin","strokeMiterlimit"],"mappings":"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","file":"8.4e89a670d1fdd531fd68.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 2532:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(28);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(141);\n\nvar _redux = __webpack_require__(11);\n\nvar _teams = __webpack_require__(173);\n\nvar _reactRouterDom = __webpack_require__(457);\n\nvar _select_team = __webpack_require__(2533);\n\nvar _select_team2 = _interopRequireDefault(_select_team);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getTeams: _teams.getTeams\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRouterDom.withRouter)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_select_team2.default));\n\n/***/ }),\n\n/***/ 2533:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(70);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = __webpack_require__(218);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = __webpack_require__(34);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(30);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(31);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(35);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(36);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(27);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(214);\n\nvar _reactRouterDom = __webpack_require__(457);\n\nvar _global_actions = __webpack_require__(142);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _team_actions = __webpack_require__(1147);\n\nvar _team_store = __webpack_require__(59);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(42);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _user_agent = __webpack_require__(169);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(47);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _logo = __webpack_require__(1164);\n\nvar _logo2 = _interopRequireDefault(_logo);\n\nvar _announcement_bar = __webpack_require__(1178);\n\nvar _announcement_bar2 = _interopRequireDefault(_announcement_bar);\n\nvar _back_button = __webpack_require__(1165);\n\nvar _back_button2 = _interopRequireDefault(_back_button);\n\nvar _loading_screen = __webpack_require__(1137);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _select_team_item = __webpack_require__(2534);\n\nvar _select_team_item2 = _interopRequireDefault(_select_team_item);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SelectTeam = function (_React$Component) {\n    (0, _inherits3.default)(SelectTeam, _React$Component);\n\n    function SelectTeam(props) {\n        (0, _classCallCheck3.default)(this, SelectTeam);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SelectTeam.__proto__ || (0, _getPrototypeOf2.default)(SelectTeam)).call(this, props));\n\n        _this.onTeamChange = function () {\n            _this.setState(_this.getStateFromStores(true));\n        };\n\n        _this.handleTeamClick = function (team) {\n            _this.setState({ loadingTeamId: team.id });\n\n            (0, _team_actions.addUserToTeamFromInvite)('', '', team.invite_id, function () {\n                _this.props.history.push('/' + team.name + '/channels/town-square');\n            }, function (error) {\n                _this.setState({\n                    error: error,\n                    loadingTeamId: ''\n                });\n            });\n        };\n\n        _this.clearError = function (e) {\n            e.preventDefault();\n\n            _this.setState({\n                error: null\n            });\n        };\n\n        var state = _this.getStateFromStores(false);\n        state.loadingTeamId = '';\n        state.error = null;\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SelectTeam, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onTeamChange);\n            this.props.actions.getTeams(0, 200);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onTeamChange);\n        }\n    }, {\n        key: 'getStateFromStores',\n        value: function getStateFromStores(loaded) {\n            return {\n                teams: _team_store2.default.getAll(),\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                loaded: loaded\n            };\n        }\n    }, {\n        key: 'teamContentsCompare',\n        value: function teamContentsCompare(teamItemA, teamItemB) {\n            return teamItemA.props.team.display_name.localeCompare(teamItemB.props.team.display_name);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var isSystemAdmin = Utils.isSystemAdmin(_user_store2.default.getCurrentUser().roles);\n\n            var openContent = void 0;\n\n            if (!this.state.loaded || this.state.loadingTeamId) {\n                openContent = _react2.default.createElement(_loading_screen2.default, null);\n            } else if (this.state.error) {\n                openContent = _react2.default.createElement(\n                    'div',\n                    { className: 'signup__content' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.error.message\n                        )\n                    )\n                );\n            } else {\n                var openTeamContents = [];\n                var isAlreadyMember = new _map2.default();\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(this.state.teamMembers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var teamMember = _step.value;\n\n                        var teamId = teamMember.team_id;\n                        isAlreadyMember[teamId] = true;\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                for (var id in this.state.teamListings) {\n                    if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                        var openTeam = this.state.teamListings[id];\n                        openTeamContents.push(_react2.default.createElement(_select_team_item2.default, {\n                            key: 'team_' + openTeam.name,\n                            team: openTeam,\n                            onTeamClick: this.handleTeamClick,\n                            loading: this.state.loadingTeamId === openTeam.id\n                        }));\n                    }\n                }\n\n                if (openTeamContents.length === 0 && (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin)) {\n                    openTeamContents = _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team-dir-err' },\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'signup_team.no_open_teams_canCreate',\n                                defaultMessage: 'No teams are available to join. Please create a new team or ask your administrator for an invite.'\n                            })\n                        )\n                    );\n                } else if (openTeamContents.length === 0) {\n                    openTeamContents = _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team-dir-err' },\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'signup_team.no_open_teams',\n                                defaultMessage: 'No teams are available to join. Please ask your administrator for an invite.'\n                            })\n                        )\n                    );\n                }\n\n                if (Array.isArray(openTeamContents)) {\n                    openTeamContents = openTeamContents.sort(this.teamContentsCompare);\n                }\n\n                openContent = _react2.default.createElement(\n                    'div',\n                    { className: 'signup__content' },\n                    _react2.default.createElement(\n                        'h4',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'signup_team.join_open',\n                            defaultMessage: 'Teams you can join: '\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team-all' },\n                        openTeamContents\n                    )\n                );\n            }\n\n            var teamHelp = null;\n            if (isSystemAdmin && global.window.mm_config.EnableTeamCreation === 'false') {\n                teamHelp = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'login.createTeamAdminOnly',\n                    defaultMessage: 'This option is only available for System Administrators, and does not show up for other users.'\n                });\n            }\n\n            var teamSignUp = void 0;\n            if (isSystemAdmin || global.window.mm_config.EnableTeamCreation === 'true') {\n                teamSignUp = _react2.default.createElement(\n                    'div',\n                    { className: 'margin--extra' },\n                    _react2.default.createElement(\n                        _reactRouterDom.Link,\n                        {\n                            to: '/create_team',\n                            className: 'signup-team-login'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'login.createTeam',\n                            defaultMessage: 'Create a new team'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        teamHelp\n                    )\n                );\n            }\n\n            var adminConsoleLink = void 0;\n            if (isSystemAdmin && !UserAgent.isMobileApp()) {\n                adminConsoleLink = _react2.default.createElement(\n                    'div',\n                    { className: 'margin--extra hidden-xs' },\n                    _react2.default.createElement(\n                        _reactRouterDom.Link,\n                        {\n                            to: '/admin_console',\n                            className: 'signup-team-login'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'signup_team_system_console',\n                            defaultMessage: 'Go to System Console'\n                        })\n                    )\n                );\n            }\n\n            var description = null;\n            if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.CustomBrand === 'true' && global.window.mm_config.EnableCustomBrand === 'true') {\n                description = global.window.mm_config.CustomDescriptionText;\n            } else {\n                description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'web.root.signup_info',\n                    defaultMessage: 'All team communication in one place, searchable and accessible anywhere'\n                });\n            }\n\n            var headerButton = void 0;\n            if (this.state.error) {\n                headerButton = _react2.default.createElement(_back_button2.default, { onClick: this.clearError });\n            } else if (this.state.teamMembers.length) {\n                headerButton = _react2.default.createElement(_back_button2.default, null);\n            } else {\n                headerButton = _react2.default.createElement(\n                    'div',\n                    { className: 'signup-header' },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: GlobalActions.emitUserLoggedOutEvent\n                        },\n                        _react2.default.createElement('span', { className: 'fa fa-chevron-left' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'web.header.logout' })\n                    )\n                );\n            }\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_announcement_bar2.default, null),\n                headerButton,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'col-sm-12' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team__container' },\n                        _react2.default.createElement('img', {\n                            className: 'signup-team-logo',\n                            src: _logo2.default\n                        }),\n                        _react2.default.createElement(\n                            'h1',\n                            null,\n                            global.window.mm_config.SiteName\n                        ),\n                        _react2.default.createElement(\n                            'h4',\n                            { className: 'color--light' },\n                            description\n                        ),\n                        openContent,\n                        teamSignUp,\n                        adminConsoleLink\n                    )\n                )\n            );\n        }\n    }]);\n    return SelectTeam;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSelectTeam.propTypes = {\n    actions: _propTypes2.default.shape({\n        getTeams: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = SelectTeam;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2534:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(34);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(30);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(31);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(35);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(36);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(27);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(215);\n\nvar _reactRouterDom = __webpack_require__(457);\n\nvar _team_info_icon = __webpack_require__(2535);\n\nvar _team_info_icon2 = _interopRequireDefault(_team_info_icon);\n\nvar _utils = __webpack_require__(47);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SelectTeamItem = function (_React$PureComponent) {\n    (0, _inherits3.default)(SelectTeamItem, _React$PureComponent);\n\n    function SelectTeamItem() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, SelectTeamItem);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SelectTeamItem.__proto__ || (0, _getPrototypeOf2.default)(SelectTeamItem)).call.apply(_ref, [this].concat(args))), _this), _this.handleTeamClick = function () {\n            _this.props.onTeamClick(_this.props.team);\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(SelectTeamItem, [{\n        key: 'render',\n        value: function render() {\n            var icon = void 0;\n            if (this.props.loading) {\n                icon = _react2.default.createElement('span', { className: 'fa fa-refresh fa-spin right signup-team__icon' });\n            } else {\n                icon = _react2.default.createElement('span', { className: 'fa fa-angle-right right signup-team__icon' });\n            }\n\n            var descriptionTooltip = '';\n            var showDescriptionTooltip = '';\n            if (this.props.team.description) {\n                descriptionTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'team-description__tooltip' },\n                    this.props.team.description\n                );\n\n                showDescriptionTooltip = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus', 'click'],\n                        delayShow: 1000,\n                        placement: 'top',\n                        overlay: descriptionTooltip,\n                        ref: 'descriptionOverlay',\n                        rootClose: true,\n                        container: this\n                    },\n                    _react2.default.createElement(_team_info_icon2.default, { className: 'icon icon--info' })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'signup-team-dir' },\n                showDescriptionTooltip,\n                _react2.default.createElement(\n                    _reactRouterDom.Link,\n                    {\n                        to: '/' + this.props.team.name + '/channels/town-square',\n                        id: Utils.createSafeId(this.props.team.display_name),\n                        onClick: this.handleTeamClick\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'signup-team-dir__name' },\n                        this.props.team.display_name\n                    ),\n                    icon\n                )\n            );\n        }\n    }]);\n    return SelectTeamItem;\n}(_react2.default.PureComponent);\n\nSelectTeamItem.propTypes = {\n    team: _propTypes2.default.object.isRequired,\n    onTeamClick: _propTypes2.default.func.isRequired,\n    loading: _propTypes2.default.bool.isRequired\n};\nexports.default = SelectTeamItem;\n\n/***/ }),\n\n/***/ 2535:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(34);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(30);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(31);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(35);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(36);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TeamInfoIcon = function (_React$PureComponent) {\n    (0, _inherits3.default)(TeamInfoIcon, _React$PureComponent);\n\n    function TeamInfoIcon() {\n        (0, _classCallCheck3.default)(this, TeamInfoIcon);\n        return (0, _possibleConstructorReturn3.default)(this, (TeamInfoIcon.__proto__ || (0, _getPrototypeOf2.default)(TeamInfoIcon)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(TeamInfoIcon, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'span',\n                this.props,\n                _react2.default.createElement(\n                    'svg',\n                    {\n                        width: '100%',\n                        height: '100%',\n                        viewBox: '0 0 20 20',\n                        style: style\n                    },\n                    _react2.default.createElement(\n                        'g',\n                        { transform: 'matrix(1.17647,0,0,1.17647,-1.55431e-15,-1.00573e-14)' },\n                        _react2.default.createElement('path', { d: 'M8.5,0C3.797,0 0,3.797 0,8.5C0,13.203 3.797,17 8.5,17C13.203,17 17,13.203 17,8.5C17,3.797 13.203,0 8.5,0ZM10,8.5C10,7.672 9.328,7 8.5,7C7.672,7 7,7.672 7,8.5L7,12.45C7,13.278 7.672,13.95 8.5,13.95C9.328,13.95 10,13.278 10,12.45L10,8.5ZM8.5,3C9.328,3 10,3.672 10,4.5C10,5.328 9.328,6 8.5,6C7.672,6 7,5.328 7,4.5C7,3.672 7.672,3 8.5,3Z' })\n                    )\n                )\n            );\n        }\n    }]);\n    return TeamInfoIcon;\n}(_react2.default.PureComponent); // Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = TeamInfoIcon;\n\n\nvar style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8.4e89a670d1fdd531fd68.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getTeams} from 'mattermost-redux/actions/teams';\nimport {withRouter} from 'react-router-dom';\n\nimport SelectTeam from './select_team.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getTeams\n        }, dispatch)\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SelectTeam));\n\n\n\n// WEBPACK FOOTER //\n// ./components/select_team/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {addUserToTeamFromInvite} from 'actions/team_actions.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport logoImage from 'images/logo.png';\nimport AnnouncementBar from 'components/announcement_bar';\nimport BackButton from 'components/common/back_button.jsx';\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nimport SelectTeamItem from './components/select_team_item.jsx';\n\nexport default class SelectTeam extends React.Component {\n    static propTypes = {\n        actions: PropTypes.shape({\n            getTeams: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        const state = this.getStateFromStores(false);\n        state.loadingTeamId = '';\n        state.error = null;\n        this.state = state;\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onTeamChange);\n        this.props.actions.getTeams(0, 200);\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onTeamChange);\n    }\n\n    onTeamChange = () => {\n        this.setState(this.getStateFromStores(true));\n    };\n\n    getStateFromStores(loaded) {\n        return {\n            teams: TeamStore.getAll(),\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            loaded\n        };\n    }\n\n    handleTeamClick = (team) => {\n        this.setState({loadingTeamId: team.id});\n\n        addUserToTeamFromInvite('', '', team.invite_id,\n            () => {\n                this.props.history.push(`/${team.name}/channels/town-square`);\n            },\n            (error) => {\n                this.setState({\n                    error,\n                    loadingTeamId: ''\n                });\n            }\n        );\n    };\n\n    clearError = (e) => {\n        e.preventDefault();\n\n        this.setState({\n            error: null\n        });\n    };\n\n    teamContentsCompare(teamItemA, teamItemB) {\n        return teamItemA.props.team.display_name.localeCompare(teamItemB.props.team.display_name);\n    }\n\n    render() {\n        const isSystemAdmin = Utils.isSystemAdmin(UserStore.getCurrentUser().roles);\n\n        let openContent;\n\n        if (!this.state.loaded || this.state.loadingTeamId) {\n            openContent = <LoadingScreen/>;\n        } else if (this.state.error) {\n            openContent = (\n                <div className='signup__content'>\n                    <div className={'form-group has-error'}>\n                        <label className='control-label'>{this.state.error.message}</label>\n                    </div>\n                </div>\n            );\n        } else {\n            let openTeamContents = [];\n            const isAlreadyMember = new Map();\n\n            for (const teamMember of this.state.teamMembers) {\n                const teamId = teamMember.team_id;\n                isAlreadyMember[teamId] = true;\n            }\n\n            for (const id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    const openTeam = this.state.teamListings[id];\n                    openTeamContents.push(\n                        <SelectTeamItem\n                            key={'team_' + openTeam.name}\n                            team={openTeam}\n                            onTeamClick={this.handleTeamClick}\n                            loading={this.state.loadingTeamId === openTeam.id}\n                        />\n                    );\n                }\n            }\n\n            if (openTeamContents.length === 0 && (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin)) {\n                openTeamContents = (\n                    <div className='signup-team-dir-err'>\n                        <div>\n                            <FormattedMessage\n                                id='signup_team.no_open_teams_canCreate'\n                                defaultMessage='No teams are available to join. Please create a new team or ask your administrator for an invite.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (openTeamContents.length === 0) {\n                openTeamContents = (\n                    <div className='signup-team-dir-err'>\n                        <div>\n                            <FormattedMessage\n                                id='signup_team.no_open_teams'\n                                defaultMessage='No teams are available to join. Please ask your administrator for an invite.'\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            if (Array.isArray(openTeamContents)) {\n                openTeamContents = openTeamContents.sort(this.teamContentsCompare);\n            }\n\n            openContent = (\n                <div className='signup__content'>\n                    <h4>\n                        <FormattedMessage\n                            id='signup_team.join_open'\n                            defaultMessage='Teams you can join: '\n                        />\n                    </h4>\n                    <div className='signup-team-all'>\n                        {openTeamContents}\n                    </div>\n                </div>\n            );\n        }\n\n        let teamHelp = null;\n        if (isSystemAdmin && (global.window.mm_config.EnableTeamCreation === 'false')) {\n            teamHelp = (\n                <FormattedMessage\n                    id='login.createTeamAdminOnly'\n                    defaultMessage='This option is only available for System Administrators, and does not show up for other users.'\n                />\n            );\n        }\n\n        let teamSignUp;\n        if (isSystemAdmin || global.window.mm_config.EnableTeamCreation === 'true') {\n            teamSignUp = (\n                <div className='margin--extra'>\n                    <Link\n                        to='/create_team'\n                        className='signup-team-login'\n                    >\n                        <FormattedMessage\n                            id='login.createTeam'\n                            defaultMessage='Create a new team'\n                        />\n                    </Link>\n                    <div>\n                        {teamHelp}\n                    </div>\n                </div>\n            );\n        }\n\n        let adminConsoleLink;\n        if (isSystemAdmin && !UserAgent.isMobileApp()) {\n            adminConsoleLink = (\n                <div className='margin--extra hidden-xs'>\n                    <Link\n                        to='/admin_console'\n                        className='signup-team-login'\n                    >\n                        <FormattedMessage\n                            id='signup_team_system_console'\n                            defaultMessage='Go to System Console'\n                        />\n                    </Link>\n                </div>\n            );\n        }\n\n        let description = null;\n        if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.CustomBrand === 'true' && global.window.mm_config.EnableCustomBrand === 'true') {\n            description = global.window.mm_config.CustomDescriptionText;\n        } else {\n            description = (\n                <FormattedMessage\n                    id='web.root.signup_info'\n                    defaultMessage='All team communication in one place, searchable and accessible anywhere'\n                />\n            );\n        }\n\n        let headerButton;\n        if (this.state.error) {\n            headerButton = <BackButton onClick={this.clearError}/>;\n        } else if (this.state.teamMembers.length) {\n            headerButton = <BackButton/>;\n        } else {\n            headerButton = (\n                <div className='signup-header'>\n                    <a\n                        href='#'\n                        onClick={GlobalActions.emitUserLoggedOutEvent}\n                    >\n                        <span className='fa fa-chevron-left'/>\n                        <FormattedMessage id='web.header.logout'/>\n                    </a>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <AnnouncementBar/>\n                {headerButton}\n                <div className='col-sm-12'>\n                    <div className={'signup-team__container'}>\n                        <img\n                            className='signup-team-logo'\n                            src={logoImage}\n                        />\n                        <h1>{global.window.mm_config.SiteName}</h1>\n                        <h4 className='color--light'>\n                            {description}\n                        </h4>\n                        {openContent}\n                        {teamSignUp}\n                        {adminConsoleLink}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/select_team/select_team.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {Link} from 'react-router-dom';\n\nimport TeamInfoIcon from 'components/svg/team_info_icon';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class SelectTeamItem extends React.PureComponent {\n    static propTypes = {\n        team: PropTypes.object.isRequired,\n        onTeamClick: PropTypes.func.isRequired,\n        loading: PropTypes.bool.isRequired\n    };\n\n    handleTeamClick = () => {\n        this.props.onTeamClick(this.props.team);\n    }\n\n    render() {\n        let icon;\n        if (this.props.loading) {\n            icon = (\n                <span className='fa fa-refresh fa-spin right signup-team__icon'/>\n            );\n        } else {\n            icon = (\n                <span className='fa fa-angle-right right signup-team__icon'/>\n            );\n        }\n\n        var descriptionTooltip = '';\n        var showDescriptionTooltip = '';\n        if (this.props.team.description) {\n            descriptionTooltip = (\n                <Tooltip id='team-description__tooltip'>\n                    {this.props.team.description}\n                </Tooltip>\n            );\n\n            showDescriptionTooltip = (\n                <OverlayTrigger\n                    trigger={['hover', 'focus', 'click']}\n                    delayShow={1000}\n                    placement='top'\n                    overlay={descriptionTooltip}\n                    ref='descriptionOverlay'\n                    rootClose={true}\n                    container={this}\n                >\n                    <TeamInfoIcon className='icon icon--info'/>\n                </OverlayTrigger>\n            );\n        }\n\n        return (\n            <div className='signup-team-dir'>\n                {showDescriptionTooltip}\n                <Link\n                    to={`/${this.props.team.name}/channels/town-square`}\n                    id={Utils.createSafeId(this.props.team.display_name)}\n                    onClick={this.handleTeamClick}\n                >\n                    <span className='signup-team-dir__name'>{this.props.team.display_name}</span>\n                    {icon}\n                </Link>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/select_team/components/select_team_item.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nexport default class TeamInfoIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    width='100%'\n                    height='100%'\n                    viewBox='0 0 20 20'\n                    style={style}\n                >\n                    <g transform='matrix(1.17647,0,0,1.17647,-1.55431e-15,-1.00573e-14)'>\n                        <path d='M8.5,0C3.797,0 0,3.797 0,8.5C0,13.203 3.797,17 8.5,17C13.203,17 17,13.203 17,8.5C17,3.797 13.203,0 8.5,0ZM10,8.5C10,7.672 9.328,7 8.5,7C7.672,7 7,7.672 7,8.5L7,12.45C7,13.278 7.672,13.95 8.5,13.95C9.328,13.95 10,13.278 10,12.45L10,8.5ZM8.5,3C9.328,3 10,3.672 10,4.5C10,5.328 9.328,6 8.5,6C7.672,6 7,5.328 7,4.5C7,3.672 7.672,3 8.5,3Z'/>\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/svg/team_info_icon.jsx"],"sourceRoot":""}