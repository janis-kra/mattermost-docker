webpackJsonp([0],Array(1127).concat([function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(28),g=r(m),v=a(459),b=r(v),_=a(167),y=r(_),E=a(27),w=r(E),C=a(0),x=r(C),M=a(214),S=a(1602),k=r(S),T=a(457),P=a(318),N=a(309),O=a(23),I=a(466),R=a(303),A=a(142),L=n(A),D=a(174),F=r(D),U=a(308),j=r(U),H=a(221),B=r(H),q=a(42),z=r(q),G=a(59),W=r(G),V=a(168),$=a(1260),K=a(465),Y=n(K),X=a(482),Z=a(12),J=r(Z),Q=a(1605),ee=a(1611),te=r(ee),ae=a(463),ne=a(2274),re=r(ne),ie=a(2279),oe=r(ie),se=a(2281),le=r(se),ue=a(1321),de=r(ue),ce=a(2495),fe=r(ce),pe=a(2497),he=r(pe),me=a(2499),ge=r(me),ve=a(2501),be=r(ve),_e=a(2503),ye=r(_e),Ee=a(2505),we=r(Ee),Ce=a(2507),xe=r(Ce),Me=a(2510),Se=r(Me),ke=a(2516),Te=r(ke),Pe=a(2524),Ne=r(Pe),Oe=a(2528),Ie=r(Oe),Re=a(2531),Ae=r(Re),Le=a(2536),De=r(Le),Fe=a(2538),Ue=r(Fe),je=a(2542),He=r(je),Be=a(40),qe=r(Be);a(2546)(y.default);var ze=(0,ae.makeAsyncComponent)(Ue.default),Ge=(0,ae.makeAsyncComponent)(re.default),We=(0,ae.makeAsyncComponent)(oe.default),Ve=(0,ae.makeAsyncComponent)(le.default),$e=(0,ae.makeAsyncComponent)(de.default),Ke=(0,ae.makeAsyncComponent)(fe.default),Ye=(0,ae.makeAsyncComponent)(he.default),Xe=(0,ae.makeAsyncComponent)(ge.default),Ze=(0,ae.makeAsyncComponent)(be.default),Je=(0,ae.makeAsyncComponent)(ye.default),Qe=(0,ae.makeAsyncComponent)(we.default),et=(0,ae.makeAsyncComponent)(xe.default),tt=(0,ae.makeAsyncComponent)(Se.default),at=(0,ae.makeAsyncComponent)(Te.default),nt=(0,ae.makeAsyncComponent)(Ne.default),rt=(0,ae.makeAsyncComponent)(Ie.default),it=(0,ae.makeAsyncComponent)(Ae.default),ot=(0,ae.makeAsyncComponent)(De.default),st=(0,ae.makeAsyncComponent)(He.default),lt=function(e){var t=e.component,a=(0,b.default)(e,["component"]);return x.default.createElement(T.Route,(0,g.default)({},a,{render:function(e){return x.default.createElement($e,e,x.default.createElement(t,e))}}))},ut=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.localizationChanged=t.localizationChanged.bind(t),t.redirectIfNecessary=t.redirectIfNecessary.bind(t),t.onConfigLoaded=t.onConfigLoaded.bind(t),(0,P.setUrl)(window.location.origin),(0,N.setSystemEmojis)(I.EmojiIndicesByAlias),(0,y.default)(window).bind("storage",function(e){if(e.originalEvent.key===Z.StoragePrefixes.LOGOUT&&e.originalEvent.storageArea===localStorage&&e.originalEvent.newValue){if(F.default.isSignallingLogout(e.originalEvent.newValue))return;console.log("detected logout from a different tab"),L.emitUserLoggedOutEvent("/",!1)}if(e.originalEvent.key===Z.StoragePrefixes.LOGIN&&e.originalEvent.storageArea===localStorage&&e.originalEvent.newValue){if(F.default.isSignallingLogin(e.originalEvent.newValue))return;console.log("detected login from a different tab"),location.reload()}}),document.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation()}),document.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()}),k.default.attach(document.body),j.default.setConnectionErrorCount(0),t.state={configLoaded:!1,locale:B.default.getLocale(),translations:B.default.getTranslations()},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"onConfigLoaded",value:function(){var t=this,a=J.default.DIAGNOSTICS_SEGMENT_KEY;null!=a&&""!==a&&"true"===window.mm_config.DiagnosticsEnabled&&function(){var t=e.window.analytics=e.window.analytics||[];if(!t.initialize)if(t.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"],t.factory=function(e){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(e),t.push(a),t}};for(var n=0;n<t.methods.length;n++){var r=t.methods[n];t[r]=t.factory(r)}t.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)},t.SNIPPET_VERSION="3.0.1",t.load(a),t.page("ApplicationLoaded",{path:"",referrer:"",search:"",title:"",url:""},{context:{ip:"0.0.0.0"},anonymousId:"00000000000000000000000000"})}}();var n=function(){(0,X.initializePlugins)(),Y.doAddLocaleData(),B.default.addChangeListener(t.localizationChanged),L.loadCurrentLocale(),t.redirectIfNecessary(t.props),t.setState({configLoaded:!0})};e.Intl?n():Y.safariFix(n),(0,$.loadRecentlyUsedCustomEmojis)()(qe.default.dispatch,qe.default.getState)}},{key:"localizationChanged",value:function(){var e=B.default.getLocale();O.Client4.setAcceptLanguage(e),this.setState({locale:e,translations:B.default.getTranslations()})}},{key:"redirectIfNecessary",value:function(t){var a=e.mm_config.ExperimentalPrimaryTeam,n=W.default.getByName(a);"/"===t.location.pathname&&(z.default.getNoAccounts()?this.props.history.push("/signup_user_complete"):z.default.getCurrentUser()&&n?this.props.history.push("/"+n.name+"/channels/"+J.default.DEFAULT_CHANNEL):z.default.getCurrentUser()&&L.redirectUserToDefaultTeam())}},{key:"componentWillReceiveProps",value:function(e){this.redirectIfNecessary(e)}},{key:"componentDidMount",value:function(){var t=this;document.cookie.indexOf("MMUSERID=")>-1?(0,V.loadMeAndConfig)(this.onConfigLoaded):(0,P.getClientConfig)()(qe.default.dispatch,qe.default.getState).then(function(a){var n=a.data;e.window.mm_config=n,(0,P.getLicenseConfig)()(qe.default.dispatch,qe.default.getState).then(function(a){var n=a.data;e.window.mm_license=n,t.onConfigLoaded()})}),(0,R.trackLoadTime)()}},{key:"componentWillUnmount",value:function(){B.default.removeChangeListener(this.localizationChanged),(0,y.default)(window).unbind("storage")}},{key:"render",value:function(){return null==this.state.translations||!1===this.state.configLoaded?x.default.createElement("div",null):x.default.createElement(M.IntlProvider,{locale:this.state.locale,messages:this.state.translations,key:this.state.locale},x.default.createElement(T.Switch,null,x.default.createElement(T.Route,{path:"/error",component:Ge}),x.default.createElement(Q.HFTRoute,{path:"/login",component:We}),x.default.createElement(Q.HFTRoute,{path:"/reset_password",component:Ke}),x.default.createElement(Q.HFTRoute,{path:"/reset_password_complete",component:Ye}),x.default.createElement(Q.HFTRoute,{path:"/signup_user_complete",component:Xe}),x.default.createElement(Q.HFTRoute,{path:"/signup_email",component:Ze}),x.default.createElement(Q.HFTRoute,{path:"/signup_ldap",component:Je}),x.default.createElement(Q.HFTRoute,{path:"/should_verify_email",component:Qe}),x.default.createElement(Q.HFTRoute,{path:"/do_verify_email",component:et}),x.default.createElement(Q.HFTRoute,{path:"/claim",component:tt}),x.default.createElement(Q.HFTRoute,{path:"/help",component:at}),x.default.createElement(T.Route,{path:"/get_ios_app",component:nt}),x.default.createElement(T.Route,{path:"/get_android_app",component:rt}),x.default.createElement(lt,{path:"/admin_console",component:Ve}),x.default.createElement(Q.LoggedInHFTRoute,{path:"/select_team",component:it}),x.default.createElement(Q.LoggedInHFTRoute,{path:"/oauth/authorize",component:ot}),x.default.createElement(Q.LoggedInHFTRoute,{path:"/create_team",component:ze}),x.default.createElement(lt,{path:"/mfa",component:st}),x.default.createElement(lt,{path:"/:team",component:te.default}),x.default.createElement(T.Redirect,{to:"/login"})))}}]),a}(x.default.Component);t.default=ut,ut.defaultProps={},ut.propTypes={children:w.default.object}}).call(t,a(22))},,function(e,t,a){"use strict";(function(e){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,a){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,a);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return o(this,e,t,a)}function o(e,t,a,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,a,n):"string"==typeof t?d(e,t,a):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,a,n){return s(t),t<=0?r(e,t):void 0!==a?"string"==typeof n?r(e,t).fill(a,n):r(e,t).fill(a):r(e,t)}function u(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!i.TYPED_ARRAY_SUPPORT)for(var a=0;a<t;++a)e[a]=0;return e}function d(e,t,a){if("string"==typeof a&&""!==a||(a="utf8"),!i.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,a);e=r(e,n);var o=e.write(t,a);return o!==n&&(e=e.slice(0,o)),e}function c(e,t){var a=t.length<0?0:0|h(t.length);e=r(e,a);for(var n=0;n<a;n+=1)e[n]=255&t[n];return e}function f(e,t,a,n){if(t.byteLength,a<0||t.byteLength<a)throw new RangeError("'offset' is out of bounds");if(t.byteLength<a+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===a&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,a):new Uint8Array(t,a,n),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=c(e,t),e}function p(e,t){if(i.isBuffer(t)){var a=0|h(t.length);return e=r(e,a),0===e.length?e:(t.copy(e,0,0,a),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?r(e,0):c(e,t);if("Buffer"===t.type&&J(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function g(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var a=e.length;if(0===a)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return $(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,a){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if(a>>>=0,t>>>=0,a<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,a);case"utf8":case"utf-8":return T(this,t,a);case"ascii":return N(this,t,a);case"latin1":case"binary":return O(this,t,a);case"base64":return k(this,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,a);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,a){var n=e[t];e[t]=e[a],e[a]=n}function _(e,t,a,n,r){if(0===e.length)return-1;if("string"==typeof a?(n=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=r?0:e.length-1),a<0&&(a=e.length+a),a>=e.length){if(r)return-1;a=e.length-1}else if(a<0){if(!r)return-1;a=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:y(e,t,a,n,r);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,a):Uint8Array.prototype.lastIndexOf.call(e,t,a):y(e,[t],a,n,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,a,n,r){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,a/=2}var u;if(r){var d=-1;for(u=a;u<s;u++)if(i(e,u)===i(t,-1===d?0:u-d)){if(-1===d&&(d=u),u-d+1===l)return d*o}else-1!==d&&(u-=u-d),d=-1}else for(a+l>s&&(a=s-l),u=a;u>=0;u--){for(var c=!0,f=0;f<l;f++)if(i(e,u+f)!==i(t,f)){c=!1;break}if(c)return u}return-1}function E(e,t,a,n){a=Number(a)||0;var r=e.length-a;n?(n=Number(n))>r&&(n=r):n=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[a+o]=s}return o}function w(e,t,a,n){return K(G(t,e.length-a),e,a,n)}function C(e,t,a,n){return K(W(t),e,a,n)}function x(e,t,a,n){return C(e,t,a,n)}function M(e,t,a,n){return K($(t),e,a,n)}function S(e,t,a,n){return K(V(t,e.length-a),e,a,n)}function k(e,t,a){return 0===t&&a===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,a))}function T(e,t,a){a=Math.min(e.length,a);for(var n=[],r=t;r<a;){var i=e[r],o=null,s=i>239?4:i>223?3:i>191?2:1;if(r+s<=a){var l,u,d,c;switch(s){case 1:i<128&&(o=i);break;case 2:l=e[r+1],128==(192&l)&&(c=(31&i)<<6|63&l)>127&&(o=c);break;case 3:l=e[r+1],u=e[r+2],128==(192&l)&&128==(192&u)&&(c=(15&i)<<12|(63&l)<<6|63&u)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:l=e[r+1],u=e[r+2],d=e[r+3],128==(192&l)&&128==(192&u)&&128==(192&d)&&(c=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&d)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return P(n)}function P(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var a="",n=0;n<t;)a+=String.fromCharCode.apply(String,e.slice(n,n+=Q));return a}function N(e,t,a){var n="";a=Math.min(e.length,a);for(var r=t;r<a;++r)n+=String.fromCharCode(127&e[r]);return n}function O(e,t,a){var n="";a=Math.min(e.length,a);for(var r=t;r<a;++r)n+=String.fromCharCode(e[r]);return n}function I(e,t,a){var n=e.length;(!t||t<0)&&(t=0),(!a||a<0||a>n)&&(a=n);for(var r="",i=t;i<a;++i)r+=z(e[i]);return r}function R(e,t,a){for(var n=e.slice(t,a),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function A(e,t,a){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>a)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,a,n,r,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(a+n>e.length)throw new RangeError("Index out of range")}function D(e,t,a,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-a,2);r<i;++r)e[a+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function F(e,t,a,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-a,4);r<i;++r)e[a+r]=t>>>8*(n?r:3-r)&255}function U(e,t,a,n,r,i){if(a+n>e.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function j(e,t,a,n,r){return r||U(e,t,a,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,a,n,23,4),a+4}function H(e,t,a,n,r){return r||U(e,t,a,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,a,n,52,8),a+8}function B(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var a,n=e.length,r=null,i=[],o=0;o<n;++o){if((a=e.charCodeAt(o))>55295&&a<57344){if(!r){if(a>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=a;continue}if(a<56320){(t-=3)>-1&&i.push(239,191,189),r=a;continue}a=65536+(r-55296<<10|a-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,a<128){if((t-=1)<0)break;i.push(a)}else if(a<2048){if((t-=2)<0)break;i.push(a>>6|192,63&a|128)}else if(a<65536){if((t-=3)<0)break;i.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return i}function W(e){for(var t=[],a=0;a<e.length;++a)t.push(255&e.charCodeAt(a));return t}function V(e,t){for(var a,n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)a=e.charCodeAt(o),n=a>>8,r=a%256,i.push(r),i.push(n);return i}function $(e){return X.toByteArray(B(e))}function K(e,t,a,n){for(var r=0;r<n&&!(r+a>=t.length||r>=e.length);++r)t[r+a]=e[r];return r}function Y(e){return e!==e}var X=a(1828),Z=a(1829),J=a(1356);t.Buffer=i,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,a){return o(null,e,t,a)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,a){return l(null,e,t,a)},i.allocUnsafe=function(e){return u(null,e)},i.allocUnsafeSlow=function(e){return u(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var a=e.length,n=t.length,r=0,o=Math.min(a,n);r<o;++r)if(e[r]!==t[r]){a=e[r],n=t[r];break}return a<n?-1:n<a?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var a;if(void 0===t)for(t=0,a=0;a<e.length;++a)t+=e[a].length;var n=i.allocUnsafe(t),r=0;for(a=0;a<e.length;++a){var o=e[a];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",a=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,a,n,r){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===a&&(a=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||a>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=a)return 0;if(n>=r)return-1;if(t>=a)return 1;if(t>>>=0,a>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,s=a-t,l=Math.min(o,s),u=this.slice(n,r),d=e.slice(t,a),c=0;c<l;++c)if(u[c]!==d[c]){o=u[c],s=d[c];break}return o<s?-1:s<o?1:0},i.prototype.includes=function(e,t,a){return-1!==this.indexOf(e,t,a)},i.prototype.indexOf=function(e,t,a){return _(this,e,t,a,!0)},i.prototype.lastIndexOf=function(e,t,a){return _(this,e,t,a,!1)},i.prototype.write=function(e,t,a,n){if(void 0===t)n="utf8",a=this.length,t=0;else if(void 0===a&&"string"==typeof t)n=t,a=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(a)?(a|=0,void 0===n&&(n="utf8")):(n=a,a=void 0)}var r=this.length-t;if((void 0===a||a>r)&&(a=r),e.length>0&&(a<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return E(this,e,t,a);case"utf8":case"utf-8":return w(this,e,t,a);case"ascii":return C(this,e,t,a);case"latin1":case"binary":return x(this,e,t,a);case"base64":return M(this,e,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,a);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var a=this.length;e=~~e,t=void 0===t?a:~~t,e<0?(e+=a)<0&&(e=0):e>a&&(e=a),t<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e);var n;if(i.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=i.prototype;else{var r=t-e;n=new i(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},i.prototype.readUIntLE=function(e,t,a){e|=0,t|=0,a||A(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},i.prototype.readUIntBE=function(e,t,a){e|=0,t|=0,a||A(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},i.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,a){e|=0,t|=0,a||A(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,a){e|=0,t|=0,a||A(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var a=this[e]|this[e+1]<<8;return 32768&a?4294901760|a:a},i.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var a=this[e+1]|this[e]<<8;return 32768&a?4294901760|a:a},i.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),Z.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),Z.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),Z.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),Z.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,a,n){if(e=+e,t|=0,a|=0,!n){L(this,e,t,a,Math.pow(2,8*a)-1,0)}var r=1,i=0;for(this[t]=255&e;++i<a&&(r*=256);)this[t+i]=e/r&255;return t+a},i.prototype.writeUIntBE=function(e,t,a,n){if(e=+e,t|=0,a|=0,!n){L(this,e,t,a,Math.pow(2,8*a)-1,0)}var r=a-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+a},i.prototype.writeUInt8=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,a,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*a-1);L(this,e,t,a,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<a&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+a},i.prototype.writeIntBE=function(e,t,a,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*a-1);L(this,e,t,a,r-1,-r)}var i=a-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+a},i.prototype.writeInt8=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,a){return e=+e,t|=0,a||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,a){return j(this,e,t,!0,a)},i.prototype.writeFloatBE=function(e,t,a){return j(this,e,t,!1,a)},i.prototype.writeDoubleLE=function(e,t,a){return H(this,e,t,!0,a)},i.prototype.writeDoubleBE=function(e,t,a){return H(this,e,t,!1,a)},i.prototype.copy=function(e,t,a,n){if(a||(a=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<a&&(n=a),n===a)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-a&&(n=e.length-t+a);var r,o=n-a;if(this===e&&a<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+a];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+a];else Uint8Array.prototype.set.call(e,this.subarray(a,a+o),t);return o},i.prototype.fill=function(e,t,a,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,a=this.length):"string"==typeof a&&(n=a,a=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<a)throw new RangeError("Out of range index");if(a<=t)return this;t>>>=0,a=void 0===a?this.length:a>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<a;++o)this[o]=e;else{var s=i.isBuffer(e)?e:G(new i(e,n).toString()),l=s.length;for(o=0;o<a-t;++o)this[o+t]=s[o%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,a(22))},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=a(1955),i=n(r),o=a(2026),s=n(o),l=a(2051),u=n(l),d=a(2052),c=n(d),f=a(2053),p=n(f),h=a(2054),m=n(h);t.hover=c.default,t.handleHover=c.default,t.handleActive=p.default,t.loop=m.default;var g=t.ReactCSS=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=(0,i.default)(a),o=(0,s.default)(e,r);return(0,u.default)(o)};t.default=g},,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.state={},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=_.default.createElement(y.FormattedMessage,{id:"loading_screen.loading",defaultMessage:"Loading"});return this.props.message&&(e=this.props.message),_.default.createElement("div",{className:"loading-screen",style:(0,i.default)({position:this.props.position},this.props.style)},_.default.createElement("div",{className:"loading__content"},_.default.createElement("h3",null,e),_.default.createElement("div",{className:"round round-1"}),_.default.createElement("div",{className:"round round-2"}),_.default.createElement("div",{className:"round round-3"})))}}]),t}(_.default.Component);E.propTypes={position:v.default.oneOf(["absolute","fixed","relative","static","inherit"]),style:v.default.object,message:v.default.node},E.defaultProps={position:"relative",style:{}},t.default=E},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2055);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return n(r).default}});var i=a(1432);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return n(i).default}});var o=a(2058);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return n(o).default}});var s=a(2059);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return n(s).default}});var l=a(2061);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return n(l).default}});var u=a(2066);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return n(u).default}});var d=a(1433);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return n(d).default}});var c=a(2071);Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return n(c).default}})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){E.Client4.getOAuthAppInfo(e).then(function(e){t&&t(e)}).catch(function(e){a&&a(e)})}function o(e,t,a){var n=e.get("response_type"),r=e.get("client_id"),i=e.get("redirect_uri"),o=e.get("state"),s=e.get("scope");E.Client4.authorizeOAuthApp(n,r,i,o,s).then(function(e){t&&t(e)}).catch(function(e){a&&a(e)})}function s(e){return{type:S.ActionTypes.SET_NAVIGATION_BLOCKED,blocked:e}}function l(e){return{type:S.ActionTypes.DEFER_NAVIGATION,onNavigationConfirmed:e}}function u(){return{type:S.ActionTypes.CANCEL_NAVIGATION}}function d(){return function(e,t){var a=(0,C.getOnNavigationConfirmed)(t());a&&a(),e({type:S.ActionTypes.CONFIRM_NAVIGATION})}}Object.defineProperty(t,"__esModule",{value:!0}),t.elasticsearchPurgeIndexes=t.elasticsearchTest=t.getUsersPerDayAnalytics=t.getPostsPerDayAnalytics=t.getAdvancedAnalytics=t.getStandardAnalytics=t.removeIdpSamlCertificate=t.removePrivateSamlCertificate=t.removePublicSamlCertificate=t.uploadIdpSamlCertificate=t.uploadPrivateSamlCertificate=t.uploadPublicSamlCertificate=t.removeLicenseFile=t.uploadLicenseFile=t.uploadBrandImage=t.oauthToEmail=t.emailToOAuth=t.emailToLdap=t.samlCertificateStatus=t.adminResetPassword=t.recycleDatabaseConnection=t.invalidateAllCaches=t.ldapTest=t.testEmail=t.getClusterStatus=t.adminResetMfa=t.reloadConfig=t.saveConfig=void 0;var c=a(67),f=r(c),p=a(28),h=r(p),m=a(68),g=r(m);t.saveConfig=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.updateConfig(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.reloadConfig=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.reloadConfig()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?(b.getConfig()(k,T),t(r)):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.adminResetMfa=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.updateUserMfa(t,!1)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.getClusterStatus=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getClusterStatus()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.testEmail=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.testEmail(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.ldapTest=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.testLdap()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.invalidateAllCaches=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.invalidateCaches()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.recycleDatabaseConnection=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.recycleDatabase()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.adminResetPassword=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n,r,i){var o,s,l;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.updateUserPassword(t,a,n)(k,T);case 2:o=e.sent,s=o.data,l=o.error,s&&r?r(s):l&&i&&i((0,h.default)({id:l.server_error_id},l));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),t.samlCertificateStatus=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getSamlCertificateStatus()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.emailToLdap=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n,r,i,o,s){var l,u,d;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.switchEmailToLdap(t,a,r,i,n)(k,T);case 2:l=e.sent,u=l.data,d=l.error,u&&o?o(u):d&&s&&s((0,h.default)({id:d.server_error_id},d));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,i,o,s){return e.apply(this,arguments)}}(),t.emailToOAuth=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n,r,i,o){var s,l,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.switchEmailToOAuth(r,t,a,n)(k,T);case 2:s=e.sent,l=s.data,u=s.error,l&&i?i(l):u&&o&&o((0,h.default)({id:u.server_error_id},u));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,i,o){return e.apply(this,arguments)}}(),t.oauthToEmail=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n,r,i){var o,s,l;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.switchOAuthToEmail(t,a,n)(k,T);case 2:o=e.sent,s=o.data,l=o.error,s?(s.follow_link&&(0,w.clientLogout)(s.follow_link),r&&r(s)):l&&i&&i((0,h.default)({id:l.server_error_id},l));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),t.uploadBrandImage=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.uploadBrandImage(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.uploadLicenseFile=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.uploadLicense(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.removeLicenseFile=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.removeLicense()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.uploadPublicSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.uploadPublicSamlCertificate(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.uploadPrivateSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.uploadPrivateSamlCertificate(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.uploadIdpSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.uploadIdpSamlCertificate(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.removePublicSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.removePublicSamlCertificate()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.removePrivateSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.removePrivateSamlCertificate()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.removeIdpSamlCertificate=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.removeIdpSamlCertificate()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.getStandardAnalytics=function(){var e=(0,g.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getStandardAnalytics(t)(k,T);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getAdvancedAnalytics=function(){var e=(0,g.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getAdvancedAnalytics(t)(k,T);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getPostsPerDayAnalytics=function(){var e=(0,g.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPostsPerDayAnalytics(t)(k,T);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getUsersPerDayAnalytics=function(){var e=(0,g.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUsersPerDayAnalytics(t)(k,T);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.elasticsearchTest=function(){var e=(0,g.default)(f.default.mark(function e(t,a,n){var r,i,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.testElasticsearch(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,h.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.elasticsearchPurgeIndexes=function(){var e=(0,g.default)(f.default.mark(function e(t,a){var n,r,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.purgeElasticsearchIndexes()(k,T);case 2:n=e.sent,r=n.data,i=n.error,r&&t?t(r):i&&a&&a((0,h.default)({id:i.server_error_id},i));case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}();t.getOAuthAppInfo=i,t.allowOAuth2=o,t.setNavigationBlocked=s,t.deferNavigation=l,t.cancelNavigation=u,t.confirmNavigation=d;var v=a(1179),b=n(v),_=a(82),y=n(_),E=a(23),w=a(142),C=a(1218),x=a(40),M=r(x),S=a(12),k=M.default.dispatch,T=M.default.getState},,function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e||"string"!=typeof e)return"";var a=e,n=(0,P.default)({},t);return n.searchPatterns=m(n.searchTerm).map(g),"markdown"in n&&!n.markdown?(a=s(a),a=o(a,n)):a=z.format(a,n),n.singleline&&(a=_(a)),a}function o(e,t){var a=e,n=new k.default;return t.atMentions&&(a=u(a,n)),t.channelNamesMap&&(a=d(a,n,t.channelNamesMap,t.team)),a=l(a,n),a=h(a,n),"emoticons"in t&&!t.emoticon||(a=B.handleEmoticons(a,n)),t.searchPatterns&&(a=v(a,n,t.searchPatterns)),"mentionHighlight"in t&&!t.mentionHighlight||(a=p(a,n,t.mentionKeys)),"emoticons"in t&&!t.emoticon||(a=R.default.parse(a,{className:"emoticon",callback:function(e){return F.default.hasUnicode(e)?F.default.getEmojiImageUrl(F.default.getUnicode(e)):null}})),a=b(a,n)}function s(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/'/g,"&apos;"),t=t.replace(/"/g,"&quot;")}function l(e,t){function a(e){var a=e.getMatchedText(),n=a;"email"===e.getType()&&(n="mailto:"+n);var r=t.size,i="$MM_EMAIL"+r;return t.set(i,{value:'<a class="theme" href="'+n+'">'+a+"</a>",originalText:a}),i}return new O.default({urls:!1,email:!0,phone:!1,mention:!1,hashtag:!1,replaceFn:a}).link(e)}function u(e,t){function a(e,a){var n=t.size,r="$MM_ATMENTION"+n;return t.set(r,{value:'<span data-mention="'+a+'">@'+a+"</span>",originalText:e}),r}var n=e;return n=n.replace(/\B@([a-z0-9.\-_]*)/gi,a)}function d(e,t,a,n){function r(e){return Boolean(a[e])}function i(e,a,r){var i=t.size,o="$MM_CHANNELMENTION"+i,s="#";return n&&(s="/"+n.name+"/channels/"+e),t.set(o,{value:'<a class="mention-link" href="'+s+'" data-channel-mention="'+e+'">~'+r+"</a>",originalText:a}),o}function o(e,t,n,o){var s=o.toLowerCase();if(r(s)){return t+i(s,n,f(a[s].display_name))}for(var l=s,u=s.length;u>0&&G.test(s[u-1]);u--)if(s=s.substring(0,u-1),r(s)){var d=l.substr(u-1),c=i(s,"~"+s,f(a[s].display_name));return t+c+d}return e}var s=e;return s=s.replace(/(^|\s)(~([a-z0-9.\-_]*))/gi,o)}function c(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function f(e){return e.replace(/[&<>"']/g,function(e){return V[e]})}function p(e,t){function a(e,a,n){var r=t.size,i="$MM_SELFMENTION"+r;return t.set(i,{value:"<span class='mention--highlight'>"+n+"</span>",originalText:n}),a+i}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e,i=new k.default,o=!0,s=!1,l=void 0;try{for(var u,d=(0,M.default)(t);!(o=(u=d.next()).done);o=!0)!function(){var e=(0,C.default)(u.value,2),a=e[0],o=e[1];if(-1!==n.findIndex(function(e){return e.key===o.originalText})){var s=t.size+i.size,l="$MM_SELFMENTION"+s;i.set(l,{value:"<span class='mention--highlight'>"+a+"</span>",originalText:o.originalText}),r=r.replace(a,l)}}()}catch(e){s=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw l}}var f=!0,p=!1,h=void 0;try{for(var m,g=(0,M.default)(i);!(f=(m=g.next()).done);f=!0){var v=m.value;t.set(v[0],v[1])}}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}var b=!0,_=!1,y=void 0;try{for(var E,w=(0,M.default)(n);!(b=(E=w.next()).done);b=!0){var x=E.value;if(x&&x.key){var S="g";x.caseSensitive||(S+="i"),r=r.replace(new RegExp("(^|\\W)("+c(x.key)+")\\b",S),a)}}}catch(e){_=!0,y=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw y}}return r}function h(e,t){function a(a,n,r){var i=t.size,o="$MM_HASHTAG"+i;return e.length<j.default.MIN_HASHTAG_LINK_LENGTH+1?a:(t.set(o,{value:"<a class='mention-link' href='#' data-hashtag='"+r+"'>"+r+"</a>",originalText:r,hashtag:r.substring(1)}),n+o)}var n=e,r=new k.default,i=!0,o=!1,s=void 0;try{for(var l,u=(0,M.default)(t);!(i=(l=u.next()).done);i=!0){var d=(0,C.default)(l.value,2),c=d[0],f=d[1];if(0===f.originalText.lastIndexOf("#",0)){var p=t.size+r.size,h="$MM_HASHTAG"+p;r.set(h,{value:"<a class='mention-link' href='#' data-hashtag='"+f.originalText+"'>"+f.originalText+"</a>",originalText:f.originalText,hashtag:f.originalText.substring(1)}),n=n.replace(c,h)}}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}var m=!0,g=!1,v=void 0;try{for(var b,_=(0,M.default)(r);!(m=(b=_.next()).done);m=!0){var y=b.value;t.set(y[0],y[1])}}catch(e){g=!0,v=e}finally{try{!m&&_.return&&_.return()}finally{if(g)throw v}}return n.replace(L.default.cache("(^|\\W)(#\\pL[\\pL\\d\\-_.]*[\\pL\\d])","g"),a)}function m(e){for(var t=[],a=e;a;){var n=void 0;if(n=/^"(.*?)"/.exec(a))a=a.substring(n[0].length),t.push(n[1]);else if(n=/^(?:in|from|channel): ?\S+/.exec(a))a=a.substring(n[0].length);else if(n=/^@\w+\b/.exec(a))a=a.substring(n[0].length),t.push(n[0]);else{if(!(n=/^.+?(?=\bin:|\bfrom:|\bchannel:|"|$)/.exec(a)))throw new Error('Infinite loop in search term parsing: "'+a+'"');var r;a=a.substring(n[0].length),(r=t).push.apply(r,(0,E.default)(n[0].split(/[ <>+()~@]/).filter(function(e){return Boolean(e)})))}}return t=t.map(function(e){return e.replace($,""),"*"!==e.charAt(e.length-1)&&e.replace(K,""),e})}function g(e){var t=void 0;return t=W.test(e)?"()("+c(e.replace(/\*/g,""))+")":e.endsWith("*")?"\\b()("+c(e.substring(0,e.length-1))+")":e.startsWith("@")||e.startsWith("#")?"(\\W|^)("+c(e)+")\\b":"\\b()("+c(e)+")\\b",{pattern:new RegExp(t,"gi"),term:e}}function v(e,t,a){function n(e,a,n){var r=t.size,i="$MM_SEARCHTERM"+r;return t.set(i,{value:"<span class='search-highlight'>"+n+"</span>",originalText:n}),a+i}if(!a||0===a.length)return e;var r=e,i=!0,o=!1,s=void 0;try{for(var l,u=(0,M.default)(a);!(i=(l=u.next()).done);i=!0){var d=l.value,c=new k.default,f=!0,p=!1,h=void 0;try{for(var m,g=(0,M.default)(t);!(f=(m=g.next()).done);f=!0){var v=(0,C.default)(m.value,2),b=v[0],_=v[1];if(d.pattern.test(_.originalText)){var y=_.originalText;y.startsWith("#")&&(y=y.substr(1));var E=d.term;if(E.startsWith("#")&&(E=E.substr(1)),b.startsWith("$MM_HASHTAG")&&y!==E)continue;var w=t.size+c.size,x="$MM_SEARCHTERM"+w;c.set(x,{value:"<span class='search-highlight'>"+b+"</span>",originalText:_.originalText}),r=r.replace(b,x)}d.pattern.lastIndex=0}}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}var S=!0,T=!1,P=void 0;try{for(var N,O=(0,M.default)(c);!(S=(N=O.next()).done);S=!0){var I=N.value;t.set(I[0],I[1])}}catch(e){T=!0,P=e}finally{try{!S&&O.return&&O.return()}finally{if(T)throw P}}r=r.replace(d.pattern,n)}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return r}function b(e,t){for(var a=e,n=[].concat((0,E.default)(t.keys())),r=n.length-1;r>=0;r--){var i=n[r],o=t.get(i);a=a.replace(i,o.value)}return a}function _(e){return e.replace(/\n/g," ")}Object.defineProperty(t,"__esModule",{value:!0});var y=a(217),E=r(y),w=a(177),C=r(w),x=a(70),M=r(x),S=a(218),k=r(S),T=a(88),P=r(T);t.formatText=i,t.doFormatText=o,t.sanitizeHtml=s,t.autolinkAtMentions=u,t.escapeRegex=c,t.escapeHtml=f,t.highlightSearchTerms=v,t.replaceTokens=b;var N=a(1616),O=r(N),I=a(1617),R=r(I),A=a(1261),L=r(A),D=a(306),F=r(D),U=a(12),j=r(U),H=a(472),B=n(H),q=a(1626),z=n(q),G=L.default.cache("[^\\pL\\d]"),W=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf\uac00-\ud7a3]/,V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},$=L.default.cache("^[^\\pL\\d\\s#]+"),K=L.default.cache("[^\\pL\\d\\s]+$")},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.handleKeypress=function(e){"Enter"===e.key&&n.props.show&&n.handleConfirm()},n.handleConfirm=function(){var e=!!n.refs.checkbox&&n.refs.checkbox.checked;n.props.onConfirm(e)},n.handleCancel=function(){var e=!!n.refs.checkbox&&n.refs.checkbox.checked;n.props.onCancel(e)},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.show&&document.addEventListener("keypress",this.handleKeypress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.handleKeypress)}},{key:"componentWillReceiveProps",value:function(e){this.props.show&&!e.show?document.removeEventListener("keypress",this.handleKeypress):!this.props.show&&e.show&&document.addEventListener("keypress",this.handleKeypress)}},{key:"render",value:function(){var e=void 0;this.props.showCheckbox&&(e=v.default.createElement("div",{className:"checkbox text-right margin-bottom--none"},v.default.createElement("label",null,v.default.createElement("input",{ref:"checkbox",type:"checkbox"}),this.props.checkboxText)));var t=void 0;return t=this.props.cancelButtonText?this.props.cancelButtonText:v.default.createElement(_.FormattedMessage,{id:"confirm_modal.cancel",defaultMessage:"Cancel"}),v.default.createElement(b.Modal,{className:"modal-confirm "+this.props.modalClass,show:this.props.show,onHide:this.props.onCancel},v.default.createElement(b.Modal.Header,{closeButton:!1},v.default.createElement(b.Modal.Title,null,this.props.title)),v.default.createElement(b.Modal.Body,null,this.props.message,e),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},t),v.default.createElement("button",{type:"button",className:this.props.confirmButtonClass,onClick:this.handleConfirm},this.props.confirmButtonText)))}}]),t}(v.default.Component);y.propTypes={show:m.default.bool.isRequired,title:m.default.node,message:m.default.node,confirmButtonClass:m.default.string,modalClass:m.default.string,confirmButtonText:m.default.node,cancelButtonText:m.default.node,showCheckbox:m.default.bool,checkboxText:m.default.node,onConfirm:m.default.func.isRequired,onCancel:m.default.func.isRequired},y.defaultProps={title:"",message:"",confirmButtonClass:"btn btn-primary",confirmButtonText:"",modalClass:""},t.default=y},,function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,i){try{var o=t[r](i),s=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function r(e){return(0,A.bindClientFunc)(I.Client4.createIncomingWebhook,P.IntegrationTypes.CREATE_INCOMING_HOOK_REQUEST,[P.IntegrationTypes.RECEIVED_INCOMING_HOOK,P.IntegrationTypes.CREATE_INCOMING_HOOK_SUCCESS],P.IntegrationTypes.CREATE_INCOMING_HOOK_FAILURE,e)}function i(e){return(0,A.bindClientFunc)(I.Client4.getIncomingWebhook,P.IntegrationTypes.GET_INCOMING_HOOKS_REQUEST,[P.IntegrationTypes.RECEIVED_INCOMING_HOOK,P.IntegrationTypes.GET_INCOMING_HOOKS_SUCCESS],P.IntegrationTypes.GET_INCOMING_HOOKS_FAILURE,e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.General.PAGE_SIZE_DEFAULT;return(0,A.bindClientFunc)(I.Client4.getIncomingWebhooks,P.IntegrationTypes.GET_INCOMING_HOOKS_REQUEST,[P.IntegrationTypes.RECEIVED_INCOMING_HOOKS,P.IntegrationTypes.GET_INCOMING_HOOKS_SUCCESS],P.IntegrationTypes.GET_INCOMING_HOOKS_FAILURE,e,t,a)}function s(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P.IntegrationTypes.DELETE_INCOMING_HOOK_REQUEST},r),t.prev=1,t.next=4,I.Client4.removeIncomingWebhook(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,A.forceLogoutIfNecessary)(t.t0,n,r),n((0,O.batchActions)([{type:P.IntegrationTypes.DELETE_INCOMING_HOOK_FAILURE,error:t.t0},(0,R.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 11:return n((0,O.batchActions)([{type:P.IntegrationTypes.DELETED_INCOMING_HOOK,data:{id:e}},{type:P.IntegrationTypes.DELETE_INCOMING_HOOK_SUCCESS}]),r),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function l(e){return(0,A.bindClientFunc)(I.Client4.updateIncomingWebhook,P.IntegrationTypes.UPDATE_INCOMING_HOOK_REQUEST,[P.IntegrationTypes.RECEIVED_INCOMING_HOOK,P.IntegrationTypes.UPDATE_INCOMING_HOOK_SUCCESS],P.IntegrationTypes.UPDATE_INCOMING_HOOK_FAILURE,e)}function u(e){return(0,A.bindClientFunc)(I.Client4.createOutgoingWebhook,P.IntegrationTypes.CREATE_OUTGOING_HOOK_REQUEST,[P.IntegrationTypes.RECEIVED_OUTGOING_HOOK,P.IntegrationTypes.CREATE_OUTGOING_HOOK_SUCCESS],P.IntegrationTypes.CREATE_OUTGOING_HOOK_FAILURE,e)}function d(e){return(0,A.bindClientFunc)(I.Client4.getOutgoingWebhook,P.IntegrationTypes.GET_OUTGOING_HOOKS_REQUEST,[P.IntegrationTypes.RECEIVED_OUTGOING_HOOK,P.IntegrationTypes.GET_OUTGOING_HOOKS_SUCCESS],P.IntegrationTypes.GET_OUTGOING_HOOKS_FAILURE,e)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.General.PAGE_SIZE_DEFAULT;return(0,A.bindClientFunc)(I.Client4.getOutgoingWebhooks,P.IntegrationTypes.GET_OUTGOING_HOOKS_REQUEST,[P.IntegrationTypes.RECEIVED_OUTGOING_HOOKS,P.IntegrationTypes.GET_OUTGOING_HOOKS_SUCCESS],P.IntegrationTypes.GET_OUTGOING_HOOKS_FAILURE,e,t,a,n)}function f(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P.IntegrationTypes.DELETE_OUTGOING_HOOK_REQUEST},r),t.prev=1,t.next=4,I.Client4.removeOutgoingWebhook(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,A.forceLogoutIfNecessary)(t.t0,n,r),n((0,O.batchActions)([{type:P.IntegrationTypes.DELETE_OUTGOING_HOOK_FAILURE,error:t.t0},(0,R.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 11:return n((0,O.batchActions)([{type:P.IntegrationTypes.DELETED_OUTGOING_HOOK,data:{id:e}},{type:P.IntegrationTypes.DELETE_OUTGOING_HOOK_SUCCESS}]),r),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function p(e){return(0,A.bindClientFunc)(I.Client4.updateOutgoingWebhook,P.IntegrationTypes.UPDATE_OUTGOING_HOOK_REQUEST,[P.IntegrationTypes.RECEIVED_OUTGOING_HOOK,P.IntegrationTypes.UPDATE_OUTGOING_HOOK_SUCCESS],P.IntegrationTypes.UPDATE_OUTGOING_HOOK_FAILURE,e)}function h(e){return(0,A.bindClientFunc)(I.Client4.regenOutgoingHookToken,P.IntegrationTypes.UPDATE_OUTGOING_HOOK_REQUEST,[P.IntegrationTypes.RECEIVED_OUTGOING_HOOK,P.IntegrationTypes.UPDATE_OUTGOING_HOOK_SUCCESS],P.IntegrationTypes.UPDATE_OUTGOING_HOOK_FAILURE,e)}function m(e){return(0,A.bindClientFunc)(I.Client4.getCommandsList,P.IntegrationTypes.GET_COMMANDS_REQUEST,[P.IntegrationTypes.RECEIVED_COMMANDS,P.IntegrationTypes.GET_COMMANDS_SUCCESS],P.IntegrationTypes.GET_COMMANDS_FAILURE,e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.General.PAGE_SIZE_DEFAULT;return(0,A.bindClientFunc)(I.Client4.getAutocompleteCommandsList,P.IntegrationTypes.GET_AUTOCOMPLETE_COMMANDS_REQUEST,[P.IntegrationTypes.RECEIVED_COMMANDS,P.IntegrationTypes.GET_AUTOCOMPLETE_COMMANDS_SUCCESS],P.IntegrationTypes.GET_AUTOCOMPLETE_COMMANDS_FAILURE,e,t,a)}function v(e){return(0,A.bindClientFunc)(I.Client4.getCustomTeamCommands,P.IntegrationTypes.GET_CUSTOM_TEAM_COMMANDS_REQUEST,[P.IntegrationTypes.RECEIVED_CUSTOM_TEAM_COMMANDS,P.IntegrationTypes.GET_CUSTOM_TEAM_COMMANDS_SUCCESS],P.IntegrationTypes.GET_CUSTOM_TEAM_COMMANDS_FAILURE,e)}function b(e){return(0,A.bindClientFunc)(I.Client4.addCommand,P.IntegrationTypes.ADD_COMMAND_REQUEST,[P.IntegrationTypes.RECEIVED_COMMAND,P.IntegrationTypes.ADD_COMMAND_SUCCESS],P.IntegrationTypes.ADD_COMMAND_FAILURE,e)}function _(e){return(0,A.bindClientFunc)(I.Client4.editCommand,P.IntegrationTypes.EDIT_COMMAND_REQUEST,[P.IntegrationTypes.RECEIVED_COMMAND,P.IntegrationTypes.EDIT_COMMAND_SUCCESS],P.IntegrationTypes.EDIT_COMMAND_FAILURE,e)}function y(e,t){return(0,A.bindClientFunc)(I.Client4.executeCommand,P.IntegrationTypes.EXECUTE_COMMAND_REQUEST,P.IntegrationTypes.EXECUTE_COMMAND_SUCCESS,P.IntegrationTypes.EXECUTE_COMMAND_FAILURE,e,t)}function E(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P.IntegrationTypes.REGEN_COMMAND_TOKEN_REQUEST},r),i=void 0,t.prev=2,t.next=5,I.Client4.regenCommandToken(e);case 5:i=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(2),(0,A.forceLogoutIfNecessary)(t.t0,n,r),n((0,O.batchActions)([{type:P.IntegrationTypes.REGEN_COMMAND_TOKEN_FAILURE,error:t.t0},(0,R.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 13:return n((0,O.batchActions)([{type:P.IntegrationTypes.RECEIVED_COMMAND_TOKEN,data:{id:e,token:i.token}},{type:P.IntegrationTypes.REGEN_COMMAND_TOKEN_SUCCESS}]),r),t.abrupt("return",{data:!0});case 15:case"end":return t.stop()}},a,t,[[2,8]])}));return function(e,t){return a.apply(this,arguments)}}()}function w(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P.IntegrationTypes.DELETE_COMMAND_REQUEST},r),t.prev=1,t.next=4,I.Client4.deleteCommand(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,A.forceLogoutIfNecessary)(t.t0,n,r),n((0,O.batchActions)([{type:P.IntegrationTypes.DELETE_COMMAND_FAILURE,error:t.t0},(0,R.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 11:return n((0,O.batchActions)([{type:P.IntegrationTypes.DELETED_COMMAND,data:{id:e}},{type:P.IntegrationTypes.DELETE_COMMAND_SUCCESS}]),r),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function C(e){return(0,A.bindClientFunc)(I.Client4.createOAuthApp,P.IntegrationTypes.ADD_OAUTH_APP_REQUEST,[P.IntegrationTypes.RECEIVED_OAUTH_APP,P.IntegrationTypes.ADD_OAUTH_APP_SUCCESS],P.IntegrationTypes.ADD_OAUTH_APP_FAILURE,e)}function x(e){return(0,A.bindClientFunc)(I.Client4.editOAuthApp,P.IntegrationTypes.UPDATE_OAUTH_APP_REQUEST,[P.IntegrationTypes.RECEIVED_OAUTH_APP,P.IntegrationTypes.UPDATE_OAUTH_APP_SUCCESS],P.IntegrationTypes.UPDATE_OAUTH_APP_FAILURE,e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.General.PAGE_SIZE_DEFAULT;return(0,A.bindClientFunc)(I.Client4.getOAuthApps,P.IntegrationTypes.GET_OAUTH_APPS_REQUEST,[P.IntegrationTypes.RECEIVED_OAUTH_APPS,P.IntegrationTypes.GET_OAUTH_APPS_SUCCESS],P.IntegrationTypes.GET_OAUTH_APPS_FAILURE,e,t)}function S(e){return(0,A.bindClientFunc)(I.Client4.getOAuthApp,P.IntegrationTypes.GET_OAUTH_APP_REQUEST,[P.IntegrationTypes.RECEIVED_OAUTH_APP,P.IntegrationTypes.GET_OAUTH_APP_SUCCESS],P.IntegrationTypes.GET_OAUTH_APP_FAILURE,e)}function k(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P.IntegrationTypes.DELETE_OAUTH_APP_REQUEST},r),t.prev=1,t.next=4,I.Client4.deleteOAuthApp(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,A.forceLogoutIfNecessary)(t.t0,n,r),n((0,O.batchActions)([{type:P.IntegrationTypes.DELETE_OAUTH_APP_FAILURE,error:t.t0},(0,R.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 11:return n((0,O.batchActions)([{type:P.IntegrationTypes.DELETED_OAUTH_APP,data:{id:e}},{type:P.IntegrationTypes.DELETE_OAUTH_APP_SUCCESS}]),r),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function T(e){return(0,A.bindClientFunc)(I.Client4.regenOAuthAppSecret,P.IntegrationTypes.UPDATE_OAUTH_APP_REQUEST,[P.IntegrationTypes.RECEIVED_OAUTH_APP,P.IntegrationTypes.UPDATE_OAUTH_APP_SUCCESS],P.IntegrationTypes.UPDATE_OAUTH_APP_FAILURE,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createIncomingHook=r,t.getIncomingHook=i,t.getIncomingHooks=o,t.removeIncomingHook=s,t.updateIncomingHook=l,t.createOutgoingHook=u,t.getOutgoingHook=d,t.getOutgoingHooks=c,t.removeOutgoingHook=f,t.updateOutgoingHook=p,t.regenOutgoingHookToken=h,t.getCommands=m,t.getAutocompleteCommands=g,t.getCustomTeamCommands=v,t.addCommand=b,t.editCommand=_,t.executeCommand=y,t.regenCommandToken=E,t.deleteCommand=w,t.addOAuthApp=C,t.editOAuthApp=x,t.getOAuthApps=M,t.getOAuthApp=S,t.deleteOAuthApp=k,t.regenOAuthAppSecret=T;var P=a(10),N=a(18),O=a(83),I=a(23),R=a(92),A=a(91)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n,r){var i=this;b.Client4.addToTeamFromInvite(t,e,a).then(function(){var e=(0,f.default)(l.default.mark(function e(t){var a,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getTeam(t.team_id)(k,T);case 2:a=e.sent,r=a.data,k({type:p.TeamTypes.RECEIVED_MY_TEAM_MEMBER,data:(0,d.default)({},t,{delete_at:0,msg_count:0,mention_count:0})}),n&&n(r);case 6:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r&&r(e)})}function i(e,t,a){b.Client4.getTeamInviteInfo(e).then(function(e){t&&t(e)}).catch(function(e){a&&a(e)})}function o(e){(0,h.viewChannel)(E.default.getCurrentId())(k,T),_.browserHistory.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamMembersForUser=t.getTeamsForUser=t.inviteMembers=t.addUsersToTeam=t.updateTeamMemberRoles=t.removeUserFromTeam=t.updateTeam=t.createTeam=t.checkIfTeamExists=void 0;var s=a(67),l=n(s),u=a(28),d=n(u),c=a(68),f=n(c);t.checkIfTeamExists=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.checkIfTeamExists(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,null!=i&&a?a(i):o&&n&&n((0,d.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.createTeam=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.createTeam(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,d.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.updateTeam=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.updateTeam(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?(_.browserHistory.push("/"+i.name+"/channels/"+S.Constants.DEFAULT_CHANNEL),a(i)):o&&n&&n((0,d.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.removeUserFromTeam=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n,r){var i,o,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.removeUserFromTeam(t,a)(k,T);case 2:i=e.sent,o=i.data,s=i.error,(0,v.getUser)(a)(k,T),g.getTeamStats(t)(k,T),(0,h.getChannelStats)(E.default.getCurrentId())(k,T),o&&n?n():s&&r&&r((0,d.default)({id:s.server_error_id},s));case 9:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),t.updateTeamMemberRoles=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n,r,i){var o,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.updateTeamMemberRoles(t,a,n)(k,T);case 2:o=e.sent,s=o.data,u=o.error,s&&r?r():u&&i&&i((0,d.default)({id:u.server_error_id},u));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),t.addUsersToTeam=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n,r){var i,o,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addUsersToTeam(t,a)(k,T);case 2:i=e.sent,o=i.data,s=i.error,(0,h.getChannelStats)(E.default.getCurrentId())(k,T),o&&n?n(o):s&&r&&r((0,d.default)({id:s.server_error_id},s));case 7:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),t.inviteMembers=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.invites||a(),r=[],t.invites.forEach(function(e){r.push(e.email)}),e.next=5,g.sendEmailInvitesToTeam(M.default.getCurrentId(),r)(k,T);case 5:i=e.sent,o=i.data,s=i.error,o&&a?a():null==o&&n&&n((0,d.default)({id:s.server_error_id},s));case 9:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.getTeamsForUser=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getTeamsForUser(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,d.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.getTeamMembersForUser=function(){var e=(0,f.default)(l.default.mark(function e(t,a,n){var r,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getTeamMembersForUser(t)(k,T);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,d.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}();t.addUserToTeamFromInvite=r,t.getInviteInfo=i,t.switchTeams=o;var p=a(10),h=a(90),m=a(173),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),v=a(82),b=a(23),_=a(81),y=a(48),E=n(y),w=a(40),C=n(w),x=a(59),M=n(x),S=a(12),k=C.default.dispatch,T=C.default.getState},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(70),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){if(!this.props.error&&0===this.props.errors.length)return null;var e=this.props.error;if(!e){var t=!0,a=!1,n=void 0;try{for(var r,o=(0,i.default)(this.props.errors);!(t=(r=o.next()).done);t=!0){var s=r.value;s&&(e=s)}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}}return e?"modal"===this.props.type?_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"col-sm-12 has-error"},e)):"backstage"===this.props.type?_.default.createElement("div",{className:"pull-left has-error"},_.default.createElement("label",{className:"control-label"},e)):this.props.margin?_.default.createElement("div",{className:"form-group has-error"},_.default.createElement("label",{className:"control-label"},e)):_.default.createElement("div",{className:"col-sm-12 has-error"},_.default.createElement("label",{className:"control-label"},e)):null}}],[{key:"propTypes",get:function(){return{type:v.default.node,error:v.default.node,margin:v.default.bool,errors:v.default.arrayOf(v.default.node)}}},{key:"defaultProps",get:function(){return{error:null,errors:[]}}}]),t}(_.default.Component);t.default=y},,,function(e,t,a){"use strict";function n(e,t){function a(){e.classList.add("ps--focus")}function n(){e.classList.remove("ps--focus")}var r=this;r.settings=l();for(var i in t)r.settings[i]=t[i];r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===u.css(e,"direction"),r.isNegativeScroll=function(){var t=e.scrollLeft,a=null;return e.scrollLeft=-1,a=e.scrollLeft<0,e.scrollLeft=t,a}(),r.negativeScrollAdjustment=r.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.event=new d,r.ownerDocument=e.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.create("div","ps__scrollbar-x-rail"),e),r.scrollbarX=u.appendTo(u.create("div","ps__scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",a),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(u.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(u.css(r.scrollbarXRail,"top")),r.railBorderXWidth=s.toInt(u.css(r.scrollbarXRail,"borderLeftWidth"))+s.toInt(u.css(r.scrollbarXRail,"borderRightWidth")),u.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=s.toInt(u.css(r.scrollbarXRail,"marginLeft"))+s.toInt(u.css(r.scrollbarXRail,"marginRight")),u.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.create("div","ps__scrollbar-y-rail"),e),r.scrollbarY=u.appendTo(u.create("div","ps__scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",a),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(u.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(u.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(u.css(r.scrollbarYRail,"borderTopWidth"))+s.toInt(u.css(r.scrollbarYRail,"borderBottomWidth")),u.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=s.toInt(u.css(r.scrollbarYRail,"marginTop"))+s.toInt(u.css(r.scrollbarYRail,"marginBottom")),u.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function i(e,t){e.setAttribute("data-ps-id",t)}function o(e){e.removeAttribute("data-ps-id")}var s=a(1176),l=a(2550),u=a(1191),d=a(2551),c=a(2552),f={};t.add=function(e,t){var a=c();return i(e,a),f[a]=new n(e,t),f[a]},t.remove=function(e){delete f[r(e)],o(e)},t.get=function(e){return f[r(e)]}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(1205),y=n(_),E=a(12),w=n(E),C=a(47),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(C),M=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.onKeyDown=function(e){e.keyCode===w.default.KeyCodes.ENTER&&n.props.submit&&n.handleSubmit(e)},n.handleSubmit=function(e){e.preventDefault(),n.props.setting?n.props.submit(n.props.setting):n.props.submit()},n.handleUpdateSection=function(e){n.props.updateSection(n.props.section),e.preventDefault()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=null;this.props.clientError&&(e=v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{id:"clientError",className:"col-sm-12 has-error"},this.props.clientError)));var t=null;this.props.serverError&&(t=v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{id:"serverError",className:"col-sm-12 has-error"},this.props.serverError)));var a=null,n="setting-list__hint";"top"===this.props.infoPosition&&(n="padding-bottom x2"),this.props.extraInfo&&(a=v.default.createElement("div",{className:n},this.props.extraInfo));var r="";this.props.submit&&(r=v.default.createElement(y.default,{saving:this.props.saving,disabled:this.props.saving,onClick:this.handleSubmit}));var i=this.props.inputs,o=void 0;o="full"===this.props.width?"col-sm-12":"medium"===this.props.width?"col-sm-10 col-sm-offset-2":"col-sm-9 col-sm-offset-3";var s=void 0,l="unknownTitle";this.props.title&&(s=v.default.createElement("li",{className:"col-sm-12 section-title"},this.props.title),l=this.props.title);var u=v.default.createElement("li",{className:"setting-list-item"},i,a);"top"===this.props.infoPosition&&(u=v.default.createElement("li",null,a,i));var d=void 0;return d=this.props.cancelButtonText?this.props.cancelButtonText:v.default.createElement(b.FormattedMessage,{id:"setting_item_max.cancel",defaultMessage:"Cancel"}),v.default.createElement("ul",{className:"section-max form-horizontal"},s,v.default.createElement("li",{className:o},v.default.createElement("ul",{className:"setting-list"},u,v.default.createElement("li",{className:"setting-list-item"},v.default.createElement("hr",null),this.props.submitExtra,t,e,r,v.default.createElement("button",{id:x.createSafeId(l)+"Cancel",className:"btn btn-sm cursor--pointer style--none",onClick:this.handleUpdateSection},d)))))}}]),t}(v.default.PureComponent);M.defaultProps={infoPosition:"bottom",saving:!1,section:""},M.propTypes={inputs:m.default.array,clientError:m.default.string,serverError:m.default.string,extraInfo:m.default.element,infoPosition:m.default.string,section:m.default.string,updateSection:m.default.func,setting:m.default.string,submit:m.default.func,submitExtra:m.default.node,saving:m.default.bool,title:m.default.node,width:m.default.string,cancelButtonText:m.default.node},t.default=M},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===a||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=r(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var d,c,f=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:a}catch(e){d=a}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var p,h=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];h.push(new l(e,t)),1!==h.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var a=Array.isArray;e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(459),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(60),m=n(h),g=a(12),v=n(g),b=a(49),_=n(b),y=v.default.ActionTypes,E=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.addModalListener=function(t,a){e.on(t,a)},e.removeModalListener=function(t,a){e.removeListener(t,a)},e.handleEventPayload=function(t){var a=t.action,n=a.type,r=a.value,o=(0,i.default)(a,["type","value"]);switch(n){case y.TOGGLE_ACCOUNT_SETTINGS_MODAL:case y.TOGGLE_SHORTCUTS_MODAL:case y.TOGGLE_IMPORT_THEME_MODAL:case y.TOGGLE_INVITE_MEMBER_MODAL:case y.TOGGLE_LEAVE_TEAM_MODAL:case y.TOGGLE_DELETE_POST_MODAL:case y.TOGGLE_GET_POST_LINK_MODAL:case y.TOGGLE_GET_TEAM_INVITE_LINK_MODAL:case y.TOGGLE_GET_PUBLIC_LINK_MODAL:case y.TOGGLE_DM_MODAL:case y.TOGGLE_QUICK_SWITCH_MODAL:case y.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL:case y.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL:case y.TOGGLE_CHANNEL_NAME_UPDATE_MODAL:case y.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL:e.emit(n,r,o)}},e.dispatchToken=_.default.register(e.handleEventPayload),e}return(0,p.default)(t,e),t}(m.default),w=new E;t.default=w},function(e,t,a){var n=a(1326),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(464),y=n(_),E=a(468),w=n(E),C=a(1204),x=n(C),M=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.hideProfilePopover=function(){n.refs.overlay.hide()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return this.props.user?v.default.createElement(b.OverlayTrigger,{ref:"overlay",trigger:"click",placement:"right",rootClose:!0,overlay:v.default.createElement(y.default,null,v.default.createElement(w.default,{user:this.props.user,src:this.props.src,status:this.props.status,isBusy:this.props.isBusy,hide:this.hideProfilePopover,isRHS:this.props.isRHS,hasMention:this.props.hasMention}))},v.default.createElement("span",{className:"status-wrapper"},v.default.createElement("img",{className:"more-modal__image",width:this.props.width,height:this.props.width,src:this.props.src}),v.default.createElement(x.default,{status:this.props.status}))):v.default.createElement("span",{className:"status-wrapper"},v.default.createElement("img",{className:"more-modal__image",width:this.props.width,height:this.props.width,src:this.props.src}),v.default.createElement(x.default,{status:this.props.status}))}}]),t}(v.default.PureComponent);M.defaultProps={width:"36",height:"36",isRHS:!1,hasMention:!1},M.propTypes={src:m.default.string.isRequired,status:m.default.string,width:m.default.string,height:m.default.string,user:m.default.object,isBusy:m.default.bool,isRHS:m.default.bool,hasMention:m.default.bool},t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(47),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(_),E=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.handleUpdateSection=function(e){e.preventDefault(),n.props.updateSection(n.props.section)},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=null,t=null;return!this.props.disableOpen&&y.isMobile()?e=v.default.createElement("li",{className:"col-xs-12 col-sm-3 section-edit"},v.default.createElement("button",{id:y.createSafeId(this.props.title)+"Edit",className:"color--link cursor--pointer style--none",onClick:this.handleUpdateSection},v.default.createElement("i",{className:"fa fa-pencil"}),this.props.describe)):this.props.disableOpen||(e=v.default.createElement("li",{className:"col-xs-12 col-sm-3 section-edit"},v.default.createElement("button",{id:y.createSafeId(this.props.title)+"Edit",className:"color--link cursor--pointer style--none text-left",onClick:this.handleUpdateSection},v.default.createElement("i",{className:"fa fa-pencil"}),v.default.createElement(b.FormattedMessage,{id:"setting_item_min.edit",defaultMessage:"Edit"}))),t=v.default.createElement("li",{id:y.createSafeId(this.props.title)+"Desc",className:"col-xs-12 section-describe"},this.props.describe)),v.default.createElement("ul",{className:"section-min",onClick:this.handleUpdateSection},v.default.createElement("li",{id:y.createSafeId(this.props.title)+"Title",className:"col-xs-12 col-sm-9 section-title"},this.props.title),e,t)}}]),t}(v.default.PureComponent);E.defaultProps={section:""},E.propTypes={title:m.default.node,disableOpen:m.default.bool,section:m.default.string,updateSection:m.default.func,describe:m.default.node},t.default=E},,function(e,t,a){e.exports=a(2062)()},,,,function(e,t,a){e.exports=a.p+"files/b4b638e8c6672039f00a5f07cfed24d4.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(457),y=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"signup-header"},v.default.createElement(_.Link,{onClick:this.props.onClick,to:this.props.url},v.default.createElement("span",{className:"fa fa-chevron-left"}),v.default.createElement(b.FormattedMessage,{id:"web.header.back",defaultMessage:"Back"})))}}]),t}(v.default.PureComponent);y.propTypes={url:m.default.string,onClick:m.default.func},y.defaultProps={url:"/"},t.default=y},function(e,t){function a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(35),u=n(l),d=a(31),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=function(e){function t(e){(0,s.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a}return(0,p.default)(t,e),(0,c.default)(t,null,[{key:"propTypes",get:function(){return{item:m.default.object.isRequired,term:m.default.string.isRequired,matchedPretext:m.default.string.isRequired,isSelection:m.default.bool,onClick:m.default.func}}}]),(0,c.default)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(this.props.term,this.props.matchedPretext)}}]),t}(v.default.Component);t.default=b},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=a(2068),i=n(r),o=a(2070),s=n(o);t.default={simpleCheckForValidColor:function(e){var t=["r","g","b","a","h","s","l","v"],a=0,n=0;return(0,i.default)(t,function(t){e[t]&&(a+=1,isNaN(e[t])||(n+=1))}),a===n&&e},toState:function(e,t){var a=e.hex?(0,s.default)(e.hex):(0,s.default)(e),n=a.toHsl(),r=a.toHsv(),i=a.toRgb(),o=a.toHex();return 0===n.s&&(n.h=t||0,r.h=t||0),{hsl:n,hex:"000000"===o&&0===i.a?"transparent":"#"+o,rgb:i,hsv:r,oldHue:e.h||t||n.h,source:e.source}},isValidHex:function(e){return(0,s.default)(e).isValid()}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t,a){"use strict";function n(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function r(e,t){var a={width:t.railXWidth};t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:a.left=e.scrollLeft,t.isScrollbarXUsingBottom?a.bottom=t.scrollbarXBottom-e.scrollTop:a.top=t.scrollbarXTop+e.scrollTop,o.css(t.scrollbarXRail,a);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,o.css(t.scrollbarYRail,n),o.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var i=a(1176),o=a(1191),s=a(1151),l=a(1177);e.exports=function(e){var t=s.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var a;e.contains(t.scrollbarXRail)||(a=o.queryChildren(e,".ps__scrollbar-x-rail"),a.length>0&&a.forEach(function(e){o.remove(e)}),o.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(a=o.queryChildren(e,".ps__scrollbar-y-rail"),a.length>0&&a.forEach(function(e){o.remove(e)}),o.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,i.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=i.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,i.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=i.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),r(e,t),t.scrollbarXActive?e.classList.add("ps--active-x"):(e.classList.remove("ps--active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,l(e,"left",0)),t.scrollbarYActive?e.classList.add("ps--active-y"):(e.classList.remove("ps--active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,l(e,"top",0))}},function(e,t,a){e.exports=a.p+"files/1171271cb71e89919600b8c3ae1774cb.gif"},,,function(e,t,a){function n(e,t){return(s(e)?r:o)(e,i(t,3))}var r=a(1409),i=a(1968),o=a(2024),s=a(1154);e.exports=n},function(e,t,a){"use strict";function n(e,t,a){var n=e.match(t);return n&&n.length>=a&&parseInt(n[a],10)}var r=!0,i=!0;e.exports={extractVersion:n,disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(r)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,a={};if(a.browser=null,a.version=null,void 0===e||!e.navigator)return a.browser="Not a browser.",a;if(t.mozGetUserMedia)a.browser="firefox",a.version=n(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)if(e.webkitRTCPeerConnection)a.browser="chrome",a.version=n(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.userAgent.match(/Version\/(\d+).(\d+)/))return a.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",a;a.browser="safari",a.version=n(t.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=n(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.mediaDevices||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=n(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return a}}},,function(e,t,a){"use strict";function n(e){var t,a=["ps--in-scrolling"];return t=void 0===e?["ps--x","ps--y"]:["ps--"+e],a.concat(t)}var r=a(1191),i=t.toInt=function(e){return parseInt(e,10)||0};t.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=0;t<e.classList.length;t++){var a=e.classList[t];0===a.indexOf("ps-")&&e.classList.remove(a)}},t.outerWidth=function(e){return i(r.css(e,"width"))+i(r.css(e,"paddingLeft"))+i(r.css(e,"paddingRight"))+i(r.css(e,"borderLeftWidth"))+i(r.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){for(var a=n(t),r=0;r<a.length;r++)e.classList.add(a[r])},t.stopScrolling=function(e,t){for(var a=n(t),r=0;r<a.length;r++)e.classList.remove(a[r])},t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},function(e,t,a){"use strict";var n=a(1151),r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,a){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===a)throw"You must provide a value to the update-scroll function";"top"===t&&a<=0&&(e.scrollTop=a=0,e.dispatchEvent(r("ps-y-reach-start"))),"left"===t&&a<=0&&(e.scrollLeft=a=0,e.dispatchEvent(r("ps-x-reach-start")));var i=n.get(e);"top"===t&&a>=i.contentHeight-i.containerHeight&&(a=i.contentHeight-i.containerHeight,a-e.scrollTop<=2?a=e.scrollTop:e.scrollTop=a,e.dispatchEvent(r("ps-y-reach-end"))),"left"===t&&a>=i.contentWidth-i.containerWidth&&(a=i.contentWidth-i.containerWidth,a-e.scrollLeft<=2?a=e.scrollLeft:e.scrollLeft=a,e.dispatchEvent(r("ps-x-reach-end"))),void 0===i.lastTop&&(i.lastTop=e.scrollTop),void 0===i.lastLeft&&(i.lastLeft=e.scrollLeft),"top"===t&&a<i.lastTop&&e.dispatchEvent(r("ps-scroll-up")),"top"===t&&a>i.lastTop&&e.dispatchEvent(r("ps-scroll-down")),"left"===t&&a<i.lastLeft&&e.dispatchEvent(r("ps-scroll-left")),"left"===t&&a>i.lastLeft&&e.dispatchEvent(r("ps-scroll-right")),"top"===t&&a!==i.lastTop&&(e.scrollTop=i.lastTop=a,e.dispatchEvent(r("ps-scroll-y"))),"left"===t&&a!==i.lastLeft&&(e.scrollLeft=i.lastLeft=a,e.dispatchEvent(r("ps-scroll-x")))}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{isLoggedIn:Boolean((0,l.getCurrentUserId)(e))})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(69),u=a(1614),d=n(u);t.default=(0,s.connect)(r)(d.default)},function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,i){try{var o=t[r](i),s=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.General.LOGS_PAGE_SIZE_DEFAULT;return(0,W.bindClientFunc)(z.Client4.getLogs,B.AdminTypes.GET_LOGS_REQUEST,[B.AdminTypes.RECEIVED_LOGS,B.AdminTypes.GET_LOGS_SUCCESS],B.AdminTypes.GET_LOGS_FAILURE,e,t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.General.PAGE_SIZE_DEFAULT;return(0,W.bindClientFunc)(z.Client4.getAudits,B.AdminTypes.GET_AUDITS_REQUEST,[B.AdminTypes.RECEIVED_AUDITS,B.AdminTypes.GET_AUDITS_SUCCESS],B.AdminTypes.GET_AUDITS_FAILURE,e,t)}function o(){return(0,W.bindClientFunc)(z.Client4.getConfig,B.AdminTypes.GET_CONFIG_REQUEST,[B.AdminTypes.RECEIVED_CONFIG,B.AdminTypes.GET_CONFIG_SUCCESS],B.AdminTypes.GET_CONFIG_FAILURE)}function s(e){return(0,W.bindClientFunc)(z.Client4.updateConfig,B.AdminTypes.UPDATE_CONFIG_REQUEST,[B.AdminTypes.RECEIVED_CONFIG,B.AdminTypes.UPDATE_CONFIG_SUCCESS],B.AdminTypes.UPDATE_CONFIG_FAILURE,e)}function l(){return(0,W.bindClientFunc)(z.Client4.reloadConfig,B.AdminTypes.RELOAD_CONFIG_REQUEST,B.AdminTypes.RELOAD_CONFIG_SUCCESS,B.AdminTypes.RELOAD_CONFIG_FAILURE)}function u(e){return(0,W.bindClientFunc)(z.Client4.testEmail,B.AdminTypes.TEST_EMAIL_REQUEST,B.AdminTypes.TEST_EMAIL_SUCCESS,B.AdminTypes.TEST_EMAIL_FAILURE,e)}function d(){return(0,W.bindClientFunc)(z.Client4.invalidateCaches,B.AdminTypes.INVALIDATE_CACHES_REQUEST,B.AdminTypes.INVALIDATE_CACHES_SUCCESS,B.AdminTypes.INVALIDATE_CACHES_FAILURE)}function c(){return(0,W.bindClientFunc)(z.Client4.recycleDatabase,B.AdminTypes.RECYCLE_DATABASE_REQUEST,B.AdminTypes.RECYCLE_DATABASE_SUCCESS,B.AdminTypes.RECYCLE_DATABASE_FAILURE)}function f(e){return(0,W.bindClientFunc)(z.Client4.createComplianceReport,B.AdminTypes.CREATE_COMPLIANCE_REQUEST,[B.AdminTypes.RECEIVED_COMPLIANCE_REPORT,B.AdminTypes.CREATE_COMPLIANCE_SUCCESS],B.AdminTypes.CREATE_COMPLIANCE_FAILURE,e)}function p(e){return(0,W.bindClientFunc)(z.Client4.getComplianceReport,B.AdminTypes.GET_COMPLIANCE_REQUEST,[B.AdminTypes.RECEIVED_COMPLIANCE_REPORT,B.AdminTypes.GET_COMPLIANCE_SUCCESS],B.AdminTypes.GET_COMPLIANCE_FAILURE,e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.General.PER_PAGE_DEFAULT;return(0,W.bindClientFunc)(z.Client4.getComplianceReports,B.AdminTypes.GET_COMPLIANCE_REQUEST,[B.AdminTypes.RECEIVED_COMPLIANCE_REPORTS,B.AdminTypes.GET_COMPLIANCE_SUCCESS],B.AdminTypes.GET_COMPLIANCE_FAILURE,e,t)}function m(e){return(0,W.bindClientFunc)(z.Client4.uploadBrandImage,B.AdminTypes.UPLOAD_BRAND_IMAGE_REQUEST,B.AdminTypes.UPLOAD_BRAND_IMAGE_SUCCESS,B.AdminTypes.UPLOAD_BRAND_IMAGE_FAILURE,e)}function g(){return(0,W.bindClientFunc)(z.Client4.getClusterStatus,B.AdminTypes.GET_CLUSTER_STATUS_REQUEST,[B.AdminTypes.RECEIVED_CLUSTER_STATUS,B.AdminTypes.GET_CLUSTER_STATUS_SUCCESS],B.AdminTypes.GET_CLUSTER_STATUS_FAILURE)}function v(){return(0,W.bindClientFunc)(z.Client4.testLdap,B.AdminTypes.TEST_LDAP_REQUEST,B.AdminTypes.TEST_LDAP_SUCCESS,B.AdminTypes.TEST_LDAP_FAILURE)}function b(){return(0,W.bindClientFunc)(z.Client4.syncLdap,B.AdminTypes.SYNC_LDAP_REQUEST,B.AdminTypes.SYNC_LDAP_SUCCESS,B.AdminTypes.SYNC_LDAP_FAILURE)}function _(){return(0,W.bindClientFunc)(z.Client4.getSamlCertificateStatus,B.AdminTypes.SAML_CERT_STATUS_REQUEST,[B.AdminTypes.RECEIVED_SAML_CERT_STATUS,B.AdminTypes.SAML_CERT_STATUS_SUCCESS],B.AdminTypes.SAML_CERT_STATUS_FAILURE)}function y(e){return(0,W.bindClientFunc)(z.Client4.uploadPublicSamlCertificate,B.AdminTypes.UPLOAD_SAML_PUBLIC_REQUEST,B.AdminTypes.UPLOAD_SAML_PUBLIC_SUCCESS,B.AdminTypes.UPLOAD_SAML_PUBLIC_FAILURE,e)}function E(e){return(0,W.bindClientFunc)(z.Client4.uploadPrivateSamlCertificate,B.AdminTypes.UPLOAD_SAML_PRIVATE_REQUEST,B.AdminTypes.UPLOAD_SAML_PRIVATE_SUCCESS,B.AdminTypes.UPLOAD_SAML_PRIVATE_FAILURE,e)}function w(e){return(0,W.bindClientFunc)(z.Client4.uploadIdpSamlCertificate,B.AdminTypes.UPLOAD_SAML_IDP_REQUEST,B.AdminTypes.UPLOAD_SAML_IDP_SUCCESS,B.AdminTypes.UPLOAD_SAML_IDP_FAILURE,e)}function C(){return(0,W.bindClientFunc)(z.Client4.deletePublicSamlCertificate,B.AdminTypes.DELETE_SAML_PUBLIC_REQUEST,B.AdminTypes.DELETE_SAML_PUBLIC_SUCCESS,B.AdminTypes.DELETE_SAML_PUBLIC_FAILURE)}function x(){return(0,W.bindClientFunc)(z.Client4.deletePrivateSamlCertificate,B.AdminTypes.DELETE_SAML_PRIVATE_REQUEST,B.AdminTypes.DELETE_SAML_PRIVATE_SUCCESS,B.AdminTypes.DELETE_SAML_PRIVATE_FAILURE)}function M(){return(0,W.bindClientFunc)(z.Client4.deleteIdpSamlCertificate,B.AdminTypes.DELETE_SAML_IDP_REQUEST,B.AdminTypes.DELETE_SAML_IDP_SUCCESS,B.AdminTypes.DELETE_SAML_IDP_FAILURE)}function S(e){return(0,W.bindClientFunc)(z.Client4.testElasticsearch,B.AdminTypes.TEST_ELASTICSEARCH_REQUEST,B.AdminTypes.TEST_ELASTICSEARCH_SUCCESS,B.AdminTypes.TEST_ELASTICSEARCH_FAILURE,e)}function k(){return(0,W.bindClientFunc)(z.Client4.purgeElasticsearchIndexes,B.AdminTypes.PURGE_ELASTICSEARCH_INDEXES_REQUEST,B.AdminTypes.PURGE_ELASTICSEARCH_INDEXES_SUCCESS,B.AdminTypes.PURGE_ELASTICSEARCH_INDEXES_FAILURE)}function T(e){return(0,W.bindClientFunc)(z.Client4.uploadLicense,B.AdminTypes.UPLOAD_LICENSE_REQUEST,B.AdminTypes.UPLOAD_LICENSE_SUCCESS,B.AdminTypes.UPLOAD_LICENSE_FAILURE,e)}function P(){return(0,W.bindClientFunc)(z.Client4.removeLicense,B.AdminTypes.REMOVE_LICENSE_REQUEST,B.AdminTypes.REMOVE_LICENSE_SUCCESS,B.AdminTypes.REMOVE_LICENSE_FAILURE)}function N(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=n(regeneratorRuntime.mark(function n(r,i){var o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:B.AdminTypes.GET_ANALYTICS_REQUEST},i),o=void 0,t.prev=2,t.next=5,z.Client4.getAnalytics(e,a);case 5:o=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(2),(0,W.forceLogoutIfNecessary)(t.t0,r,i),r((0,V.batchActions)([{type:B.AdminTypes.GET_ANALYTICS_FAILURE,error:t.t0},(0,G.logError)(t.t0)(r)]),i),t.abrupt("return",{error:t.t0});case 13:return s=[{type:B.AdminTypes.GET_ANALYTICS_SUCCESS}],""===a?s.push({type:B.AdminTypes.RECEIVED_SYSTEM_ANALYTICS,data:o,name:e}):s.push({type:B.AdminTypes.RECEIVED_TEAM_ANALYTICS,data:o,name:e,teamId:a}),r((0,V.batchActions)(s),i),t.abrupt("return",{data:o});case 17:case"end":return t.stop()}},n,t,[[2,8]])}));return function(e,t){return r.apply(this,arguments)}}()}function O(){return N("standard",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}function I(){return N("extra_counts",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}function R(){return N("post_counts_day",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}function A(){return N("user_counts_with_posts_day",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}function L(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B.AdminTypes.UPLOAD_PLUGIN_REQUEST}),i=void 0,t.prev=2,t.next=5,z.Client4.uploadPlugin(e);case 5:i=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(2),(0,W.forceLogoutIfNecessary)(t.t0,n,r),n((0,V.batchActions)([{type:B.AdminTypes.UPLOAD_PLUGIN_FAILURE,error:t.t0},(0,G.logError)(t.t0)(n)])),t.abrupt("return",{error:t.t0});case 13:return n((0,V.batchActions)([{type:B.AdminTypes.UPLOAD_PLUGIN_SUCCESS},{type:B.AdminTypes.RECEIVED_PLUGIN,data:H({},i,{active:!1})}])),t.abrupt("return",{data:i});case 15:case"end":return t.stop()}},a,t,[[2,8]])}));return function(e,t){return a.apply(this,arguments)}}()}function D(){var e=this;return function(){var t=n(regeneratorRuntime.mark(function t(a,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:B.AdminTypes.GET_PLUGIN_REQUEST}),r=void 0,e.prev=2,e.next=5,z.Client4.getPlugins();case 5:r=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),(0,W.forceLogoutIfNecessary)(e.t0,a,n),a((0,V.batchActions)([{type:B.AdminTypes.GET_PLUGIN_FAILURE,error:e.t0},(0,G.logError)(e.t0)(a)])),e.abrupt("return",{error:e.t0});case 13:return a((0,V.batchActions)([{type:B.AdminTypes.GET_PLUGIN_SUCCESS},{type:B.AdminTypes.RECEIVED_PLUGINS,data:r}])),e.abrupt("return",{data:r});case 15:case"end":return e.stop()}},t,e,[[2,8]])}));return function(e,a){return t.apply(this,arguments)}}()}function F(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B.AdminTypes.REMOVE_PLUGIN_REQUEST}),t.prev=1,t.next=4,z.Client4.removePlugin(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,W.forceLogoutIfNecessary)(t.t0,n,r),n((0,V.batchActions)([{type:B.AdminTypes.REMOVE_PLUGIN_FAILURE,error:t.t0},(0,G.logError)(t.t0)(n)])),t.abrupt("return",{error:t.t0});case 11:return n((0,V.batchActions)([{type:B.AdminTypes.REMOVE_PLUGIN_SUCCESS},{type:B.AdminTypes.REMOVED_PLUGIN,data:e}])),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function U(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B.AdminTypes.ACTIVATE_PLUGIN_REQUEST}),t.prev=1,t.next=4,z.Client4.activatePlugin(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,W.forceLogoutIfNecessary)(t.t0,n,r),n((0,V.batchActions)([{type:B.AdminTypes.ACTIVATE_PLUGIN_FAILURE,error:t.t0},(0,G.logError)(t.t0)(n)])),t.abrupt("return",{error:t.t0});case 11:return n((0,V.batchActions)([{type:B.AdminTypes.ACTIVATE_PLUGIN_SUCCESS},{type:B.AdminTypes.ACTIVATED_PLUGIN,data:e}])),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}function j(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B.AdminTypes.DEACTIVATE_PLUGIN_REQUEST}),t.prev=1,t.next=4,z.Client4.deactivatePlugin(e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,W.forceLogoutIfNecessary)(t.t0,n,r),n((0,V.batchActions)([{type:B.AdminTypes.DEACTIVATE_PLUGIN_FAILURE,error:t.t0},(0,G.logError)(t.t0)(n)])),t.abrupt("return",{error:t.t0});case 11:return n((0,V.batchActions)([{type:B.AdminTypes.DEACTIVATE_PLUGIN_SUCCESS},{type:B.AdminTypes.DEACTIVATED_PLUGIN,data:e}])),t.abrupt("return",{data:!0});case 13:case"end":return t.stop()}},a,t,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.getLogs=r,t.getAudits=i,t.getConfig=o,t.updateConfig=s,t.reloadConfig=l,t.testEmail=u,t.invalidateCaches=d,t.recycleDatabase=c,t.createComplianceReport=f,t.getComplianceReport=p,t.getComplianceReports=h,t.uploadBrandImage=m,t.getClusterStatus=g,t.testLdap=v,t.syncLdap=b,t.getSamlCertificateStatus=_,t.uploadPublicSamlCertificate=y,t.uploadPrivateSamlCertificate=E,t.uploadIdpSamlCertificate=w,t.removePublicSamlCertificate=C,t.removePrivateSamlCertificate=x,t.removeIdpSamlCertificate=M,t.testElasticsearch=S,t.purgeElasticsearchIndexes=k,t.uploadLicense=T,t.removeLicense=P,t.getAnalytics=N,t.getStandardAnalytics=O,t.getAdvancedAnalytics=I,t.getPostsPerDayAnalytics=R,t.getUsersPerDayAnalytics=A,t.uploadPlugin=L,t.getPlugins=D,t.removePlugin=F,t.activatePlugin=U,t.deactivatePlugin=j;var B=a(10),q=a(18),z=a(23),G=a(92),W=a(91),V=a(83)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(1694),y=n(_),E=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.state={placement:"top"},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillUpdate",value:function(e){if(e.show&&!this.props.show){var t=e.target().getBoundingClientRect(),a=void 0;a=t.top>e.spaceRequiredAbove?"top":window.innerHeight-t.bottom>e.spaceRequiredBelow?"bottom":"left",this.setState({placement:a})}}},{key:"render",value:function(){return v.default.createElement(b.Overlay,{show:this.props.show,placement:this.state.placement,rootClose:!0,container:this.props.container,onHide:this.props.onHide,target:this.props.target,animation:!1},v.default.createElement(y.default,{onEmojiClick:this.props.onEmojiClick,rightOffset:this.props.rightOffset,topOffset:this.props.topOffset}))}}]),t}(v.default.PureComponent);E.propTypes={show:m.default.bool.isRequired,container:m.default.func,target:m.default.func.isRequired,onEmojiClick:m.default.func.isRequired,onHide:m.default.func.isRequired,rightOffset:m.default.number,topOffset:m.default.number,spaceRequiredAbove:m.default.number,spaceRequiredBelow:m.default.number},E.defaultProps={spaceRequiredAbove:422,spaceRequiredBelow:436},t.default=E},function(e,t,a){function n(e){return null==e?void 0===e?l:s:u&&u in Object(e)?i(e):o(e)}var r=a(1203),i=a(1698),o=a(1699),s="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=n},function(e,t){function a(e){return null!=e&&"object"==typeof e}e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(30),i=n(r),o=a(31),s=n(o),l=function(){function e(){(0,i.default)(this,e),this.latestPrefix="",this.latestComplete=!0,this.disableDispatches=!1}return(0,s.default)(e,[{key:"handlePretextChanged",value:function(e,t){}},{key:"startNewRequest",value:function(e,t){this.latestPrefix=t,this.latestComplete=!1}},{key:"shouldCancelDispatch",value:function(e){if(this.disableDispatches)return!0;if(e===this.latestPrefix)this.latestComplete=!0;else if(this.latestComplete)return!0;return!1}}]),e}();t.default=l},function(e,t,a){"use strict";function n(){return"false"!==window.mm_config.EnableFileAttachments&&(!o.isMobileApp()||"true"!==window.mm_license.IsLicensed||"true"!==window.mm_license.Compliance||"false"!==window.mm_config.EnableMobileFileUpload)}function r(){return!o.isMobileApp()||"true"!==window.mm_license.IsLicensed||"true"!==window.mm_license.Compliance||"false"!==window.mm_config.EnableMobileFileDownload}Object.defineProperty(t,"__esModule",{value:!0}),t.canUploadFiles=n,t.canDownloadFiles=r;var i=a(169),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i)},function(e,t,a){"use strict";function n(e){if(!(this instanceof n))return new n(e);u.call(this,e),d.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(i,this)}function i(e){e.end()}var o=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t};e.exports=n;var s=a(1277),l=a(1207);l.inherits=a(458);var u=a(1358),d=a(1279);l.inherits(n,u);for(var c=o(d.prototype),f=0;f<c.length;f++){var p=c[f];n.prototype[p]||(n.prototype[p]=d.prototype[p])}},,,function(e,t,a){function n(e,t){var a=i(e,t);return r(a)?a:void 0}var r=a(1981),i=a(1984);e.exports=n},,,function(e,t,a){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function r(e,t,a){return"number"==typeof a&&(a=a.toString()+"px"),e.style[t]=a,e}function i(e,t){for(var a in t){var n=t[a];"number"==typeof n&&(n=n.toString()+"px"),e.style[a]=n}return e}var o={};o.create=function(e,t){var a=document.createElement(e);return a.className=t,a},o.appendTo=function(e,t){return t.appendChild(e),e},o.css=function(e,t,a){return"object"==typeof t?i(e,t):void 0===a?n(e,t):r(e,t,a)},o.matches=function(e,t){return void 0!==e.matches?e.matches(t):e.msMatchesSelector(t)},o.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},o.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return o.matches(e,t)})},e.exports=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"15px",height:"15px",viewBox:"0 0 15 15"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-1071.000000, -954.000000)",fill:"inherit"},m.default.createElement("g",{transform:"translate(25.000000, 937.000000)"},m.default.createElement("g",{transform:"translate(1046.000000, 17.000000)"},m.default.createElement("path",{d:"M7.5,0.0852272727 C3.405,0.0852272727 0.0852272727,3.405 0.0852272727,7.5 C0.0852272727,11.595 3.405,14.9147727 7.5,14.9147727 C11.595,14.9147727 14.9147727,11.595 14.9147727,7.5 C14.9147727,3.405 11.595,0.0852272727 7.5,0.0852272727 Z M7.5,14.0663436 C3.87926951,14.0663436 0.933656417,11.1207305 0.933656417,7.5 C0.933656417,3.87926951 3.87926951,0.933656417 7.5,0.933656417 C11.1207305,0.933656417 14.0663436,3.87926951 14.0663436,7.5 C14.0663436,11.1207305 11.1207305,14.0663436 7.5,14.0663436 Z"}),m.default.createElement("path",{d:"M11.7732955,8.95397727 C12.0119318,8.90488636 12.2159659,9.11778409 12.1684091,9.35676136 C11.8063636,11.1790909 9.85346591,12.5710227 7.49846591,12.5710227 C5.15096591,12.5710227 3.20284091,11.1877841 2.83193182,9.37397727 C2.78181818,9.129375 2.99267045,8.911875 3.23744318,8.96198864 C4.85369318,9.29232955 10.1786932,9.28142045 11.7732955,8.95397727 Z"}),m.default.createElement("ellipse",{cx:"4.94318182",cy:"5.50431818",rx:"1",ry:"1.06534091"}),m.default.createElement("ellipse",{cx:"10.0568182",cy:"5.50431818",rx:"1",ry:"1.06534091"})))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){var t=e.size,a=[["TB",1099511627776],["GB",1073741824],["MB",1048576],["KB",1024]],n=a.find(function(e){var a=e[1];return t>a});return n?Math.floor(t/n[1])+" "+n[0]:t+" B"}function r(e){if(!e||!e.extension)return"other";var t=e.extension.toLowerCase();return["image","code","pdf","video","audio","spreadsheet","word","presentation","patch"].find(function(e){var a=(e+"_types").toUpperCase();return d.Files[a].indexOf(t)>-1})||"other"}function i(){h={},Object.keys(p.default).forEach(function(e){var t=p.default[e];t.extensions&&t.extensions.forEach(function(t){h[t]=e})})}function o(e){h||i();var t=e.split(".").pop();return h[t]||"application/octet-stream"}function s(e){return c.Client4.getFileRoute(e)}function l(e){return c.Client4.getFileRoute(e)+"/thumbnail"}function u(e){return c.Client4.getFileRoute(e)+"/preview"}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedFileSize=n,t.getFileType=r,t.lookupMimeType=o,t.getFileUrl=s,t.getFileThumbnailUrl=l,t.getFilePreviewUrl=u;var d=a(18),c=a(23),f=a(1807),p=function(e){return e&&e.__esModule?e:{default:e}}(f),h=void 0},,,,,,,,,,function(e,t,a){var n=a(1156),r=n.Symbol;e.exports=r},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1733),_=n(b),y=a(1734),E=n(y),w=a(1735),C=n(w),x=a(1736),M=n(x),S=a(1737),k=n(S),T=a(1738),P=n(T),N=a(1739),O=n(N),I=a(1740),R=n(I),A=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.type;if(!t)return null;var n="status "+this.props.className,r="span";return r="avatar"===a?"online"===t?O.default:"away"===t?_.default:"dnd"===t?C.default:k.default:"online"===t?R.default:"away"===t?E.default:"dnd"===t?M.default:P.default,v.default.createElement(r,{className:n})}}]),t}(v.default.PureComponent);A.propTypes={status:m.default.string,className:m.default.string,type:m.default.string},A.defaultProps={className:""},t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(459),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(47),C=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.saving,a=e.disabled,n=e.savingMessage,r=e.defaultMessage,o=e.btnClass,l=e.extraClasses,u=(0,s.default)(e,["saving","disabled","savingMessage","defaultMessage","btnClass","extraClasses"]),d=void 0;d=t?E.default.createElement("span",null,E.default.createElement("span",{className:"fa fa-refresh icon--rotate"}),n):r;var c="save-button btn";return a&&!t||(c+=" "+o),l&&(c+=" "+l),E.default.createElement("button",(0,i.default)({type:"submit",id:"saveSetting",className:c,disabled:a},u),d)}}]),t}(E.default.PureComponent);C.propTypes={saving:_.default.bool.isRequired,disabled:_.default.bool,savingMessage:_.default.node,defaultMessage:_.default.node,btnClass:_.default.string,extraClasses:_.default.string},C.defaultProps={disabled:!1,savingMessage:(0,w.localizeMessage)("save_button.saving","Saving"),defaultMessage:(0,w.localizeMessage)("save_button.save","Save"),btnClass:"btn-primary",extraClasses:""},t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(30),i=n(r),o=a(31),s=n(o),l=function(){function e(t){(0,i.default)(this,e),this.action=t,this.timer=-1,this.fire=this.fire.bind(this)}return(0,s.default)(e,[{key:"fire",value:function(){this.action(),this.timer=-1}},{key:"fireAfter",value:function(e){this.timer>=0&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.fire,e)}},{key:"cancel",value:function(){window.clearTimeout(this.timer)}}]),e}();t.default=l},function(e,t,a){(function(e){function a(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function d(e){return"[object RegExp]"===g(e)}function c(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===g(e)}function p(e){return"[object Error]"===g(e)||e instanceof Error}function h(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=a,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=i,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=u,t.isRegExp=d,t.isObject=c,t.isDate=f,t.isError=p,t.isFunction=h,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,a(1129).Buffer)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(464),y=n(_),E=a(47),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),C=a(468),x=n(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.hideProfilePopover=a.hideProfilePopover.bind(a),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e){return!w.areObjectsEqual(e.user,this.props.user)||(e.overwriteName!==this.props.overwriteName||(e.overwriteImage!==this.props.overwriteImage||(e.disablePopover!==this.props.disablePopover||(e.displayNameType!==this.props.displayNameType||(e.status!==this.props.status||e.isBusy!==this.props.isBusy)))))}},{key:"hideProfilePopover",value:function(){this.refs.overlay.hide()}},{key:"render",value:function(){var e="...",t="";return this.props.user&&(e=w.displayUsername(this.props.user.id),t=w.imageURLForUser(this.props.user)),this.props.overwriteName&&(e=this.props.overwriteName),this.props.disablePopover?v.default.createElement("div",{className:"user-popover"},e):v.default.createElement(b.OverlayTrigger,{ref:"overlay",trigger:"click",placement:"right",rootClose:!0,overlay:v.default.createElement(y.default,null,v.default.createElement(x.default,{user:this.props.user,src:t,status:this.props.status,isBusy:this.props.isBusy,hide:this.hideProfilePopover,isRHS:this.props.isRHS,hasMention:this.props.hasMention}))},v.default.createElement("div",{className:"user-popover"},e))}}]),t}(v.default.Component);t.default=M,M.defaultProps={user:{},overwriteName:"",overwriteImage:"",disablePopover:!1,isRHS:!1,hasMention:!1},M.propTypes={user:m.default.object,overwriteName:m.default.node,overwriteImage:m.default.string,disablePopover:m.default.bool,displayNameType:m.default.string,status:m.default.string,isBusy:m.default.bool,isRHS:m.default.bool,hasMention:m.default.bool}},,,function(e,t,a){function n(e){return o(e)?r(e):i(e)}var r=a(1401),i=a(1965),o=a(1239);e.exports=n},,,,,,,function(e,t,a){"use strict";function n(e){return e.views.admin.navigationBlock.blocked}function r(e){return e.views.admin.navigationBlock.showNavigationPrompt}function i(e){return e.views.admin.navigationBlock.onNavigationConfirmed}Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationBlocked=n,t.showNavigationPrompt=r,t.getOnNavigationConfirmed=i},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(121),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(60),v=n(g),b=a(40),_=n(b),y=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.entities={},_.default.subscribe(function(){var t=_.default.getState().entities.admin,a=e.entities;e.entities=t;var n=t.analytics!==a.analytics,r=t.teamAnalytics!==a.teamAnalytics;(n||r)&&e.emitChange()}),e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(e){this.on("change",e)}},{key:"removeChangeListener",value:function(e){this.removeListener("change",e)}},{key:"getAllSystem",value:function(){return JSON.parse((0,i.default)(_.default.getState().entities.admin.analytics))}},{key:"getAllTeam",value:function(e){var t=_.default.getState().entities.admin.teamAnalytics[e];return t?JSON.parse((0,i.default)(t)):{}}}]),t}(v.default),E=new y;t.default=E},function(e,t,a){function n(e){return"symbol"==typeof e||i(e)&&r(e)==o}var r=a(1181),i=a(1182),o="[object Symbol]";e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(1704),w=n(E),C=a(1327),x=n(C),M=a(1709),S=n(M),k=a(1710),T=n(k),P=a(1711),N=n(P),O=a(1717),I=n(O),R=a(1223),A=n(R),L=a(1224),D=n(L),F=a(308),U=n(F),j=a(12),H=n(j),B=a(47),q=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(B),z=H.default.PRE_RELEASE_FEATURES,G=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onReceivedError=function(){U.default.getConnectionErrorCount()>1?a.setState({connection:"bad-connection"}):a.setState({connection:""})},a.handleChange=function(e){a.checkMessageLength(e.target.value),a.props.onChange(e)},a.checkMessageLength=function(e){if(a.props.handlePostError)if(e.length>a.props.characterLimit){var t=_.default.createElement(y.FormattedMessage,{id:"create_post.error_message",defaultMessage:"Your message is too long. Character count: {length}/{limit}",values:{length:e.length,limit:a.props.characterLimit}});a.props.handlePostError(t)}else a.props.handlePostError(null)},a.handleKeyDown=function(e){a.props.onKeyDown&&a.props.onKeyDown(e)},a.handleBlur=function(e){a.props.onBlur&&a.props.onBlur(e)},a.handleHeightChange=function(e,t){var n=(0,m.default)(a.refs.wrapper);e>t?n.closest(".post-create").addClass("scroll"):n.closest(".post-create").removeClass("scroll")},a.focus=function(){var e=a.refs.message.getTextbox();e.focus(),q.placeCaretAtEnd(e)},a.blur=function(){a.refs.message.getTextbox().blur()},a.recalculateSize=function(){a.refs.message.recalculateSize()},a.togglePreview=function(e){e.preventDefault(),e.target.blur(),a.setState(function(e){return{preview:!e.preview}})},a.hidePreview=function(){a.setState({preview:!1})},a.state={connection:""},a.suggestionProviders=[new S.default(a.props.channelId),new T.default,new I.default],e.supportsCommands&&a.suggestionProviders.push(new N.default),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){U.default.addChangeListener(this.onReceivedError)}},{key:"componentWillMount",value:function(){this.checkMessageLength(this.props.value)}},{key:"componentWillUnmount",value:function(){U.default.removeChangeListener(this.onReceivedError)}},{key:"componentWillReceiveProps",value:function(e){if(e.channelId!==this.props.channelId)for(var t=this.suggestionProviders,a=0;a<t.length;a++)t[a]instanceof S.default&&(t[a]=new S.default(e.channelId))}},{key:"render",value:function(){var e=this.props.value&&this.props.value.length>0,t=void 0,a="";this.props.value&&this.props.value.length>this.props.characterLimit&&(a="hidden"),t=this.props.previewMessageLink?_.default.createElement("span",null,this.props.previewMessageLink):_.default.createElement(y.FormattedMessage,{id:"textbox.edit",defaultMessage:"Edit message"});var n=null;q.isFeatureEnabled(z.MARKDOWN_PREVIEW)&&(n=_.default.createElement("a",{id:"previewLink",onClick:this.togglePreview,className:"textbox-preview-link"},this.state.preview?t:_.default.createElement(y.FormattedMessage,{id:"textbox.preview",defaultMessage:"Preview"})));var r=_.default.createElement("div",{id:"helpText",style:{visibility:e?"visible":"hidden",opacity:e?"0.45":"0"},className:"help__format-text"},_.default.createElement("b",null,_.default.createElement(y.FormattedMessage,{id:"textbox.bold",defaultMessage:"**bold**"})),_.default.createElement("i",null,_.default.createElement(y.FormattedMessage,{id:"textbox.italic",defaultMessage:"_italic_"})),_.default.createElement("span",null,"~~",_.default.createElement("strike",null,_.default.createElement(y.FormattedMessage,{id:"textbox.strike",defaultMessage:"strike"})),"~~ "),_.default.createElement("span",null,_.default.createElement(y.FormattedMessage,{id:"textbox.inlinecode",defaultMessage:"`inline code`"})),_.default.createElement("span",null,_.default.createElement(y.FormattedMessage,{id:"textbox.preformatted",defaultMessage:"```preformatted```"})),_.default.createElement("span",null,_.default.createElement(y.FormattedMessage,{id:"textbox.quote",defaultMessage:">quote"}))),i=null;this.state.preview&&(i=_.default.createElement("div",{ref:"preview",className:"form-control custom-textarea textbox-preview-area",style:{display:this.state.preview?"block":"none"}},_.default.createElement(x.default,{isRHS:this.props.isRHS,message:this.props.value})));var o="form-control custom-textarea";return this.props.emojiEnabled&&(o+=" custom-textarea--emoji-picker"),this.state.connection&&(o+=" "+this.state.connection),_.default.createElement("div",{ref:"wrapper",className:"textarea-wrapper"},_.default.createElement(A.default,{id:this.props.id,ref:"message",className:o,spellCheck:"true",placeholder:this.props.createMessage,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onHeightChange:this.handleHeightChange,style:{visibility:this.state.preview?"hidden":"visible"},inputComponent:w.default,listComponent:D.default,listStyle:this.props.suggestionListStyle,providers:this.suggestionProviders,channelId:this.props.channelId,value:this.props.value,renderDividers:!0,isRHS:this.props.isRHS,popoverMentionKeyClick:this.props.popoverMentionKeyClick}),i,_.default.createElement("div",{className:"help__text "+a},r,n,_.default.createElement("a",{id:"helpTextLink",target:"_blank",rel:"noopener noreferrer",href:"/help/messaging",className:"textbox-help-link"},_.default.createElement(y.FormattedMessage,{id:"textbox.help",defaultMessage:"Help"}))))}}]),t}(_.default.Component);G.propTypes={id:v.default.string.isRequired,channelId:v.default.string,value:v.default.string.isRequired,onChange:v.default.func.isRequired,onKeyPress:v.default.func.isRequired,createMessage:v.default.string.isRequired,previewMessageLink:v.default.string,onKeyDown:v.default.func,onBlur:v.default.func,supportsCommands:v.default.bool.isRequired,handlePostError:v.default.func,suggestionListStyle:v.default.string,emojiEnabled:v.default.bool,isRHS:v.default.bool,popoverMentionKeyClick:v.default.bool,characterLimit:v.default.number},G.defaultProps={supportsCommands:!0,isRHS:!1,popoverMentionKeyClick:!1,characterLimit:H.default.CHARACTER_LIMIT},t.default=G},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(459),i=n(r),o=a(217),s=n(o),l=a(218),u=n(l),d=a(34),c=n(d),f=a(30),p=n(f),h=a(31),m=n(h),g=a(35),v=n(g),b=a(36),_=n(b),y=a(60),E=n(y),w=a(49),C=n(w),x=a(12),M=n(x),S=M.default.ActionTypes,k=function(e){function t(){(0,p.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.addSuggestionsChangedListener=e.addSuggestionsChangedListener.bind(e),e.removeSuggestionsChangedListener=e.removeSuggestionsChangedListener.bind(e),e.emitSuggestionsChanged=e.emitSuggestionsChanged.bind(e),e.addPretextChangedListener=e.addPretextChangedListener.bind(e),e.removePretextChangedListener=e.removePretextChangedListener.bind(e),e.emitPretextChanged=e.emitPretextChanged.bind(e),e.addCompleteWordListener=e.addCompleteWordListener.bind(e),e.removeCompleteWordListener=e.removeCompleteWordListener.bind(e),e.emitCompleteWord=e.emitCompleteWord.bind(e),e.addPopoverMentionKeyClickListener=e.addPopoverMentionKeyClickListener.bind(e),e.removePopoverMentionKeyClickListener=e.removePopoverMentionKeyClickListener.bind(e),e.emitPopoverMentionKeyClick=e.emitPopoverMentionKeyClick.bind(e),e.handleEventPayload=e.handleEventPayload.bind(e),e.dispatchToken=C.default.register(e.handleEventPayload),e.suggestions=new u.default,e}return(0,_.default)(t,e),(0,m.default)(t,[{key:"addSuggestionsChangedListener",value:function(e,t){this.on("suggestions_changed"+e,t)}},{key:"removeSuggestionsChangedListener",value:function(e,t){this.removeListener("suggestions_changed"+e,t)}},{key:"emitSuggestionsChanged",value:function(e){this.emit("suggestions_changed"+e)}},{key:"addPretextChangedListener",value:function(e,t){this.on("pretext_changed"+e,t)}},{key:"removePretextChangedListener",value:function(e,t){this.removeListener("pretext_changed"+e,t)}},{key:"emitPretextChanged",value:function(e,t){this.emit("pretext_changed"+e,t)}},{key:"addCompleteWordListener",value:function(e,t){this.on("complete_word"+e,t)}},{key:"removeCompleteWordListener",value:function(e,t){this.removeListener("complete_word"+e,t)}},{key:"emitCompleteWord",value:function(e,t,a){this.emit("complete_word"+e,t,a)}},{key:"addPopoverMentionKeyClickListener",value:function(e,t){this.on("popover_mention_key_click"+e,t)}},{key:"removePopoverMentionKeyClickListener",value:function(e,t){this.removeListener("popover_mention_key_click"+e,t)}},{key:"emitPopoverMentionKeyClick",value:function(e,t){this.emit("popover_mention_key_click"+e,t)}},{key:"registerSuggestionBox",value:function(e){this.suggestions.set(e,{pretext:"",matchedPretext:[],terms:[],items:[],components:[],selection:""})}},{key:"unregisterSuggestionBox",value:function(e){this.suggestions.delete(e)}},{key:"clearSuggestions",value:function(e){var t=this.getSuggestions(e);t.matchedPretext=[],t.terms=[],t.items=[],t.components=[]}},{key:"clearSelection",value:function(e){this.getSuggestions(e).selection=""}},{key:"hasSuggestions",value:function(e){return this.getSuggestions(e).terms.length>0}},{key:"setPretext",value:function(e,t){this.getSuggestions(e).pretext=t}},{key:"addSuggestion",value:function(e,t,a,n,r){var i=this.getSuggestions(e);i.terms.push(t),i.items.push(a),i.components.push(n),i.matchedPretext.push(r)}},{key:"addSuggestions",value:function(e,t,a,n,r){var i,o,l=this.getSuggestions(e);(i=l.terms).push.apply(i,(0,s.default)(t)),(o=l.items).push.apply(o,(0,s.default)(a));for(var u=0;u<t.length;u++)l.components.push(n),l.matchedPretext.push(r)}},{key:"ensureSelectionExists",value:function(e){var t=this.getSuggestions(e);if(t.terms.length>0){if(!t.selection||-1===t.terms.indexOf(t.selection))return t.selection=t.terms[0],!0}else if(t.selection)return t.selection="",!0;return!1}},{key:"getPretext",value:function(e){return this.getSuggestions(e).pretext}},{key:"getSelectedMatchedPretext",value:function(e){for(var t=this.getSuggestions(e),a=0;a<t.terms.length;a++)if(t.terms[a]===t.selection)return t.matchedPretext[a];return""}},{key:"getItems",value:function(e){return this.getSuggestions(e).items}},{key:"getTerms",value:function(e){return this.getSuggestions(e).terms}},{key:"getComponents",value:function(e){return this.getSuggestions(e).components}},{key:"getSuggestions",value:function(e){return this.suggestions.get(e)||{}}},{key:"getSelection",value:function(e){return this.getSuggestions(e).selection}},{key:"selectNext",value:function(e){this.setSelectionByDelta(e,1)}},{key:"selectPrevious",value:function(e){this.setSelectionByDelta(e,-1)}},{key:"setSelectionByDelta",value:function(e,t){var a=this.suggestions.get(e),n=a.terms.indexOf(a.selection);if(-1===n)throw new Error("selection is not in terms");n+=t,n<0?n=0:n>a.terms.length-1&&(n=a.terms.length-1),a.selection=a.terms[n]}},{key:"checkIfPretextMatches",value:function(e,t){return(this.getPretext(e)||"").endsWith(t)}},{key:"completeWord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.emitCompleteWord(e,t||this.getSelection(e),a||this.getSelectedMatchedPretext(e)),this.setPretext(e,""),this.clearSuggestions(e),this.clearSelection(e),this.emitSuggestionsChanged(e)}},{key:"handleEventPayload",value:function(e){var t=e.action,a=t.type,n=t.id,r=(0,i.default)(t,["type","id"]);switch(a){case S.SUGGESTION_PRETEXT_CHANGED:""===r.pretext&&this.clearSuggestions(n),r.pretext=r.pretext.toLowerCase(),this.setPretext(n,r.pretext),this.emitPretextChanged(n,r.pretext),this.ensureSelectionExists(n),this.emitSuggestionsChanged(n);break;case S.SUGGESTION_RECEIVED_SUGGESTIONS:if(!this.checkIfPretextMatches(n,r.matchedPretext))return;this.clearSuggestions(n),this.addSuggestions(n,r.terms,r.items,r.component,r.matchedPretext),this.ensureSelectionExists(n),this.emitSuggestionsChanged(n);break;case S.SUGGESTION_CLEAR_SUGGESTIONS:this.setPretext(n,""),this.clearSuggestions(n),this.clearSelection(n),this.emitSuggestionsChanged(n);break;case S.SUGGESTION_SELECT_NEXT:this.selectNext(n),this.emitSuggestionsChanged(n);break;case S.SUGGESTION_SELECT_PREVIOUS:this.selectPrevious(n),this.emitSuggestionsChanged(n);break;case S.SUGGESTION_COMPLETE_WORD:this.completeWord(n,r.term,r.matchedPretext);break;case S.POPOVER_MENTION_KEY_CLICK:this.emitPopoverMentionKeyClick(r.isRHS,r.mentionKey)}}}]),t}(E.default);t.default=new k},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=r(i),s=a(175),l=r(s),u=a(459),d=r(u),c=a(70),f=r(c),p=a(34),h=r(p),m=a(30),g=r(m),v=a(31),b=r(v),_=a(35),y=r(_),E=a(36),w=r(E),C=a(27),x=r(C),M=a(0),S=r(M),k=a(142),T=n(k),P=a(1263),N=r(P),O=a(1222),I=r(O),R=a(12),A=r(R),L=a(47),D=n(L),F=A.default.KeyCodes,U=function(e){function t(e){(0,g.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return a.handleBlur=a.handleBlur.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handlePopoverMentionKeyClick=a.handlePopoverMentionKeyClick.bind(a),a.handleCompleteWord=a.handleCompleteWord.bind(a),a.handleChange=a.handleChange.bind(a),a.handleCompositionStart=a.handleCompositionStart.bind(a),a.handleCompositionUpdate=a.handleCompositionUpdate.bind(a),a.handleCompositionEnd=a.handleCompositionEnd.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handlePretextChanged=a.handlePretextChanged.bind(a),a.blur=a.blur.bind(a),a.suggestionId=D.generateId(),I.default.registerSuggestionBox(a.suggestionId),a.composing=!1,a}return(0,w.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){this.props.popoverMentionKeyClick&&I.default.addPopoverMentionKeyClickListener(this.props.isRHS,this.handlePopoverMentionKeyClick),I.default.addPretextChangedListener(this.suggestionId,this.handlePretextChanged)}},{key:"componentWillUnmount",value:function(){this.props.popoverMentionKeyClick&&I.default.removePopoverMentionKeyClickListener(this.props.isRHS,this.handlePopoverMentionKeyClick),I.default.removePretextChangedListener(this.suggestionId,this.handlePretextChanged),I.default.unregisterSuggestionBox(this.suggestionId)}},{key:"componentDidUpdate",value:function(e){if(this.props.providers!==e.providers){var t=this.getTextbox(),a=t.value.substring(0,t.selectionEnd);T.emitSuggestionPretextChanged(this.suggestionId,a)}}},{key:"getTextbox",value:function(){var e=this.refs.input.getInput();return e.getDOMNode?e.getDOMNode():e}},{key:"recalculateSize",value:function(){var e=this.refs.input.getInput();e.recalculateSize&&e.recalculateSize()}},{key:"handleBlur",value:function(){var e=this;setTimeout(function(){T.emitClearSuggestions(e.suggestionId)},200),this.props.onBlur&&this.props.onBlur()}},{key:"handleFocus",value:function(){var e=this;this.props.openOnFocus&&setTimeout(function(){var t=e.getTextbox();if(t){var a=t.value.substring(0,t.selectionEnd);a.length>=e.props.requiredCharacters&&T.emitSuggestionPretextChanged(e.suggestionId,a)}}),this.props.onFocus&&this.props.onFocus()}},{key:"handleChange",value:function(e){var t=this.getTextbox(),a=t.value.substring(0,t.selectionEnd);!this.composing&&I.default.getPretext(this.suggestionId)!==a&&a.length>=this.props.requiredCharacters&&T.emitSuggestionPretextChanged(this.suggestionId,a),this.props.onChange&&this.props.onChange(e)}},{key:"handleCompositionStart",value:function(){this.composing=!0}},{key:"handleCompositionUpdate",value:function(e){if(e.data){var t=this.getTextbox(),a=t.value.substring(0,t.selectionStart)+e.data;I.default.getPretext(this.suggestionId)!==a&&T.emitSuggestionPretextChanged(this.suggestionId,a)}}},{key:"handleCompositionEnd",value:function(){this.composing=!1}},{key:"handlePopoverMentionKeyClick",value:function(e){var t="@"+e;this.props.value&&/[^\s]$/.test(this.props.value)&&(t=" "+t),this.addTextAtCaret(t,"")}},{key:"addTextAtCaret",value:function(e,a){var n=this.getTextbox(),r=n.selectionEnd,i=this.props.value,o=n.value.substring(0,n.selectionEnd),s=void 0,l=!1;if(o.toLowerCase().endsWith(a.toLowerCase()))s=o.substring(0,o.length-a.length);else{var u=e.substring(a.length),d=t.findOverlap(o,u);l=0===d.length,s=o.substring(0,o.length-d.length-a.length)}var c=i.substring(r),f=void 0;if(f=l?o:s+e+" "+c,n.value=f,this.props.onChange){var p={target:n};this.props.onChange(p)}window.requestAnimationFrame(function(){n.value===f&&D.setCaretPosition(n,s.length+e.length+1)})}},{key:"handleCompleteWord",value:function(e,t){if(this.addTextAtCaret(e,t),this.props.onItemSelected)for(var a=I.default.getItems(this.suggestionId),n=I.default.getTerms(this.suggestionId),r=0;r<n.length;r++)if(n[r]===e){this.props.onItemSelected(a[r]);break}this.refs.input.focus();var i=!0,o=!1,s=void 0;try{for(var l,u=(0,f.default)(this.props.providers);!(i=(l=u.next()).done);i=!0){var d=l.value;d.handleCompleteWord&&d.handleCompleteWord(e,t)}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}T.emitCompleteWordSuggestion(this.suggestionId)}},{key:"handleKeyDown",value:function(e){this.props.value&&I.default.hasSuggestions(this.suggestionId)?e.which===F.UP?(T.emitSelectPreviousSuggestion(this.suggestionId),e.preventDefault()):e.which===F.DOWN?(T.emitSelectNextSuggestion(this.suggestionId),e.preventDefault()):e.which===F.ENTER||this.props.completeOnTab&&e.which===F.TAB?(this.handleCompleteWord(I.default.getSelection(this.suggestionId),I.default.getSelectedMatchedPretext(this.suggestionId)),this.props.onKeyDown&&this.props.onKeyDown(e),e.preventDefault()):e.which===F.ESCAPE?(T.emitClearSuggestions(this.suggestionId),e.preventDefault(),e.stopPropagation()):this.props.onKeyDown&&this.props.onKeyDown(e):this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"handlePretextChanged",value:function(e){var t=!1,a=!0,n=!1,r=void 0;try{for(var i,o=(0,f.default)(this.props.providers);!(a=(i=o.next()).done);a=!0){if(t=i.value.handlePretextChanged(this.suggestionId,e)||t)break}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}t||I.default.clearSuggestions(this.suggestionId)}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"render",value:function(){var e=this.props,t=e.listComponent,a=e.listStyle,n=e.renderDividers,r=(0,d.default)(e,["listComponent","listStyle","renderDividers"]);(0,l.default)(r,"providers"),(0,l.default)(r,"onChange"),(0,l.default)(r,"onItemSelected"),(0,l.default)(r,"completeOnTab"),(0,l.default)(r,"isRHS"),(0,l.default)(r,"popoverMentionKeyClick"),(0,l.default)(r,"requiredCharacters"),(0,l.default)(r,"openOnFocus");var i=t;return S.default.createElement("div",null,S.default.createElement(N.default,(0,o.default)({ref:"input",autoComplete:"off"},r,{onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionUpdate,onCompositionEnd:this.handleCompositionEnd,onKeyDown:this.handleKeyDown})),this.props.value.length>=this.props.requiredCharacters&&S.default.createElement(i,{suggestionId:this.suggestionId,location:a,renderDividers:n,onCompleteWord:this.handleCompleteWord}))}}],[{key:"findOverlap",value:function(e,t){for(var a=e.toLowerCase(),n=t.toLowerCase(),r=n.length;r>0;r--){var i=n.substring(0,r);if(a.endsWith(i))return i}return""}}]),t}(S.default.Component);U.propTypes={listComponent:x.default.func.isRequired,value:x.default.string.isRequired,providers:x.default.arrayOf(x.default.object),listStyle:x.default.string,renderDividers:x.default.bool,completeOnTab:x.default.bool,onFocus:x.default.func,onBlur:x.default.func,onChange:x.default.func,onKeyDown:x.default.func,onItemSelected:x.default.func,isRHS:x.default.bool,popoverMentionKeyClick:x.default.bool,requiredCharacters:x.default.number,openOnFocus:x.default.bool},U.defaultProps={listStyle:"top",renderDividers:!1,completeOnTab:!0,isRHS:!1,requiredCharacters:1,openOnFocus:!1},t.default=U},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(39),E=n(y),w=a(214),C=a(1222),x=n(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.getStateFromStores=a.getStateFromStores.bind(a),a.getContent=a.getContent.bind(a),a.handleSuggestionsChanged=a.handleSuggestionsChanged.bind(a),a.scrollToItem=a.scrollToItem.bind(a),a.state=a.getStateFromStores(e.suggestionId),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getStateFromStores",value:function(e){var t=x.default.getSuggestions(e||this.props.suggestionId);return{matchedPretext:t.matchedPretext,items:t.items,terms:t.terms,components:t.components,selection:t.selection}}},{key:"componentDidMount",value:function(){x.default.addSuggestionsChangedListener(this.props.suggestionId,this.handleSuggestionsChanged)}},{key:"componentDidUpdate",value:function(e,t){this.state.selection!==t.selection&&this.state.selection&&this.scrollToItem(this.state.selection)}},{key:"componentWillUnmount",value:function(){x.default.removeSuggestionsChangedListener(this.props.suggestionId,this.handleSuggestionsChanged)}},{key:"getContent",value:function(){return(0,m.default)(E.default.findDOMNode(this.refs.content))}},{key:"handleSuggestionsChanged",value:function(){this.setState(this.getStateFromStores())}},{key:"scrollToItem",value:function(e){var t=this.getContent();if(t&&0!==t.length){var a=t[0].clientHeight;if(a<t[0].scrollHeight){var n=t.scrollTop(),r=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-top"),10),o=(0,m.default)(E.default.findDOMNode(this.refs[e])),s=o[0].offsetTop-parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-bottom"),10)+parseInt(o.css("padding-bottom"),10),u=o[0].offsetTop+o.height()+l;s-r<n?t.scrollTop(s-r):u+r+i>n+a&&t.scrollTop(u-a+r+i)}}}},{key:"renderDivider",value:function(e){return _.default.createElement("div",{key:e+"-divider",className:"suggestion-list__divider"},_.default.createElement("span",null,_.default.createElement(w.FormattedMessage,{id:"suggestion."+e})))}},{key:"renderLoading",value:function(e){return _.default.createElement("div",{key:e+"-loading",className:"suggestion-loader"},_.default.createElement("i",{className:"fa fa-spinner fa-pulse fa-fw margin-bottom"}))}},{key:"render",value:function(){if(0===this.state.items.length)return null;for(var e=[],t=void 0,a=0;a<this.state.items.length;a++){var n=this.state.items[a],r=this.state.terms[a],i=r===this.state.selection,o=this.state.components[a];this.props.renderDividers&&n.type!==t&&(e.push(this.renderDivider(n.type)),t=n.type),n.loading?e.push(this.renderLoading(n.type)):e.push(_.default.createElement(o,{key:r,ref:r,item:this.state.items[a],term:r,matchedPretext:this.state.matchedPretext[a],isSelection:i,onClick:this.props.onCompleteWord}))}var s="suggestion-list suggestion-list--"+this.props.location,l="suggestion-list__content suggestion-list__content--"+this.props.location;return _.default.createElement("div",{className:s},_.default.createElement("div",{ref:"content",className:l},e))}}]),t}(_.default.Component);M.propTypes={suggestionId:v.default.string.isRequired,location:v.default.string,renderDividers:v.default.bool,onCompleteWord:v.default.func.isRequired},M.defaultProps={renderDividers:!1},t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getProfilesNotInChannel:c.getProfilesNotInChannel,getTeamStats:d.getTeamStats},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(173),c=a(82),f=a(1732),p=n(f);t.default=(0,l.connect)(r,i)(p.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(88),s=n(o),l=a(459),u=n(l),d=a(34),c=n(d),f=a(30),p=n(f),h=a(31),m=n(h),g=a(35),v=n(g),b=a(36),_=n(b),y=a(27),E=n(y),w=a(0),C=n(w),x=function(e){function t(e){(0,p.default)(this,t);var a=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.show=a.show.bind(a),a.hide=a.hide.bind(a),a.state={show:!1},a}return(0,_.default)(t,e),(0,m.default)(t,[{key:"show",value:function(e){e&&e.preventDefault(),this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.dialogType,r=t.dialogProps,o=t.onClick,l=(0,u.default)(t,["children","dialogType","dialogProps","onClick"]),d=this.show;o&&(d=function(t){o(),e.show(t)});var c=void 0;return this.state.show&&(c=C.default.createElement(n,(0,s.default)({},r,{onHide:function(){e.hide(),r.onHide&&r.onHide()}}))),C.default.createElement("button",(0,i.default)({},l,{className:"style--none "+l.className,onClick:d}),a,c)}}]),t}(C.default.Component);t.default=x,x.propTypes={children:E.default.node.isRequired,dialogType:E.default.func.isRequired,dialogProps:E.default.object,onClick:E.default.func,className:E.default.string},x.defaultProps={dialogProps:{},className:""}},function(e,t,a){"use strict";function n(e,t){return t}function r(e){return{actions:(0,o.bindActionCreators)({flagPost:s.flagPost,unflagPost:s.unflagPost,setEditingPost:l.setEditingPost,pinPost:l.pinPost,unpinPost:l.unpinPost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(146),l=a(171),u=a(1814),d=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=(0,i.connect)(n,r)(d.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,c.makeGetFilesForPost)();return function(t,a){var n=a.post?a.post.id:"",r=e(t,n),i=0;return a.post.file_ids?i=a.post.file_ids.length:a.post.filenames&&(i=a.post.filenames.length),(0,s.default)({},a,{fileInfos:r,fileCount:i})}}function i(e){return{actions:(0,u.bindActionCreators)({getMissingFilesForPost:d.getMissingFilesForPost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(1265),c=a(1266),f=a(1818),p=n(f);t.default=(0,l.connect)(r,i)(p.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(1184),y=n(_),E=a(47),w=n(E),C=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.fileInfo,t=this.props.fileUrl,a=[];""!==e.extension&&a.push(w.localizeMessage("file_info_preview.type","File type ")+e.extension.toUpperCase()),a.push(w.localizeMessage("file_info_preview.size","Size ")+w.fileSizeToString(e.size));var n=a.join(", "),r=null;return r=y.canDownloadFiles()?b.default.createElement("a",{className:"file-details__preview",href:t,target:"_blank",rel:"noopener noreferrer"},b.default.createElement("span",{className:"file-details__preview-helper"}),b.default.createElement("img",{src:w.getFileIconPath(e)})):b.default.createElement("span",{className:"file-details__preview"},b.default.createElement("span",{className:"file-details__preview-helper"}),b.default.createElement("img",{src:w.getFileIconPath(e)})),b.default.createElement("div",{className:"file-details__container"},r,b.default.createElement("div",{className:"file-details"},b.default.createElement("div",{className:"file-details__name"},e.name),b.default.createElement("div",{className:"file-details__info"},n)))}}]),t}(b.default.PureComponent);C.propTypes={fileInfo:g.default.object.isRequired,fileUrl:g.default.string.isRequired},t.default=C},,function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(174),_=n(b),y=a(47),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),w=a(12),C=a(1859),x=n(C),M=a(1275),S=n(M),k=a(1861),T=n(k),P=a(1863),N=n(P),O=a(1866),I=n(O),R=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.toggleEmbedVisibility=function(){_.default.setGlobalItem(w.StoragePrefixes.EMBED_VISIBLE+t.props.post.id,!t.props.isEmbedVisible)},t.handleImageClick=function(){t.setState({showPreviewModal:!0})},t.getSlackAttachment=t.getSlackAttachment.bind(t),t.generateToggleableEmbed=t.generateToggleableEmbed.bind(t),t.generateStaticEmbed=t.generateStaticEmbed.bind(t),t.isLinkToggleable=t.isLinkToggleable.bind(t),t.handleLinkLoadError=t.handleLinkLoadError.bind(t),t.handleLinkLoaded=t.handleLinkLoaded.bind(t),t.state={link:E.extractFirstLink(e.post.message),linkLoadError:!1,linkLoaded:!1},t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"componentDidMount",value:function(){this.preCheckImageLink()}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.post.message!==this.props.post.message&&this.setState({link:E.extractFirstLink(e.post.message)},function(){t.preCheckImageLink()})}},{key:"getSlackAttachment",value:function(){var e=[];return this.props.post.props&&this.props.post.props.attachments&&(e=this.props.post.props.attachments),v.default.createElement(T.default,{attachments:e,postId:this.props.post.id,key:this.props.post.id})}},{key:"preCheckImageLink",value:function(){var e=this;if(!this.props.isEmbedVisible&&this.isLinkImage(this.state.link)){var t=new Image;t.src=this.state.link,t.onload=function(){e.handleLinkLoaded()},t.onerror=function(){e.handleLinkLoadError()}}}},{key:"isLinkImage",value:function(e){var t=/.+\/(.+\.(?:jpg|gif|bmp|png|jpeg))(?:\?.*)?$/i,a=e.match(t);return!(!a||!a[1])}},{key:"isLinkToggleable",value:function(){var e=this.state.link;return!!e&&(!!x.default.isYoutubeLink(e)||!!this.isLinkImage(e))}},{key:"handleLinkLoadError",value:function(){this.setState({linkLoadError:!0})}},{key:"handleLinkLoaded",value:function(){this.setState({linkLoaded:!0})}},{key:"generateToggleableEmbed",value:function(){var e=this.state.link;return e?x.default.isYoutubeLink(e)?v.default.createElement(x.default,{channelId:this.props.post.channel_id,link:e,show:this.props.isEmbedVisible,onLinkLoaded:this.handleLinkLoaded}):this.isLinkImage(e)?v.default.createElement(I.default,{channelId:this.props.post.channel_id,link:e,onLinkLoadError:this.handleLinkLoadError,onLinkLoaded:this.handleLinkLoaded,handleImageClick:this.handleImageClick}):null:null}},{key:"generateStaticEmbed",value:function(){if(this.props.post.props&&this.props.post.props.attachments)return this.getSlackAttachment();var t=E.extractFirstLink(this.props.post.message);return t&&"true"===e.window.mm_config.EnableLinkPreviews&&this.props.previewEnabled?v.default.createElement(N.default,{link:t,previewCollapsed:this.props.previewCollapsed,post:this.props.post}):null}},{key:"renderImagePreview",value:function(){var e=this,t=this.state.link;if(!t||!this.isLinkImage(t))return null;var a=/(?:\.([^.]+))?$/;if(!a||a.length<=1)return null;var n=a.exec(t)[1];return v.default.createElement(S.default,{show:this.state.showPreviewModal,onModalDismissed:function(){return e.setState({showPreviewModal:!1})},startIndex:0,fileInfos:[{hasPreviewImage:!1,link:t,extension:n}]})}},{key:"render",value:function(){if(this.isLinkToggleable()&&!this.state.linkLoadError){var e=/^\s*https?:\/\/.*$/.test(this.props.post.message),t=v.default.createElement("a",{key:"toggle",className:"post__embed-visibility "+(e?"pull-left":""),"data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility}),a=v.default.createElement("div",{key:"message"},this.props.children),n=[a];(this.state.linkLoaded||x.default.isYoutubeLink(this.state.link))&&(e?n.unshift(t):n.push(t)),this.props.isEmbedVisible&&n.push(v.default.createElement("div",{key:"embed",className:"post__embed-container"},this.generateToggleableEmbed()));var r=this.renderImagePreview();return v.default.createElement("div",null,n,r)}var i=this.generateStaticEmbed();return i?v.default.createElement("div",null,this.props.children,i):this.props.children}}]),a}(v.default.PureComponent);R.propTypes={post:m.default.object.isRequired,children:m.default.element.isRequired,previewCollapsed:m.default.string,previewEnabled:m.default.bool,isEmbedVisible:m.default.bool},R.defaultProps={previewCollapsed:"",previewEnabled:!1},t.default=R}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(171),E=a(1233),w=n(E),C=a(1867),x=n(C),M=a(12),S=n(M),k=a(47),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),P=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.handlePress=function(e){e.preventDefault(),n.props.isFlagged?(0,y.unflagPost)(n.props.postId):(0,y.flagPost)(n.props.postId)},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(this.props.isEphemeral)return null;var e=this.props.isFlagged,t=e?"visible":"",a=null;this.props.idCount>-1&&(a=T.createSafeId(this.props.idPrefix+this.props.idCount));var n=void 0;return n=e?v.default.createElement(x.default,{className:"icon"}):v.default.createElement(w.default,{className:"icon"}),v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],key:"flagtooltipkey"+t,delayShow:S.default.OVERLAY_TIME_DELAY,placement:"top",overlay:v.default.createElement(b.Tooltip,{id:"flagTooltip"},v.default.createElement(_.FormattedMessage,{id:e?"flag_post.unflag":"flag_post.flag",defaultMessage:e?"Unflag":"Flag for follow up"}))},v.default.createElement("button",{id:a,className:"style--none flag-icon__container "+t,onClick:this.handlePress},n))}}]),t}(v.default.PureComponent);P.propTypes={idPrefix:m.default.string.isRequired,idCount:m.default.number,postId:m.default.string.isRequired,isFlagged:m.default.bool.isRequired,isEphemeral:m.default.bool},P.defaultProps={idCount:-1,isEphemeral:!1},t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-1106.000000, -33.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",null,m.default.createElement("g",{transform:"translate(1096.000000, 22.000000)"},m.default.createElement("g",{transform:"translate(10.000000, 11.000000)"},m.default.createElement("path",{d:"M8,1 L2,1 C2,0.447 1.553,0 1,0 C0.447,0 0,0.447 0,1 L0,15.5 C0,15.776 0.224,16 0.5,16 L1.5,16 C1.776,16 2,15.776 2,15.5 L2,11 L7,11 L7,12 C7,12.553 7.447,13 8,13 L15,13 C15.553,13 16,12.553 16,12 L16,4 C16,3.447 15.553,3 15,3 L9,3 L9,2 C9,1.447 8.553,1 8,1 Z M9,11 L9,9.5 C9,9.224 8.776,9 8.5,9 L2,9 L2,3 L7,3 L7,4.5 C7,4.776 7.224,5 7.5,5 L14,5 L14,11 L9,11 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return{enableFormatting:(0,o.getBool)(e,i.Preferences.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),pluginPostTypes:e.plugins.postTypes,theme:(0,o.getTheme)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(18),o=a(89),s=a(1868),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(n)(l.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(457),_=a(59),y=n(_),E=a(169),w=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.state={currentTeamDisplayName:y.default.getCurrent().name},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"renderTimeTag",value:function(){var e=new Date(this.props.eventTime);return v.default.createElement("time",{className:"post__time",dateTime:e.toISOString(),title:e},e.toLocaleString("en",{hour:"2-digit",minute:"2-digit",hour12:!this.props.useMilitaryTime}))}},{key:"render",value:function(){return(0,E.isMobile)()||!this.props.isPermalink?this.renderTimeTag():v.default.createElement(b.Link,{to:"/"+this.state.currentTeamDisplayName+"/pl/"+this.props.postId,className:"post__permalink"},this.renderTimeTag())}}]),t}(v.default.PureComponent);w.propTypes={isPermalink:m.default.bool.isRequired,eventTime:m.default.number.isRequired,useMilitaryTime:m.default.bool,postId:m.default.string},w.defaultProps={eventTime:0,useMilitaryTime:!1},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 500 500",style:v.background},m.default.createElement("g",{id:"XMLID_1_"},m.default.createElement("g",{id:"XMLID_3_"},m.default.createElement("path",{id:"XMLID_4_",style:v.st0,d:"M396.9,47.7l2.6,53.1c43,47.5,60,114.8,38.6,178.1c-32,94.4-137.4,144.1-235.4,110.9 S51.1,253.1,83,158.7C104.5,95.2,159.2,52,222.5,40.5l34.2-40.4C150-2.8,49.3,63.4,13.3,169.9C-31,300.6,39.1,442.5,169.9,486.7 s272.6-25.8,316.9-156.6C522.7,223.9,483.1,110.3,396.9,47.7z"})),m.default.createElement("path",{id:"XMLID_2_",style:v.st0,d:"M335.6,204.3l-1.8-74.2l-1.5-42.7l-1-37c0,0,0.2-17.8-0.4-22c-0.1-0.9-0.4-1.6-0.7-2.2 c0-0.1-0.1-0.2-0.1-0.3c0-0.1-0.1-0.2-0.1-0.2c-0.7-1.2-1.8-2.1-3.1-2.6c-1.4-0.5-2.9-0.4-4.2,0.2c0,0-0.1,0-0.1,0 c-0.2,0.1-0.3,0.1-0.4,0.2c-0.6,0.3-1.2,0.7-1.8,1.3c-3,3-13.7,17.2-13.7,17.2l-23.2,28.8l-27.1,33l-46.5,57.8 c0,0-21.3,26.6-16.6,59.4s29.1,48.7,48,55.1c18.9,6.4,48,8.5,71.6-14.7C336.4,238.4,335.6,204.3,335.6,204.3z"}))))}}]),t}(m.default.PureComponent);t.default=g;var v={background:{enableBackground:"new 0 0 500 500"},st0:{fillRule:"evenodd",clipRule:"evenodd"}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=[];a.push(b.default.createElement("div",null,b.default.createElement(y.FormattedHTMLMessage,{id:"sidebar_header.tutorial",defaultMessage:"<h4>Main Menu</h4> <p>The <strong>Main Menu</strong> is where you can <strong>Invite New Members</strong>, access your <strong>Account Settings</strong> and set your <strong>Theme Color</strong>.</p> <p>Team administrators can also access their <strong>Team Settings</strong> from this menu.</p><p>System administrators will find a <strong>System Console</strong> option to administrate the entire system.</p>"})));var n="right",r="left";return t&&(n="bottom",r="up"),b.default.createElement("div",{onClick:e},b.default.createElement(D,{ref:"tip",placement:n,screens:a,overlayClass:"tip-overlay--header--"+r,diagnosticsTag:"tutorial_tip_3_main_menu"}))}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=n(i),s=a(30),l=n(s),u=a(31),d=n(u),c=a(35),f=n(c),p=a(36),h=n(p);t.createMenuTip=r;var m=a(27),g=n(m),v=a(0),b=n(v),_=a(215),y=a(214),E=a(303),w=a(168),C=a(120),x=n(C),M=a(42),S=n(M),k=a(12),T=n(k),P=a(47),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(P),O=a(1901),I=n(O),R=a(1902),A=n(R),L=T.default.Preferences,D=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleCircleClick=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-screen");a.setState({currentScreen:t})},a.getTarget=function(){return a.refs.target},a.handleNext=a.handleNext.bind(a),a.toggle=a.toggle.bind(a),a.skipTutorial=a.skipTutorial.bind(a),a.state={currentScreen:0,show:!1},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"toggle",value:function(){var e=!this.state.show;if(this.setState({show:e}),!e&&this.state.currentScreen>=this.props.screens.length-1){var t=x.default.getInt(L.TUTORIAL_STEP,S.default.getCurrentId(),0);(0,w.savePreference)(L.TUTORIAL_STEP,S.default.getCurrentId(),(t+1).toString())}}},{key:"handleNext",value:function(){if(this.state.currentScreen<this.props.screens.length-1)return void this.setState({currentScreen:this.state.currentScreen+1});if(this.props.diagnosticsTag){var e=this.props.diagnosticsTag;this.props.screens.length>1&&(e+="_"+(this.state.currentScreen+1).toString()),this.state.currentScreen===this.props.screens.length-1?e+="_okay":e+="_next",(0,E.trackEvent)("tutorial",e)}this.closeRightSidebar(),this.toggle()}},{key:"closeRightSidebar",value:function(){N.isMobile()&&setTimeout(function(){document.querySelector(".app__body .inner-wrap").classList.remove("move--left-small"),document.querySelector(".app__body .sidebar--menu").classList.remove("move--left")})}},{key:"skipTutorial",value:function(e){if(e.preventDefault(),this.props.diagnosticsTag){var t=this.props.diagnosticsTag;this.props.screens.length>1&&(t+="_"+this.state.currentScreen),t+="_skip",(0,E.trackEvent)("tutorial",t)}(0,w.savePreference)(L.TUTORIAL_STEP,S.default.getCurrentId(),"999")}},{key:"render",value:function(){var e=this.state.currentScreen===this.props.screens.length-1?b.default.createElement(y.FormattedMessage,{id:"tutorial_tip.ok",defaultMessage:"Okay"}):b.default.createElement(y.FormattedMessage,{id:"tutorial_tip.next",defaultMessage:"Next"}),t=[];if(this.props.screens.length>1)for(var a=0;a<this.props.screens.length;a++){var n="circle";a===this.state.currentScreen&&(n+=" active"),t.push(b.default.createElement("a",{href:"#",key:"dotactive"+a,className:n,"data-screen":a,onClick:this.handleCircleClick}))}var r=I.default;return"tip-overlay--header"!==this.props.overlayClass&&"tip-overlay--sidebar"!==this.props.overlayClass&&"tip-overlay--header--up"!==this.props.overlayClass||(r=A.default),b.default.createElement("div",{id:"tipButton",className:"tip-div "+this.props.overlayClass,onClick:this.toggle},b.default.createElement("img",{className:"tip-button",src:r,width:"35",onClick:this.toggle,ref:"target"}),b.default.createElement(_.Overlay,{show:this.state.show},b.default.createElement("div",{className:"tip-backdrop"})),b.default.createElement(_.Overlay,{placement:this.props.placement,show:this.state.show,rootClose:!0,onHide:this.toggle,target:this.getTarget},b.default.createElement("div",{className:"tip-overlay "+this.props.overlayClass},b.default.createElement("div",{className:"arrow"}),this.props.screens[this.state.currentScreen],b.default.createElement("div",{className:"tutorial__footer"},b.default.createElement("div",{className:"tutorial__circles"},t),b.default.createElement("div",{className:"text-right"},b.default.createElement("button",{id:"tipNextButton",className:"btn btn-primary",onClick:this.handleNext},e),b.default.createElement("div",{className:"tip-opt"},b.default.createElement(y.FormattedMessage,{id:"tutorial_tip.seen",defaultMessage:"Seen this before? "}),b.default.createElement("a",{href:"#",onClick:this.skipTutorial},b.default.createElement(y.FormattedMessage,{id:"tutorial_tip.out",defaultMessage:"Opt out of these tips."}))))))))}}]),t}(b.default.Component);t.default=D,D.defaultProps={overlayClass:""},D.propTypes={screens:g.default.array.isRequired,placement:g.default.string.isRequired,overlayClass:g.default.string,diagnosticsTag:g.default.string}},,function(e,t,a){function n(e){return null!=e&&i(e.length)&&!r(e)}var r=a(1406),i=a(1305);e.exports=n},function(e,t,a){function n(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}var r=a(1971),i=a(1972),o=a(1973),s=a(1974),l=a(1975);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,a){function n(e,t){for(var a=e.length;a--;)if(r(e[a][0],t))return a;return-1}var r=a(1309);e.exports=n},function(e,t,a){var n=a(1188),r=n(Object,"create");e.exports=r},function(e,t,a){function n(e,t){var a=e.__data__;return r(t)?a["string"==typeof t?"string":"hash"]:a.map}var r=a(1993);e.exports=n},function(e,t,a){function n(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var r=a(1220),i=1/0;e.exports=n},function(e,t,a){function n(e,t,a,n){var o=!a;a||(a={});for(var s=-1,l=t.length;++s<l;){var u=t[s],d=n?n(a[u],e[u],u,a,e):void 0;void 0===d&&(d=e[u]),o?i(a,u,d):r(a,u,d)}return a}var r=a(1427),i=a(1428);e.exports=n},,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(47),y=a(1205),E=n(y),w=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleChange=function(e){e.preventDefault();var t=e.target.value.trim().replace(/\s/g,"");t!==a.state.token&&a.setState({token:t})},a.handleSubmit=function(e){e.preventDefault();var t={};if(!a.state.token)return t.serverError=(0,_.localizeMessage)("login_mfa.tokenReq","Please enter an MFA token"),void a.setState(t);t.serverError="",t.saving=!0,a.setState(t),a.props.submit(a.props.loginId,a.props.password,a.state.token)},a.state={saving:!1,token:"",serverError:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=void 0,t="";return this.state.serverError&&(e=v.default.createElement("label",{className:"control-label"},this.state.serverError),t=" has-error"),v.default.createElement("form",{onSubmit:this.handleSubmit},v.default.createElement("div",{className:"signup__email-container"},v.default.createElement("p",null,v.default.createElement(b.FormattedMessage,{id:"login_mfa.enterToken",defaultMessage:"To complete the sign in process, please enter a token from your smartphone's authenticator"})),v.default.createElement("div",{className:"form-group"+t},e),v.default.createElement("div",{className:"form-group"+t},v.default.createElement("input",{type:"text",className:"form-control",name:"token",placeholder:(0,_.localizeMessage)("login_mfa.token","MFA Token"),spellCheck:"false",autoComplete:"off",autoFocus:!0,onChange:this.handleChange})),v.default.createElement("div",{className:"form-group"},v.default.createElement(E.default,{saving:this.state.saving,disabled:this.state.saving,onClick:this.handleSubmit,defaultMessage:(0,_.localizeMessage)("login_mfa.submit","Submit"),savingMessage:(0,_.localizeMessage)("login_mfa.submitting","Submitting...")}))))}}]),t}(v.default.PureComponent);w.propTypes={loginId:m.default.string.isRequired,password:m.default.string.isRequired,submit:m.default.func.isRequired},t.default=w},,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this;return function(){var t=(0,c.default)(s.default.mark(function t(a,n){var r,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"===n().entities.general.config.EnableCustomEmoji){e.next=2;break}return e.abrupt("return",{data:!0});case 2:return r=y.default.getRecentEmojis(),i=(0,h.getEmojiMap)(n()),o=r.filter(function(e){return!i.has(e)}),o.forEach(function(e){p.getCustomEmojiByName(e)(a,n)}),e.abrupt("return",{data:!0});case 7:case"end":return e.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()}function i(){var e=this;return function(){var t=(0,c.default)(s.default.mark(function t(a){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:E.ActionTypes.INCREMENT_EMOJI_PICKER_PAGE}),e.abrupt("return",{data:!0});case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEmoji=t.addEmoji=void 0;var o=a(67),s=n(o),l=a(28),u=n(l),d=a(68),c=n(d);t.addEmoji=function(){var e=(0,c.default)(s.default.mark(function e(t,a,n,r){var i,o,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createCustomEmoji(t,a)(b.default.dispatch,b.default.getState);case 2:i=e.sent,o=i.data,l=i.error,o&&n?n(o):l&&r&&r((0,u.default)({id:l.server_error_id},l));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),t.deleteEmoji=function(){var e=(0,c.default)(s.default.mark(function e(t,a,n){var r,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteCustomEmoji(t)(b.default.dispatch,b.default.getState);case 2:r=e.sent,i=r.data,o=r.error,i?(g.default.handleServerAction({type:E.ActionTypes.REMOVED_CUSTOM_EMOJI,id:t}),a&&a(i)):o&&n&&n((0,u.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}();t.loadRecentlyUsedCustomEmojis=r,t.incrementEmojiPickerPage=i;var f=a(309),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(f),h=a(471),m=a(49),g=n(m),v=a(40),b=n(v),_=a(306),y=n(_),E=a(12)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1618),i=n(r),o=a(1619),s=n(o),l=a(1620),u=n(l),d=a(1621),c=n(d),f=a(1622),p=n(f),h=a(1623),m=n(h),g=a(1624),v=n(g),b=a(1625),_=n(b);(0,s.default)(i.default),(0,u.default)(i.default),(0,c.default)(i.default),(0,p.default)(i.default),(0,m.default)(i.default),(0,v.default)(i.default),(0,_.default)(i.default),t.default=i.default,e.exports=t.default},function(e,t,a){function n(e,t,a){function n(t){var a=b,n=_;return b=_=void 0,x=t,E=e.apply(n,a)}function d(e){return x=e,w=setTimeout(p,t),M?n(e):E}function c(e){var a=e-C,n=e-x,r=t-a;return S?u(r,y-n):r}function f(e){var a=e-C,n=e-x;return void 0===C||a>=t||a<0||S&&n>=y}function p(){var e=i();if(f(e))return h(e);w=setTimeout(p,c(e))}function h(e){return w=void 0,k&&b?n(e):(b=_=void 0,E)}function m(){void 0!==w&&clearTimeout(w),x=0,b=C=_=w=void 0}function g(){return void 0===w?E:h(i())}function v(){var e=i(),a=f(e);if(b=arguments,_=this,C=e,a){if(void 0===w)return d(C);if(S)return w=setTimeout(p,t),n(C)}return void 0===w&&(w=setTimeout(p,t)),E}var b,_,y,E,w,C,x=0,M=!1,S=!1,k=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,r(a)&&(M=!!a.leading,S="maxWait"in a,y=S?l(o(a.maxWait)||0,t):y,k="trailing"in a?!!a.trailing:k),v.cancel=m,v.flush=g,v}var r=a(1166),i=a(1696),o=a(1697),s="Expected a function",l=Math.max,u=Math.min;e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(459),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),n.getInput=function(){return n.refs.input},r=a,(0,m.default)(n,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&(this.refs.input.value=this.props.value)}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.inputComponent,n=(0,s.default)(e,["value","inputComponent"]);return E.default.createElement(a||"input",(0,i.default)({},n,{ref:"input",defaultValue:t}))}},{key:"value",get:function(){return this.refs.input.value},set:function(e){this.refs.input.value=e}}]),t}(E.default.PureComponent);w.propTypes={inputComponent:_.default.func,value:_.default.string.isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onHide=function(){a.setState({copiedLink:!1}),a.props.onHide()},a.copyLink=function(){var e=a.refs.textarea;e.focus(),e.setSelectionRange(0,a.props.link.length);try{document.execCommand("copy")?a.setState({copiedLink:!0}):a.setState({copiedLink:!1})}catch(e){a.setState({copiedLink:!1})}},a.state={copiedLink:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=null;this.props.helpText&&(e=v.default.createElement("p",null,this.props.helpText,v.default.createElement("br",null),v.default.createElement("br",null)));var t=null;document.queryCommandSupported("copy")&&(t=v.default.createElement("button",{id:"linkModalCopyLink","data-copy-btn":"true",type:"button",className:"btn btn-primary pull-left",onClick:this.copyLink},v.default.createElement(_.FormattedMessage,{id:"get_link.copy",defaultMessage:"Copy Link"})));var a=v.default.createElement("textarea",{id:"linkModalTextArea",className:"form-control no-resize min-height",ref:"textarea",value:this.props.link,onClick:this.copyLink,readOnly:!0}),n=null;return this.state.copiedLink&&(n=v.default.createElement("p",{className:"alert alert-success alert--confirm"},v.default.createElement("i",{className:"fa fa-check"}),v.default.createElement(_.FormattedMessage,{id:"get_link.clipboard",defaultMessage:" Link copied"}))),v.default.createElement(b.Modal,{show:this.props.show,onHide:this.onHide},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement("h4",{className:"modal-title"},this.props.title)),v.default.createElement(b.Modal.Body,null,e,a),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{id:"linkModalCloseButton",type:"button",className:"btn btn-default",onClick:this.onHide},v.default.createElement(_.FormattedMessage,{id:"get_link.close",defaultMessage:"Close"})),t,n))}}]),t}(v.default.PureComponent);y.propTypes={show:m.default.bool.isRequired,onHide:m.default.func.isRequired,title:m.default.string.isRequired,helpText:m.default.string,link:m.default.string.isRequired},y.defaultProps={helpText:null},t.default=y},function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,i){try{var o=t[r](i),s=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function r(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,r){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.FileTypes.FETCH_FILES_FOR_POST_REQUEST},r),i=void 0,t.prev=2,t.next=5,d.Client4.getFileInfosForPost(e);case 5:i=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(2),(0,p.forceLogoutIfNecessary)(t.t0,n,r),n((0,u.batchActions)([{type:c.FileTypes.FETCH_FILES_FOR_POST_FAILURE,error:t.t0},(0,f.logError)(t.t0)(n)]),r),t.abrupt("return",{error:t.t0});case 13:return n((0,u.batchActions)([{type:c.FileTypes.RECEIVED_FILES_FOR_POST,data:i,postId:e},{type:c.FileTypes.FETCH_FILES_FOR_POST_SUCCESS}]),r),t.abrupt("return",{data:!0});case 15:case"end":return t.stop()}},a,t,[[2,8]])}));return function(e,t){return a.apply(this,arguments)}}()}function i(e){var t=this;return function(){var a=n(regeneratorRuntime.mark(function a(n,i){var o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i().entities.files.fileIdsByPostId,s=[],o[e]){t.next=6;break}return t.next=5,r(e)(n,i);case 5:s=t.sent;case 6:return t.abrupt("return",{data:s});case 7:case"end":return t.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()}function o(e,t,a,r,i){var o=this;return function(){var s=n(regeneratorRuntime.mark(function n(s,h){var m,g,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:c.FileTypes.UPLOAD_FILES_REQUEST},h),m=void 0,n.prev=2,n.next=5,d.Client4.uploadFile(r,i);case 5:m=n.sent,n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(2),(0,p.forceLogoutIfNecessary)(n.t0,s,h),g={type:c.FileTypes.UPLOAD_FILES_FAILURE,clientIds:a,channelId:e,rootId:t,error:n.t0},s((0,u.batchActions)([g,(0,f.logError)(n.t0)(s)]),h),n.abrupt("return",{error:n.t0});case 14:return v=m.file_infos.map(function(e,t){return l({},e,{clientId:m.client_ids[t]})}),s((0,u.batchActions)([{type:c.FileTypes.RECEIVED_UPLOAD_FILES,data:v,channelId:e,rootId:t},{type:c.FileTypes.UPLOAD_FILES_SUCCESS}]),h),n.abrupt("return",{data:m});case 17:case"end":return n.stop()}},n,o,[[2,8]])}));return function(e,t){return s.apply(this,arguments)}}()}function s(e){return(0,p.bindClientFunc)(d.Client4.getFilePublicLink,c.FileTypes.GET_FILE_PUBLIC_LINK_REQUEST,[c.FileTypes.RECEIVED_FILE_PUBLIC_LINK,c.FileTypes.GET_FILE_PUBLIC_LINK_SUCCESS],c.FileTypes.GET_FILE_PUBLIC_LINK_FAILURE,e)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.getFilesForPost=r,t.getMissingFilesForPost=i,t.uploadFile=o,t.getFilePublicLink=s;var u=a(83),d=a(23),c=a(10),f=a(92),p=a(91)},function(e,t,a){"use strict";function n(e){return e.entities.files.files}function r(e,t){return t?e.entities.files.fileIdsByPostId[t]||[]:[]}function i(e){return e.entities.files.filePublicLink}function o(){return(0,s.createSelector)([n,r],function(e,t){return t.map(function(t){return e[t]}).filter(function(e){return Boolean(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilePublicLink=i,t.makeGetFilesForPost=o;var s=a(71)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{actions:{patchChannel:(0,s.bindActionCreators)(c.patchChannel,e)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(11),l=a(141),u=a(71),d=a(89),c=a(90),f=a(12),p=n(f),h=a(1729),m=n(h),g=(0,u.createSelector)(function(e){return(0,d.getBool)(e,p.default.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")},function(e){var t=e.requests,a=t.channels.updateChannel;return{serverError:a.error,requestStatus:a.status}},function(e,t){return(0,o.default)({ctrlSend:e},t)});t.default=(0,l.connect)(g,r)(m.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 14 14"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-115.000000, -147.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",{transform:"translate(95.000000, 0.000000)"},m.default.createElement("g",{transform:"translate(20.000000, 113.000000)"},m.default.createElement("g",{transform:"translate(0.000000, 34.000000)"},m.default.createElement("path",{d:"M10.409,0.893375 C9.40275,0.329875 8.24075,0.00875 7,0 C3.13075,0 0,3.140375 0,7 C0,10.521875 2.594375,13.42775 5.97625,13.93 C6.314875,13.974625 6.6535,14 7,14 C8.24075,14 9.40275,13.678875 10.409,13.1145 C12.551875,11.918375 14,9.6285 14,7 C13.99125,4.3715 12.551875,2.090375 10.409,0.893375 Z M11.554375,4.375 L9.431625,4.375 C9.302125,3.5 9.10875,2.736125 8.86725,2.085125 C10.003875,2.519125 10.9515,3.5 11.554375,4.375 Z M6.941375,1.73775 C6.960625,1.736875 6.979875,1.73425 7,1.73425 C7.020125,1.73425 7.039375,1.736875 7.058625,1.73775 C7.340375,2.172625 7.697375,3.5 7.92225,4.375 L6.07775,4.375 C6.302625,3.5 6.659625,2.172625 6.941375,1.73775 Z M1.81475,7.875 C1.7675,7.875 1.73425,7.29925 1.73425,7 C1.73425,6.70075 1.764875,6.125 1.813,6.125 L4.396875,6.125 C4.384625,6.125 4.375,6.7025 4.375,7 C4.375,7.2975 4.384625,7.875 4.396875,7.875 L1.81475,7.875 Z M4.354875,11.54475 C4.346125,11.54475 4.337375,11.54475 4.337375,11.536 C3.548125,11.07575 2.893625,10.5 2.436875,9.625 L4.568375,9.625 C4.697875,10.5 4.890375,11.262125 5.131875,11.91225 C4.8615,11.81075 4.599875,11.692625 4.354875,11.54475 Z M4.568375,4.375 L2.443875,4.375 C3.045875,3.5 3.994375,2.517375 5.131875,2.083375 C4.89125,2.734375 4.697875,3.5 4.568375,4.375 Z M7.0595,12.26225 C7.039375,12.26225 7.020125,12.26575 7,12.26575 C6.979875,12.26575 6.960625,12.26225 6.9405,12.26225 C6.65875,11.8265 6.302625,11.375 6.07775,9.625 L7.921375,9.625 C7.697375,11.375 7.34125,11.8265 7.0595,12.26225 Z M8.11125,7.875 L5.88875,7.875 C5.873875,7.875 5.8625,7.30625 5.8625,7 C5.8625,6.69375 5.873875,6.125 5.88875,6.125 L8.11125,6.125 C8.126125,6.125 8.1375,6.69375 8.1375,7 C8.1375,7.30625 8.126125,7.875 8.11125,7.875 Z M10.409,11.0075 C10.13075,11.242 9.828,11.45025 9.506875,11.631375 C9.30125,11.74075 9.086875,11.839625 8.8655,11.923625 C9.107,11.270875 9.30125,10.5 9.431625,9.625 L11.557875,9.625 C11.25425,10.5 10.8675,10.618125 10.409,11.0075 Z M9.603125,7.875 C9.615375,7.875 9.625,7.2975 9.625,7 C9.625,6.7025 9.615375,6.125 9.603125,6.125 L12.186125,6.125 C12.235125,6.125 12.26575,6.70075 12.26575,7 C12.26575,7.29925 12.233375,7.875 12.18525,7.875 L9.603125,7.875 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"12px",height:"13px",viewBox:"0 0 13 15"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-116.000000, -175.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",{transform:"translate(95.000000, 0.000000)"},m.default.createElement("g",{transform:"translate(20.000000, 113.000000)"},m.default.createElement("g",{transform:"translate(1.000000, 62.000000)"},m.default.createElement("path",{d:"M12.0714286,6.5 L11.1428571,6.5 L11.1428571,4.64285714 C11.1428571,2.07814286 9.06471429,0 6.5,0 C3.93528571,0 1.85714286,2.07814286 1.85714286,4.64285714 L1.85714286,6.5 L0.928571429,6.5 C0.415071429,6.5 0,7.00792857 0,7.52142857 L0,13.9285714 C0,14.4420714 0.415071429,14.8571429 0.928571429,14.8571429 L12.0714286,14.8571429 C12.5849286,14.8571429 13,14.4420714 13,13.9285714 L13,7.52142857 C13,7.00792857 12.5849286,6.5 12.0714286,6.5 Z M6.5,1.85714286 C8.03585714,1.85714286 9.28571429,3.107 9.28571429,4.64285714 L9.28571429,6.5 L8.35714286,6.5 L4.64285714,6.5 L3.71428571,6.5 L3.71428571,4.64285714 C3.71428571,3.107 4.96414286,1.85714286 6.5,1.85714286 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(1333),w=n(E),C=a(12),x=n(C),M=a(47),S=a(1205),k=n(S),T=a(1752),P=n(T),N=x.default.KeyCodes,O=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.nextPage=function(){a.props.handlePageChange&&a.props.handlePageChange(a.state.page+1,a.state.page),a.refs.list.setSelected(0),a.setState({page:a.state.page+1})},a.prevPage=function(){0!==a.state.page&&(a.props.handlePageChange&&a.props.handlePageChange(a.state.page-1,a.state.page),a.refs.list.setSelected(0),a.setState({page:a.state.page-1}))},a.resetPaging=function(){a.setState({page:0})},a.onSelect=function(e){a.selected=e},a.onAdd=function(e){if(!(a.props.maxValues&&a.props.values.length>=a.props.maxValues)){for(var t=0;t<a.props.values.length;t++)if(a.props.values[t].id===e.id)return;a.props.handleAdd(e),a.selected=null,a.refs.select.handleInputChange({target:{value:""}}),a.onInput(""),a.refs.select.focus();var n=a.props.submitImmediatelyOn;n&&n(e)&&a.props.handleSubmit([e])}},a.onInput=function(e){""===e?a.refs.list.setSelected(-1):a.refs.list.setSelected(0),a.selected=null,a.props.handleInput(e)},a.onInputKeyDown=function(e){switch(e.keyCode){case N.ENTER:e.preventDefault()}},a.handleEnterPress=function(e){switch(e.keyCode){case N.ENTER:if(null==a.selected)return void a.props.handleSubmit();a.onAdd(a.selected)}},a.handleOnClick=function(e){e.preventDefault(),a.props.handleSubmit()},a.onChange=function(e){e.length<a.props.values.length&&a.props.handleDelete(e)},a.handleRender=function(){return null},a.selected=null,a.state={page:0},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleEnterPress),this.refs.select.focus()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEnterPress)}},{key:"render",value:function(){var e=(0,i.default)([],this.props.options),t=this.props.values,a=void 0;this.props.numRemainingText?a=this.props.numRemainingText:null!=this.props.maxValues&&(a=_.default.createElement(y.FormattedMessage,{id:"multiselect.numRemaining",defaultMessage:"You can add {num, number} more. ",values:{num:this.props.maxValues-this.props.values.length}}));var n=void 0;this.props.buttonSubmitText?n=this.props.buttonSubmitText:null!=this.props.maxValues&&(n=_.default.createElement(y.FormattedMessage,{id:"multiselect.go",defaultMessage:"Go"}));var r=[],o=void 0,s=void 0,l=void 0;this.props.noteText&&(l=_.default.createElement("div",{className:"multi-select__note"},_.default.createElement("div",{className:"note__icon"},_.default.createElement("span",{className:"fa fa-info"})),_.default.createElement("div",null,this.props.noteText)));for(var u={},d=0;d<t.length;d++)u[t[d].id]=!0;for(var c=e.length-1;c>=0;c--)u[e[c].id]&&e.splice(c,1);if(e&&e.length>this.props.perPage){var f=this.state.page*this.props.perPage,p=f+this.props.perPage;r=e.slice(f,p),e.length>p&&(o=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__next",onClick:this.nextPage},_.default.createElement(y.FormattedMessage,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.state.page>0&&(s=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__prev",onClick:this.prevPage},_.default.createElement(y.FormattedMessage,{id:"filtered_user_list.prev",defaultMessage:"Previous"})))}else r=e;return _.default.createElement("div",{className:"filtered-user-list"},_.default.createElement("div",{className:"filter-row filter-row--full"},_.default.createElement("div",{className:"multi-select__container"},_.default.createElement(w.default,{ref:"select",multi:!0,options:this.props.options,joinValues:!0,clearable:!1,openOnFocus:!0,onInputChange:this.onInput,onInputKeyDown:this.onInputKeyDown,onBlurResetsInput:!1,onCloseResetsInput:!1,onChange:this.onChange,value:this.props.values,valueRenderer:this.props.valueRenderer,menuRenderer:this.handleRender,arrowRenderer:this.handleRender,noResultsText:null,placeholder:(0,M.localizeMessage)("multiselect.placeholder","Search and add members")}),_.default.createElement(k.default,{saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:n})),_.default.createElement("div",{className:"multi-select__help"},a,l)),_.default.createElement(P.default,{ref:"list",options:r,optionRenderer:this.props.optionRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect}),_.default.createElement("div",{className:"filter-controls"},s,o))}}]),t}(_.default.Component);t.default=O,O.propTypes={options:v.default.arrayOf(v.default.object),optionRenderer:v.default.func,values:v.default.arrayOf(v.default.object),valueRenderer:v.default.func,handleInput:v.default.func,handleDelete:v.default.func,perPage:v.default.number,handlePageChange:v.default.func,handleAdd:v.default.func,handleSubmit:v.default.func,noteText:v.default.node,maxValues:v.default.number,numRemainingText:v.default.node,buttonSubmitText:v.default.node,submitImmediatelyOn:v.default.func,saving:v.default.bool}},function(e,t,a){"use strict";function n(e){return{canManageChannelMembers:(0,i.canManageChannelMembers)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(144),o=a(1753),s=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=(0,r.connect)(n)(s.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"10px",viewBox:"0 0 16 10",version:"1.1"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-188.000000, -38.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",null,m.default.createElement("g",null,m.default.createElement("g",{transform:"translate(188.000000, 38.000000)"},m.default.createElement("path",{d:"M15.5,0 C15.776,0 16,0.224 16,0.5 L16,1.5 C16,1.776 15.776,2 15.5,2 L0.5,2 C0.224,2 0,1.776 0,1.5 L0,0.5 C0,0.224 0.224,0 0.5,0 L15.5,0 Z M15.5,4 C15.776,4 16,4.224 16,4.5 L16,5.5 C16,5.776 15.776,6 15.5,6 L0.5,6 C0.224,6 0,5.776 0,5.5 L0,4.5 C0,4.224 0.224,4 0.5,4 L15.5,4 Z M15.5,8 C15.776,8 16,8.224 16,8.5 L16,9.5 C16,9.776 15.776,10 15.5,10 L0.5,10 C0.224,10 0,9.776 0,9.5 L0,8.5 C0,8.224 0.224,8 0.5,8 L15.5,8 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return function(t){t({type:i.ActionTypes.MODAL_OPEN,modalId:e.modalId,dialogProps:e.dialogProps,dialogType:e.dialogType})}}function r(e){return function(t){t({type:i.ActionTypes.MODAL_CLOSE,modalId:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openModal=n,t.closeModal=r;var i=a(12)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"date-separator"},v.default.createElement("hr",{className:"separator__hr"}),v.default.createElement("div",{className:"separator__text"},v.default.createElement(b.FormattedDate,{value:this.props.date,weekday:"short",month:"short",day:"2-digit",year:"numeric"})))}}]),t}(v.default.PureComponent);_.propTypes={date:m.default.instanceOf(Date)},t.default=_},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(219),o=r(i),s=a(28),l=r(s),u=a(34),d=r(u),c=a(30),f=r(c),p=a(31),h=r(p),m=a(35),g=r(m),v=a(36),b=r(v),_=a(27),y=r(_),E=a(0),w=r(E),C=a(215),x=a(1193),M=a(142),S=n(M),k=a(12),T=r(k),P=a(47),N=n(P),O=a(1821),I=r(O),R=a(1822),A=r(R),L=a(1229),D=r(L),F=a(1823),U=r(F),j=a(1355),H=r(j),B=a(1824),q=r(B),z=a(463),G=a(1825),W=r(G),V=T.default.KeyCodes,$=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return a.handleNext=function(e){e&&e.stopPropagation();var t=a.state.imageIndex+1;t>a.props.fileInfos.length-1&&(t=0),a.showImage(t)},a.handlePrev=function(e){e&&e.stopPropagation();var t=a.state.imageIndex-1;t<0&&(t=a.props.fileInfos.length-1),a.showImage(t)},a.handleKeyPress=function(e){e.keyCode===V.RIGHT?a.handleNext():e.keyCode===V.LEFT&&a.handlePrev()},a.onModalShown=function(e){document.addEventListener("keyup",a.handleKeyPress),a.showImage(e.startIndex)},a.onModalHidden=function(){document.addEventListener("keyup",a.handleKeyPress),a.refs.video&&a.refs.video.stop()},a.showImage=function(e){a.setState({imageIndex:e});var t=window.innerHeight-100;a.setState({imageHeight:t}),a.state.loaded[e]||a.loadImage(e)},a.loadImage=function(e){var t=a.props.fileInfos[e];if("image"===N.getFileType(t.extension)){var n=void 0;n=t.has_image_preview?(0,x.getFilePreviewUrl)(t.id):(0,x.getFileUrl)(t.id),N.loadImage(n,function(){return a.handleImageLoaded(e)},function(t){return a.handleImageProgress(e,t)})}else a.handleImageLoaded(e)},a.handleImageLoaded=function(e){a.setState(function(t){return{loaded:(0,l.default)({},t.loaded,(0,o.default)({},e,!0))}})},a.handleImageProgress=function(e,t){a.setState(function(a){return{progress:(0,l.default)({},a.progress,(0,o.default)({},e,t))}})},a.handleGetPublicLink=function(){a.props.onModalDismissed(),S.showGetPublicLinkModal(a.props.fileInfos[a.state.imageIndex].id)},a.onMouseEnterImage=function(){a.setState({showFooter:!0})},a.onMouseLeaveImage=function(){a.setState({showFooter:!1})},a.state={imageIndex:a.props.startIndex,imageHeight:"100%",loaded:N.fillArray(!1,a.props.fileInfos.length),progress:N.fillArray(0,a.props.fileInfos.length),showFooter:!1},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.show&&!1===this.props.show?this.onModalShown(e):!1===e.show&&!0===this.props.show&&this.onModalHidden(),this.props.fileInfos.length!==e.fileInfos.length&&this.setState({loaded:N.fillArray(!1,e.fileInfos.length),progress:N.fillArray(0,e.fileInfos.length)})}},{key:"render",value:function(){if(this.props.fileInfos.length<1||this.props.fileInfos.length-1<this.state.imageIndex)return null;var e=this.props.fileInfos[this.state.imageIndex],t=!e.link,a=e.link||e.name,n=e.link||(0,x.getFileUrl)(e.id),r=void 0;if(this.state.loaded[this.state.imageIndex]){var i=N.getFileType(e.extension);r="image"===i||"svg"===i?w.default.createElement(U.default,{fileInfo:e}):"video"===i||"audio"===i?w.default.createElement(I.default,{fileInfo:e,fileUrl:n}):e&&e.extension&&"pdf"===e.extension?w.default.createElement(z.AsyncComponent,{doLoad:W.default,fileInfo:e,fileUrl:n}):A.default.supports(e)?w.default.createElement(A.default,{fileInfo:e,fileUrl:n}):w.default.createElement(D.default,{fileInfo:e,fileUrl:n})}else{var o=N.localizeMessage("view_image.loading","Loading"),s=Math.floor(this.state.progress[this.state.imageIndex]);r=w.default.createElement(H.default,{loading:o,progress:s})}var l=null,u=null;this.props.fileInfos.length>1&&(l=w.default.createElement("a",{id:"previewArrowLeft",ref:"previewArrowLeft",className:"modal-prev-bar",href:"#",onClick:this.handlePrev},w.default.createElement("i",{className:"image-control image-prev"})),u=w.default.createElement("a",{id:"previewArrowRight",ref:"previewArrowRight",className:"modal-next-bar",href:"#",onClick:this.handleNext},w.default.createElement("i",{className:"image-control image-next"})));var d="modal-close";return this.state.showFooter&&(d+=" modal-close--show"),w.default.createElement(C.Modal,{show:this.props.show,onHide:this.props.onModalDismissed,className:"modal-image",dialogClassName:"modal-image"},w.default.createElement(C.Modal.Body,{modalClassName:"modal-image__body",onClick:this.props.onModalDismissed},w.default.createElement("div",{className:"modal-image__wrapper",onClick:this.props.onModalDismissed},w.default.createElement("div",{onMouseEnter:this.onMouseEnterImage,onMouseLeave:this.onMouseLeaveImage,onClick:function(e){return e.stopPropagation()}},w.default.createElement("div",{className:d,onClick:this.props.onModalDismissed}),w.default.createElement("div",{className:"modal-image__content"},r),w.default.createElement(q.default,{show:this.state.showFooter,showPublicLink:t,fileIndex:this.state.imageIndex,totalFiles:this.props.fileInfos.length,filename:a,fileURL:n,onGetPublicLink:this.handleGetPublicLink}))),l,u))}}]),t}(w.default.PureComponent);$.propTypes={show:y.default.bool.isRequired,onModalDismissed:y.default.func.isRequired,fileInfos:y.default.arrayOf(y.default.object).isRequired,startIndex:y.default.number.isRequired},$.defaultProps={show:!1,fileInfos:[],startIndex:0},t.default=$},function(e,t,a){t=e.exports=a(1358),t.Stream=t,t.Readable=t,t.Writable=a(1279),t.Duplex=a(1185),t.Transform=a(1360),t.PassThrough=a(1836)},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,a)});case 3:return t.nextTick(function(){e.call(null,a,n)});case 4:return t.nextTick(function(){e.call(null,a,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick(function(){e.apply(null,i)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=a:e.exports=t.nextTick}).call(t,a(1153))},function(e,t,a){"use strict";(function(e){var n=a(1129),r=n.Buffer,i=n.SlowBuffer,o=n.kMaxLength||2147483647;t.alloc=function(e,t,a){if("function"==typeof r.alloc)return r.alloc(e,t,a);if("number"==typeof a)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>o)throw new RangeError("size is too large");var n=a,i=t;void 0===i&&(n=void 0,i=0);var s=new r(e);if("string"==typeof i)for(var l=new r(i,n),u=l.length,d=-1;++d<e;)s[d]=l[d%u];else s.fill(i);return s},t.allocUnsafe=function(e){if("function"==typeof r.allocUnsafe)return r.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>o)throw new RangeError("size is too large");return new r(e)},t.from=function(t,a,n){if("function"==typeof r.from&&(!e.Uint8Array||Uint8Array.from!==r.from))return r.from(t,a,n);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new r(t,a);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var i=a;if(1===arguments.length)return new r(t);void 0===i&&(i=0);var o=n;if(void 0===o&&(o=t.byteLength-i),i>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(o>t.byteLength-i)throw new RangeError("'length' is out of bounds");return new r(t.slice(i,i+o))}if(r.isBuffer(t)){var s=new r(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new r(t);if("Buffer"===t.type&&Array.isArray(t.data))return new r(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=o)throw new RangeError("size is too large");return new i(e)}}).call(t,a(22))},function(e,t,a){"use strict";(function(t,n){function r(){}function i(e,t,a){this.chunk=e,this.encoding=t,this.callback=a,this.next=null}function o(e,t){x=x||a(1185),e=e||{},this.objectMode=!!e.objectMode,t instanceof x&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}function s(e){if(x=x||a(1185),!(I.call(s,this)||this instanceof x))return new s(e);this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),P.call(this)}function l(e,t){var a=new Error("write after end");e.emit("error",a),M(t,a)}function u(e,t,a,n){var r=!0,i=!1;return null===a?i=new TypeError("May not write null values to stream"):"string"==typeof a||void 0===a||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),M(n,i),r=!1),r}function d(e,t,a){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=O.from(t,a)),t}function c(e,t,a,n,r,o){a||(n=d(t,n,r),N.isBuffer(n)&&(r="buffer"));var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else f(e,t,!1,s,n,r,o);return l}function f(e,t,a,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,a?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function p(e,t,a,n,r){--t.pendingcb,a?M(r,n):r(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var a=e._writableState,n=a.sync,r=a.writecb;if(h(a),t)p(e,a,n,t,r);else{var i=_(a);i||a.corked||a.bufferProcessing||!a.bufferedRequest||b(e,a),n?S(g,e,a,i,r):g(e,a,i,r)}}function g(e,t,a,n){a||v(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function b(e,t){t.bufferProcessing=!0;var a=t.bufferedRequest;if(e._writev&&a&&a.next){var n=t.bufferedRequestCount,r=new Array(n),i=t.corkedRequestsFree;i.entry=a;for(var o=0;a;)r[o]=a,a=a.next,o+=1;f(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new C(t)}else{for(;a;){var s=a.chunk,l=a.encoding,u=a.callback;if(f(e,t,!1,t.objectMode?1:s.length,s,l,u),a=a.next,t.writing)break}null===a&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=a,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function E(e,t){var a=_(t);return a&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),a}function w(e,t,a){t.ending=!0,E(e,t),a&&(t.finished?M(a):e.once("finish",a)),t.ended=!0,e.writable=!1}function C(e){var t=this;this.next=null,this.entry=null,this.finish=function(a){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(a),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=s;var x,M=a(1277),S=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:M;s.WritableState=o;var k=a(1207);k.inherits=a(458);var T={deprecate:a(1835)},P=a(1359),N=a(1129).Buffer,O=a(1278);k.inherits(s,P),o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var I;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!I.call(this,e)||e&&e._writableState instanceof o}})):I=function(e){return e instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(e,t,a){var n=this._writableState,i=!1,o=N.isBuffer(e);return"function"==typeof t&&(a=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof a&&(a=r),n.ended?l(this,a):(o||u(this,n,e,a))&&(n.pendingcb++,i=c(this,n,o,e,t,a)),i},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},s.prototype._write=function(e,t,a){a(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,a){var n=this._writableState;"function"==typeof e?(a=e,e=null,t=null):"function"==typeof t&&(a=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||w(this,n,a)}}).call(t,a(1153),a(1833).setImmediate)},function(e,t,a){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=a(1129).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var a=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";e=e.slice(a,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&n<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var a=e[e.length-t];if(1==t&&a>>5==6){this.charLength=2;break}if(t<=2&&a>>4==14){this.charLength=3;break}if(t<=3&&a>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var a=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,a).toString(r)}return t}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,p.makeGetReactionsForPost)();return function(t,a){return(0,s.default)({},a,{reactions:e(t,a.post.id),emojis:(0,f.getCustomEmojisByName)(t)})}}function i(e){return{actions:(0,u.bindActionCreators)({getReactionsForPost:c.getReactionsForPost,addReaction:c.addReaction},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(146),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(d),f=a(176),p=a(145),h=a(1869),m=n(h);t.default=(0,l.connect)(r,i)(m.default)},function(e,t,a){"use strict";function n(e){var t=(0,l.getRhsState)(e);return{isSearchingTerm:(0,l.getIsSearchingTerm)(e),searchTerms:(0,l.getSearchTerms)(e),isMentionSearch:t===u.RHSStates.MENTION,isFlaggedPosts:t===u.RHSStates.FLAG}}function r(e){return{actions:(0,o.bindActionCreators)({updateSearchTerms:s.updateSearchTerms,showSearchResults:s.showSearchResults,showMentions:s.showMentions,showFlaggedPosts:s.showFlaggedPosts,closeRightHandSide:s.closeRightHandSide},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(305),l=a(307),u=a(12),d=a(1875),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{config:(0,l.getConfig)(e),license:(0,l.getLicense)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(122),u=a(1888),d=n(u);t.default=(0,s.connect)(r)(d.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{currentTeam:(0,l.getCurrentTeam)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(170),u=a(1891),d=n(u);t.default=(0,s.connect)(r)(d.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(0),v=n(g),b=a(27),_=n(b),y=a(39),E=n(y),w=a(215),C=a(214),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(463),k=a(1369),T=n(k),P=a(1897),N=n(P),O=(0,C.defineMessages)({generalTab:{id:"team_settings_modal.generalTab",defaultMessage:"General"},importTab:{id:"team_settings_modal.importTab",defaultMessage:"Import"}}),I=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.updateTab=function(e){a.setState({activeTab:e,activeSection:""}),M.isMobile()||(0,m.default)(".settings-modal .modal-body").scrollTop(0).perfectScrollbar("update")},a.updateSection=function(e){(0,m.default)(".section-max").length&&(0,m.default)(".settings-modal .modal-body").scrollTop(0).perfectScrollbar("update"),a.setState({activeSection:e})},a.closeModal=function(){a.props.onModalDismissed()},a.collapseModal=function(){(0,m.default)(E.default.findDOMNode(a.refs.modalBody)).closest(".modal-dialog").removeClass("display--content"),a.setState({active_tab:"",active_section:""})},a.handleHide=function(){a.props.onModalDismissed()},a.state={activeTab:"general",activeSection:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){M.isMobile()||(0,m.default)(".settings-modal .settings-content").perfectScrollbar()}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=[];return t.push({name:"general",uiName:e(O.generalTab),icon:"icon fa fa-cog"}),t.push({name:"import",uiName:e(O.importTab),icon:"icon fa fa-upload"}),v.default.createElement(w.Modal,{dialogClassName:"settings-modal settings-modal--action",show:this.props.show,onHide:this.handleHide,onExited:this.handleHide},v.default.createElement(w.Modal.Header,{closeButton:!0},v.default.createElement(w.Modal.Title,null,v.default.createElement(C.FormattedMessage,{id:"team_settings_modal.title",defaultMessage:"Team Settings"}))),v.default.createElement(w.Modal.Body,{ref:"modalBody"},v.default.createElement("div",{className:"settings-table"},v.default.createElement("div",{className:"settings-links"},v.default.createElement(S.AsyncComponent,{doLoad:T.default,tabs:t,activeTab:this.state.activeTab,updateTab:this.updateTab})),v.default.createElement("div",{className:"settings-content minimize-settings"},v.default.createElement(N.default,{activeTab:this.state.activeTab,activeSection:this.state.activeSection,updateSection:this.updateSection,closeModal:this.closeModal,collapseModal:this.collapseModal})))))}}]),t}(v.default.Component);I.propTypes={intl:C.intlShape.isRequired,show:_.default.bool,onModalDismissed:_.default.func},t.default=(0,C.injectIntl)(I)},,,,,,,,,,,,,,,,,,function(e,t,a){function n(e,t){return e&&r(e,i(t))}var r=a(1400),i=a(1407);e.exports=n},function(e,t,a){(function(e){var n=a(1156),r=a(1961),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s?n.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||r;e.exports=d}).call(t,a(462)(e))},function(e,t){function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=a},function(e,t){function a(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=a},function(e,t,a){var n=a(1405),r=n(Object.getPrototypeOf,Object);e.exports=r},function(e,t,a){function n(e){var t=this.__data__=new r(e);this.size=t.size}var r=a(1240),i=a(1976),o=a(1977),s=a(1978),l=a(1979),u=a(1980);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=l,n.prototype.set=u,e.exports=n},function(e,t){function a(e,t){return e===t||e!==e&&t!==t}e.exports=a},function(e,t,a){var n=a(1188),r=a(1156),i=n(r,"Map");e.exports=i},function(e,t,a){function n(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}var r=a(1985),i=a(1992),o=a(1994),s=a(1995),l=a(1996);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,a){var n=a(2005),r=a(1419),i=Object.prototype,o=i.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return o.call(e,t)}))}:r;e.exports=l},function(e,t,a){function n(e,t){if(r(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var r=a(1154),i=a(1220),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,t,a){function n(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=a(1413);e.exports=n},,,,,,,function(e,t,a){e.exports=function(e){a.e(13).then(function(t){e(a(1609))}.bind(null,a)).catch(a.oe)}},function(e,t,a){"use strict";function n(e){return function(t){return e(null,t.default)}}function r(e){return function(t,a){return a(null,e)}}function i(e){if("true"===window.mm_license.MFA&&"true"===window.mm_config.EnableMultifactorAuthentication&&"true"===window.mm_config.EnforceMultifactorAuthentication&&-1===u.indexOf(e)){var t=s.default.getCurrentUser();if(t&&!t.mfa_active&&-1!==d.indexOf(t.auth_service))return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.notFoundParams=void 0,t.importComponentSuccess=n,t.createGetChildComponentsFunction=r,t.checkIfMFARequired=i;var o=a(42),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=a(12),u=(t.notFoundParams={type:l.ErrorPageTypes.PAGE_NOT_FOUND},["/mfa/setup","/mfa/confirm"]),d=["","email","ldap"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(34),i=n(r),o=a(1627),s=n(o);t.default=function e(t,a,n){null===t&&(t=Function.prototype);var r=(0,s.default)(t,a);if(void 0===r){var o=(0,i.default)(t);return null===o?void 0:e(o,a,n)}if("value"in r)return r.value;var l=r.get;if(void 0!==l)return l.call(n)}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=l(e);if(a)try{return f.default.highlight(a,t).value}catch(e){}return wt.sanitizeHtml(t)}function i(e){for(var t in Ct)if(Ct[t].extensions.find(function(t){return t===e}))return t;return null}function o(e){return Boolean(l(e))}function s(e){return o(e)?Ct[l(e)].name:""}function l(e){var t=e.toLowerCase();return Ct[t]?t:(0,d.default)(Ct).find(function(e){var a=Ct[e].aliases;return a&&a.find(function(e){return e===t})})}Object.defineProperty(t,"__esModule",{value:!0});var u=a(55),d=n(u);t.highlight=r,t.getLanguageFromFileExtension=i,t.canHighlight=o,t.getLanguageName=s;var c=a(1631),f=n(c),p=a(1632),h=n(p),m=a(1633),g=n(m),v=a(1634),b=n(v),_=a(1635),y=n(_),E=a(1636),w=n(E),C=a(1637),x=n(C),M=a(1638),S=n(M),k=a(1639),T=n(k),P=a(1640),N=n(P),O=a(1641),I=n(O),R=a(1642),A=n(R),L=a(1643),D=n(L),F=a(1644),U=n(F),j=a(1645),H=n(j),B=a(1646),q=n(B),z=a(1647),G=n(z),W=a(1648),V=n(W),$=a(1649),K=n($),Y=a(1650),X=n(Y),Z=a(1651),J=n(Z),Q=a(1652),ee=n(Q),te=a(1653),ae=n(te),ne=a(1654),re=n(ne),ie=a(1655),oe=n(ie),se=a(1656),le=n(se),ue=a(1657),de=n(ue),ce=a(1658),fe=n(ce),pe=a(1659),he=n(pe),me=a(1660),ge=n(me),ve=a(1661),be=n(ve),_e=a(1662),ye=n(_e),Ee=a(1663),we=n(Ee),Ce=a(1664),xe=n(Ce),Me=a(1665),Se=n(Me),ke=a(1666),Te=n(ke),Pe=a(1667),Ne=n(Pe),Oe=a(1668),Ie=n(Oe),Re=a(1669),Ae=n(Re),Le=a(1670),De=n(Le),Fe=a(1671),Ue=n(Fe),je=a(1672),He=n(je),Be=a(1673),qe=n(Be),ze=a(1674),Ge=n(ze),We=a(1675),Ve=n(We),$e=a(1676),Ke=n($e),Ye=a(1677),Xe=n(Ye),Ze=a(1678),Je=n(Ze),Qe=a(1679),et=n(Qe),tt=a(1680),at=n(tt),nt=a(1681),rt=n(nt),it=a(1682),ot=n(it),st=a(1683),lt=n(st),ut=a(1684),dt=n(ut),ct=a(1685),ft=n(ct),pt=a(1686),ht=n(pt),mt=a(1687),gt=n(mt),vt=a(1688),bt=n(vt),_t=a(12),yt=n(_t),Et=a(1142),wt=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(Et);f.default.registerLanguage("actionscript",h.default),f.default.registerLanguage("applescript",g.default),f.default.registerLanguage("bash",b.default),f.default.registerLanguage("clojure",y.default),f.default.registerLanguage("coffeescript",w.default),f.default.registerLanguage("cpp",x.default),f.default.registerLanguage("cs",S.default),f.default.registerLanguage("css",T.default),f.default.registerLanguage("d",N.default),f.default.registerLanguage("dart",I.default),f.default.registerLanguage("delphi",A.default),f.default.registerLanguage("diff",D.default),f.default.registerLanguage("django",U.default),f.default.registerLanguage("dockerfile",H.default),f.default.registerLanguage("erlang",q.default),f.default.registerLanguage("fortran",G.default),f.default.registerLanguage("fsharp",V.default),f.default.registerLanguage("gcode",K.default),f.default.registerLanguage("go",X.default),f.default.registerLanguage("groovy",J.default),f.default.registerLanguage("handlebars",ee.default),f.default.registerLanguage("haskell",ae.default),f.default.registerLanguage("haxe",re.default),f.default.registerLanguage("java",oe.default),f.default.registerLanguage("javascript",le.default),f.default.registerLanguage("json",de.default),f.default.registerLanguage("julia",fe.default),f.default.registerLanguage("kotlin",he.default),f.default.registerLanguage("less",ge.default),f.default.registerLanguage("lisp",be.default),f.default.registerLanguage("lua",ye.default),f.default.registerLanguage("makefile",we.default),f.default.registerLanguage("markdown",xe.default),f.default.registerLanguage("matlab",Se.default),f.default.registerLanguage("objectivec",Te.default),f.default.registerLanguage("ocaml",Ne.default),f.default.registerLanguage("perl",Ie.default),f.default.registerLanguage("php",Ae.default),f.default.registerLanguage("powershell",De.default),f.default.registerLanguage("puppet",Ue.default),f.default.registerLanguage("python",He.default),f.default.registerLanguage("r",qe.default),f.default.registerLanguage("ruby",Ge.default),f.default.registerLanguage("rust",Ve.default),f.default.registerLanguage("scala",Ke.default),f.default.registerLanguage("scheme",Xe.default),f.default.registerLanguage("scss",Je.default),f.default.registerLanguage("smalltalk",et.default),f.default.registerLanguage("sql",at.default),f.default.registerLanguage("styl",rt.default),f.default.registerLanguage("swift",ot.default),f.default.registerLanguage("tex",lt.default),f.default.registerLanguage("vbnet",dt.default),f.default.registerLanguage("vbscript",ft.default),f.default.registerLanguage("verilog",ht.default),f.default.registerLanguage("xml",gt.default),f.default.registerLanguage("yaml",bt.default);var Ct=yt.default.HighlightedLanguages},function(e,t,a){function n(e,t,a){var n=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(a)&&(n="leading"in a?!!a.leading:n,s="trailing"in a?!!a.trailing:s),r(e,t,{leading:n,maxWait:t,trailing:s})}var r=a(1262),i=a(1166),o="Expected a function";e.exports=n},function(e,t,a){(function(t){var a="object"==typeof t&&t&&t.Object===Object&&t;e.exports=a}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{channelNamesMap:m(e),mentionKeys:(0,c.getCurrentUserMentionKeys)(e),siteURL:(0,f.getSiteURL)(),team:(0,d.getCurrentTeam)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(88),o=n(i),s=a(141),l=a(71),u=a(144),d=a(170),c=a(69),f=a(143),p=a(1705),h=n(p),m=(0,l.createSelector)(u.getChannelsNameMapInCurrentTeam,function(e,t){return t},function(e,t){return t&&t.channel_mentions?(0,o.default)({},t.channel_mentions,e):e});t.default=(0,s.connect)(r)(h.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t={},a=0;a<e.length;a++){var n=e[a];D.default.hasProfile(n.user_id)||(t[n.user_id]=!0)}var r=(0,b.default)(t);0!==r.length&&(0,k.getProfilesByIds)(r)(H,B)}function o(e){for(var t={},a=0;a<e.length;a++){var n=e[a];D.default.hasProfile(n.creator_id)||(t[n.creator_id]=!0)}var r=(0,b.default)(t);0!==r.length&&(0,k.getProfilesByIds)(r)(H,B)}function s(e){for(var t={},a=0;a<e.length;a++){var n=e[a];D.default.hasProfile(n.creator_id)||(t[n.creator_id]=!0)}var r=(0,b.default)(t);0!==r.length&&(0,k.getProfilesByIds)(r)(H,B)}function l(e){S.removeIncomingHook(e)(H,B)}function u(e){S.removeOutgoingHook(e)(H,B)}function d(e){S.regenOutgoingHookToken(e)(H,B)}function c(e){S.deleteCommand(e)(H,B)}function f(e){S.regenCommandToken(e)(H,B)}function p(e,t,a){T.Client4.getCommandsList(A.default.getCurrentId()).then(function(n){var r=[];n.forEach(function(t){if(t.auto_complete&&("shortcuts"!==t.trigger||!j.isMobile())&&0===("/"+t.trigger).indexOf(e)){var a="/"+t.trigger,n="";t.auto_complete_hint&&0!==t.auto_complete_hint.length&&(n=t.auto_complete_hint),r.push({suggestion:a,hint:n,description:t.auto_complete_desc})}}),r=r.sort(function(e,t){return e.suggestion.localeCompare(t.suggestion)});var i=r.map(function(e){return e.suggestion});N.default.handleServerAction({type:F.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:t,matchedPretext:e,terms:i,items:r,component:a})}).catch(function(){})}function h(e,t,a,n){x.default.get("https://www.googleapis.com/youtube/v3/videos").query({part:"snippet",id:t,key:e}).end(function(e,t){return e?n(e):(t.body||console.error("Missing response body for getYoutubeVideoInfo"),a(t.body))})}Object.defineProperty(t,"__esModule",{value:!0}),t.editCommand=t.addCommand=t.updateOutgoingHook=t.addOutgoingHook=t.updateIncomingHook=t.addIncomingHook=t.loadTeamCommands=t.loadOutgoingHooksForTeam=t.loadOutgoingHooks=t.loadIncomingHooksForTeam=t.loadIncomingHooks=void 0;var m=a(28),g=r(m),v=a(55),b=r(v),_=a(67),y=r(_),E=a(68),w=r(E);t.loadIncomingHooks=function(){var e=(0,w.default)(y.default.mark(function e(t){var a,n;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getIncomingHooks("",0,1e4)(H,B);case 2:a=e.sent,n=a.data,n&&i(n),t&&t(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.loadIncomingHooksForTeam=function(){var e=(0,w.default)(y.default.mark(function e(t,a){var n,r;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getIncomingHooks(t,0,1e4)(H,B);case 2:n=e.sent,r=n.data,r&&i(r),a&&a(r);case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.loadOutgoingHooks=function(){var e=(0,w.default)(y.default.mark(function e(t){var a,n;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getOutgoingHooks("","",0,1e4)(H,B);case 2:a=e.sent,n=a.data,n&&o(n),t&&t(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.loadOutgoingHooksForTeam=function(){var e=(0,w.default)(y.default.mark(function e(t,a){var n,r;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getOutgoingHooks("",t,0,1e4)(H,B);case 2:n=e.sent,r=n.data,r&&o(r),a&&a(r);case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),t.loadTeamCommands=function(){var e=(0,w.default)(y.default.mark(function e(t){var a,n;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getCustomTeamCommands(A.default.getCurrentId())(H,B);case 2:a=e.sent,n=a.data,n&&s(n),t&&t(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addIncomingHook=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.createIncomingHook(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.updateIncomingHook=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.updateIncomingHook(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.addOutgoingHook=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.createOutgoingHook(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.updateOutgoingHook=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.updateOutgoingHook(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.addCommand=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.addCommand(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),t.editCommand=function(){var e=(0,w.default)(y.default.mark(function e(t,a,n){var r,i,o;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.editCommand(t)(H,B);case 2:r=e.sent,i=r.data,o=r.error,i&&a?a(i):o&&n&&n((0,g.default)({id:o.server_error_id},o));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}();t.deleteIncomingHook=l,t.deleteOutgoingHook=u,t.regenOutgoingHookToken=d,t.deleteCommand=c,t.regenCommandToken=f,t.getSuggestedCommands=p,t.getYoutubeVideoInfo=h;var C=a(1329),x=r(C),M=a(1146),S=n(M),k=a(82),T=a(23),P=a(49),N=r(P),O=a(40),I=r(O),R=a(59),A=r(R),L=a(42),D=r(L),F=a(12),U=a(169),j=n(U),H=I.default.dispatch,B=I.default.getState},function(e,t,a){function n(){}function r(e){if(!m(e))return e;var t=[];for(var a in e)i(t,a,e[a]);return t.join("&")}function i(e,t,a){if(null!=a)if(Array.isArray(a))a.forEach(function(a){i(e,t,a)});else if(m(a))for(var n in a)i(e,t+"["+n+"]",a[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));else null===a&&e.push(encodeURIComponent(t))}function o(e){for(var t,a,n={},r=e.split("&"),i=0,o=r.length;i<o;++i)t=r[i],a=t.indexOf("="),-1==a?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,a))]=decodeURIComponent(t.slice(a+1));return n}function s(e){for(var t,a,n,r,i=e.split(/\r?\n/),o={},s=0,l=i.length;s<l;++s)a=i[s],-1!==(t=a.indexOf(":"))&&(n=a.slice(0,t).toLowerCase(),r=_(a.slice(t+1)),o[n]=r);return o}function l(e){return/[\/+]json($|[^-\w])/.test(e)}function u(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function d(e,t){var a=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(a)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,a.xhr?(e.rawResponse=void 0===a.xhr.responseType?a.xhr.responseText:a.xhr.response,e.status=a.xhr.status?a.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),a.callback(e)}a.emit("response",t);var n;try{a._isResponseOK(t)||(n=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){n=e}n?(n.original=e,n.response=t,n.status=t.status,a.callback(n,t)):a.callback(null,t)})}function c(e,t,a){var n=b("DELETE",e);return"function"==typeof t&&(a=t,t=null),t&&n.send(t),a&&n.end(a),n}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var p=a(1712),h=a(1713),m=a(1330),g=a(1714),v=a(1716),b=t=e.exports=function(e,a){return"function"==typeof a?new t.Request("GET",e).end(a):1==arguments.length?new t.Request("GET",e):new t.Request(e,a)};t.Request=d,b.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var _="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=r,b.parseString=o,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},g(u.prototype),u.prototype._parseBody=function(e){var t=b.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=b.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},u.prototype.toError=function(){var e=this.req,t=e.method,a=e.url,n="cannot "+t+" "+a+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=t,r.url=a,r},b.Response=u,p(d.prototype),h(d.prototype),d.prototype.type=function(e){return this.set("Content-Type",b.types[e]||e),this},d.prototype.accept=function(e){return this.set("Accept",b.types[e]||e),this},d.prototype.auth=function(e,t,a){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(a=t,t=""),a||(a={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,a,n)},d.prototype.query=function(e){return"string"!=typeof e&&(e=r(e)),e&&this._query.push(e),this},d.prototype.attach=function(e,t,a){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,a||t.name)}return this},d.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},d.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var a=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),a(e,t)},d.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},d.prototype.buffer=d.prototype.ca=d.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},d.prototype.pipe=d.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},d.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},d.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||n,this._finalizeQueryString(),this._end()},d.prototype._end=function(){var e=this,t=this.xhr=b.getXHR(),a=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var a=t.readyState;if(a>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==a){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,a){a.total>0&&(a.percent=a.loaded/a.total*100),a.direction=t,e.emit("progress",a)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!this._isHost(a)){var r=this._header["content-type"],i=this._serializer||b.serialize[r?r.split(";")[0]:""];!i&&l(r)&&(i=b.serialize["application/json"]),i&&(a=i(a))}for(var o in this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&t.setRequestHeader(o,this.header[o]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==a?a:null),this},b.agent=function(){return new v},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){v.prototype[e.toLowerCase()]=function(t,a){var n=new b.Request(e,t);return this._setDefaults(n),a&&n.end(a),n}}),v.prototype.del=v.prototype.delete,b.get=function(e,t,a){var n=b("GET",e);return"function"==typeof t&&(a=t,t=null),t&&n.query(t),a&&n.end(a),n},b.head=function(e,t,a){var n=b("HEAD",e);return"function"==typeof t&&(a=t,t=null),t&&n.query(t),a&&n.end(a),n},b.options=function(e,t,a){var n=b("OPTIONS",e);return"function"==typeof t&&(a=t,t=null),t&&n.send(t),a&&n.end(a),n},b.del=c,b.delete=c,b.patch=function(e,t,a){var n=b("PATCH",e);return"function"==typeof t&&(a=t,t=null),t&&n.send(t),a&&n.end(a),n},b.post=function(e,t,a){var n=b("POST",e);return"function"==typeof t&&(a=t,t=null),t&&n.send(t),a&&n.end(a),n},b.put=function(e,t,a){var n=b("PUT",e);return"function"==typeof t&&(a=t,t=null),t&&n.send(t),a&&n.end(a),n}},function(e,t,a){"use strict";function n(e){return null!==e&&"object"==typeof e}e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{actions:{patchChannel:(0,s.bindActionCreators)(c.patchChannel,e)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(11),l=a(141),u=a(71),d=a(89),c=a(90),f=a(12),p=n(f),h=a(1730),m=n(h),g=(0,u.createSelector)(function(e){return(0,d.getBool)(e,p.default.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")},function(e){var t=e.requests,a=t.channels.updateChannel;return{serverError:a.error,requestStatus:a.status}},function(e,t){return(0,o.default)({ctrlSend:e},t)});t.default=(0,l.connect)(g,r)(m.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{currentTeam:(0,l.getCurrentTeam)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(170),u=a(1731),d=n(u);t.default=(0,s.connect)(r)(d.default)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"Async",function(){return G}),a.d(t,"AsyncCreatable",function(){return J}),a.d(t,"Creatable",function(){return W}),a.d(t,"Value",function(){return N}),a.d(t,"Option",function(){return P}),a.d(t,"defaultMenuRenderer",function(){return _}),a.d(t,"defaultArrowRenderer",function(){return f}),a.d(t,"defaultClearRenderer",function(){return p}),a.d(t,"defaultFilterOptions",function(){return b});var n=a(1741),r=a.n(n),i=a(7),o=a.n(i),s=a(1747),l=a.n(s),u=a(0),d=a.n(u),c=a(39),f=(a.n(c),function(e){var t=e.onMouseDown;return d.a.createElement("span",{className:"Select-arrow",onMouseDown:t})});f.propTypes={onMouseDown:l.a.func};var p=function(){return d.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],m=function(e){for(var t=0;t<h.length;t++)e=e.replace(h[t].letters,h[t].base);return e},g=function(e){return e.replace(/^\s+|\s+$/g,"")},v=function(e){return void 0!==e&&null!==e&&""!==e},b=function(e,t,a,n){return n.ignoreAccents&&(t=m(t)),n.ignoreCase&&(t=t.toLowerCase()),n.trimFilter&&(t=g(t)),a&&(a=a.map(function(e){return e[n.valueKey]})),e.filter(function(e){if(a&&a.indexOf(e[n.valueKey])>-1)return!1;if(n.filterOption)return n.filterOption.call(void 0,e,t);if(!t)return!0;var r=e[n.valueKey],i=e[n.labelKey],o=v(r),s=v(i);if(!o&&!s)return!1;var l=o?String(r):null,u=s?String(i):null;return n.ignoreAccents&&(l&&"label"!==n.matchProp&&(l=m(l)),u&&"value"!==n.matchProp&&(u=m(u))),n.ignoreCase&&(l&&"label"!==n.matchProp&&(l=l.toLowerCase()),u&&"value"!==n.matchProp&&(u=u.toLowerCase())),"start"===n.matchPos?l&&"label"!==n.matchProp&&l.substr(0,t.length)===t||u&&"value"!==n.matchProp&&u.substr(0,t.length)===t:l&&"label"!==n.matchProp&&l.indexOf(t)>=0||u&&"value"!==n.matchProp&&u.indexOf(t)>=0})},_=function(e){var t=e.focusedOption,a=e.focusOption,n=e.inputValue,r=e.instancePrefix,i=e.onFocus,s=e.onOptionRef,l=e.onSelect,u=e.optionClassName,c=e.optionComponent,f=e.optionRenderer,p=e.options,h=e.removeValue,m=e.selectValue,g=e.valueArray,v=e.valueKey,b=c;return p.map(function(e,c){var p=g&&g.some(function(t){return t[v]===e[v]}),_=e===t,y=o()(u,{"Select-option":!0,"is-selected":p,"is-focused":_,"is-disabled":e.disabled});return d.a.createElement(b,{className:y,focusOption:a,inputValue:n,instancePrefix:r,isDisabled:e.disabled,isFocused:_,isSelected:p,key:"option-"+c+"-"+e[v],onFocus:i,onSelect:l,option:e,optionIndex:c,ref:function(e){s(e,_)},removeValue:h,selectValue:m},f(e,c,n))})};_.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var y=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=(function(){function e(e){this.value=e}function t(t){function a(e,t){return new Promise(function(a,r){var s={key:e,arg:t,resolve:a,reject:r,next:null};o?o=o.next=s:(i=o=s,n(e,t))})}function n(a,i){try{var o=t[a](i),s=o.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(o.done?"return":"normal",o.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?n(i.key,i.arg):o=null}var i,o;this._invoke=a,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},P=function(e){function t(e){w(this,t);var a=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMouseDown=a.handleMouseDown.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleMouseMove=a.handleMouseMove.bind(a),a.handleTouchStart=a.handleTouchStart.bind(a),a.handleTouchEnd=a.handleTouchEnd.bind(a),a.handleTouchMove=a.handleTouchMove.bind(a),a.onFocus=a.onFocus.bind(a),a}return S(t,e),C(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,a=e.instancePrefix,n=e.optionIndex,r=o()(this.props.className,t.className);return t.disabled?d.a.createElement("div",{className:r,onMouseDown:y,onClick:y},this.props.children):d.a.createElement("div",{className:r,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:a+"-option-"+n,title:t.title},this.props.children)}}]),t}(d.a.Component);P.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var N=function(e){function t(e){w(this,t);var a=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMouseDown=a.handleMouseDown.bind(a),a.onRemove=a.onRemove.bind(a),a.handleTouchEndRemove=a.handleTouchEndRemove.bind(a),a.handleTouchMove=a.handleTouchMove.bind(a),a.handleTouchStart=a.handleTouchStart.bind(a),a}return S(t,e),C(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return d.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?d.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):d.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return d.a.createElement("div",{className:o()("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(d.a.Component);N.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};var O=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},I=l.a.oneOfType([l.a.string,l.a.node]),R=l.a.oneOfType([l.a.string,l.a.number]),A=1,L=function(e,t){var a=e.inputValue,n=e.isPseudoFocused,r=e.isFocused,i=t.onSelectResetsInput;return!a||!i&&!(!r&&n||r&&!n)},D=function(e,t,a){var n=e.inputValue,r=e.isPseudoFocused,i=e.isFocused,o=t.onSelectResetsInput;return!n||!o&&!a&&!r&&!i},F=function(e,t){var a=void 0===e?"undefined":E(e);if("string"!==a&&"number"!==a&&"boolean"!==a)return e;var n=t.options,r=t.valueKey;if(n)for(var i=0;i<n.length;i++)if(String(n[i][r])===String(e))return n[i]},U=function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)},j=function(e){function t(e){w(this,t);var a=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(e){return a[e]=a[e].bind(a)}),a.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},a}return S(t,e),C(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++A)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:U(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:U(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var a=Object(c.findDOMNode)(this.focused),n=Object(c.findDOMNode)(this.menu),r=n.scrollTop,i=r+n.offsetHeight,o=a.offsetTop,s=o+a.offsetHeight;(r>o||i<s)&&(n.scrollTop=a.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(c.findDOMNode)(this.focused),u=Object(c.findDOMNode)(this.menu),d=l.getBoundingClientRect(),f=u.getBoundingClientRect();d.bottom>f.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:d.top<f.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var p=this.menuContainer.getBoundingClientRect();window.innerHeight<p.bottom+this.props.menuBuffer&&window.scrollBy(0,p.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var h=this.state.isOpen?this.props.onOpen:this.props.onClose;h&&h()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){e?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button)){if("INPUT"===e.target.tagName)return void(this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=this.props.openOnClick,this.focus()));if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var t=this.input,a=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(a=!1,this._focusAfterClear=!1),this.setState({isOpen:a,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(this.menu&&(this.menu===document.activeElement||this.menu.contains(document.activeElement)))return void this.focus();this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":E(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":E(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="object"===(void 0===t?"undefined":E(t))?t:this.props;if(a.multi){if("string"==typeof e&&(e=e.split(a.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(function(e){return F(e,a)}).filter(function(e){return e})}var n=F(e,a);return n?[n]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var a=U(e,this.props.multi);this.setState({required:a})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(e){var t=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var a=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(a),isOpen:!this.props.closeOnSelect},function(){t.getValueArray(t.props.value).some(function(a){return a[t.props.valueKey]===e[t.props.valueKey]})?t.removeValue(e):t.addValue(e)}):this.setState({inputValue:this.handleInputValueChange(a),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){t.setValue(e)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),a=this._visibleOptions.filter(function(e){return!e.disabled}),n=a.indexOf(e);this.setValue(t.concat(e)),a.length-1===n?this.focusOption(a[n-1]):a.length>n&&this.focusOption(a[n+1])}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,a=this.getValueArray(this.props.value);this.setValue(a.filter(function(a){return a[t.props.valueKey]!==e[t.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var a={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(a.inputValue=""),void this.setState(a)}if(t.length){for(var n=-1,r=0;r<t.length;r++)if(this._focusedOption===t[r].option){n=r;break}if("next"===e&&-1!==n)n=(n+1)%t.length;else if("previous"===e)n>0?n-=1:n=t.length-1;else if("start"===e)n=0;else if("end"===e)n=t.length-1;else if("page_up"===e){var i=n-this.props.pageSize;n=i<0?0:i}else if("page_down"===e){var o=n+this.props.pageSize;n=o>t.length-1?t.length-1:o}-1===n&&(n=0),this.setState({focusedIndex:t[n].index,focusedOption:t[n].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return d.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},d.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var a=this,n=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!e.length){return D(this.state,this.props,t)?d.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null}var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return d.a.createElement(r,{disabled:a.props.disabled||!1===e.clearableValue,id:a._instancePrefix+"-value-"+t,instancePrefix:a._instancePrefix,key:"value-"+t+"-"+e[a.props.valueKey],onClick:i,onRemove:a.removeValue,placeholder:a.props.placeholder,value:e},n(e,t),d.a.createElement("span",{className:"Select-aria-only"}," "))}):L(this.state,this.props)?(t&&(i=null),d.a.createElement(r,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:i,placeholder:this.props.placeholder,value:e[0]},n(e[0]))):void 0}},{key:"renderInput",value:function(e,t){var a,n=this,i=o()("Select-input",this.props.inputProps.className),s=this.state.isOpen,l=o()((a={},x(a,this._instancePrefix+"-list",s),x(a,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),a)),u=this.state.inputValue;!u||this.props.onSelectResetsInput||this.state.isFocused||(u="");var c=M({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,className:i,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return n.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:u});if(this.props.inputRenderer)return this.props.inputRenderer(c);if(this.props.disabled||!this.props.searchable){var f=k(this.props.inputProps,[]),p=o()(x({},this._instancePrefix+"-list",s));return d.a.createElement("div",M({},f,{"aria-expanded":s,"aria-owns":p,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:i,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return n.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?d.a.createElement(r.a,M({id:this.props.id},c,{minWidth:"5"})):d.a.createElement("div",{className:i,key:"input-wrap",style:{display:"inline-block"}},d.a.createElement("input",M({id:this.props.id},c)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,a=this.props.clearRenderer();return d.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},a)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,a=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return a?d.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},a):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,a=this.props.options||[];if(this.props.filterOptions){return("function"==typeof this.props.filterOptions?this.props.filterOptions:b)(a,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return a}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,a){return e&&e.length?this.props.menuRenderer({focusedOption:a,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?d.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var a=e.map(function(e){return O(e[t.props.valueKey])}).join(this.props.delimiter);return d.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return t.value=e},type:"hidden",value:a})}return e.map(function(e,a){return d.a.createElement("input",{disabled:t.props.disabled,key:"hidden."+a,name:t.props.name,ref:"value"+a,type:"hidden",value:O(e[t.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var a=this.props.valueKey,n=this.state.focusedOption||e;if(n&&!n.disabled){var r=-1;if(t.some(function(e,t){var i=e[a]===n[a];return i&&(r=t),i}),-1!==r)return r}for(var i=0;i<t.length;i++)if(!t[i].disabled)return i;return null}},{key:"renderOuter",value:function(e,t,a){var n=this,r=this.renderMenu(e,t,a);return r?d.a.createElement("div",{ref:function(e){return n.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},d.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return n.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},r)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),a=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),n=this.state.isOpen;this.props.multi&&!a.length&&t.length&&!this.state.inputValue&&(n=!1);var r=this.getFocusableOptionIndex(t[0]),i=null;i=this._focusedOption=null!==r?a[r]:null;var s=o()("Select",this.props.className,{"has-value":t.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":n,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=d.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),d.a.createElement("div",{ref:function(t){return e.wrapper=t},className:s,style:this.props.wrapperStyle},this.renderHiddenField(t),d.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},d.a.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,n),this.renderInput(t,r)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),n?this.renderOuter(a,t,i):null)}}]),t}(d.a.Component);j.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:I,clearRenderer:l.a.func,clearValueText:I,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:I,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:I,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:R,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},j.defaultProps={arrowRenderer:f,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:p,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:b,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:_,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:P,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:N,valueKey:"value"};var H={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},B={},q=function(e){return d.a.createElement(j,e)},z={autoload:!0,cache:B,children:q,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},G=function(e){function t(e,a){w(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n._cache=e.cache===B?{}:e.cache,n.state={inputValue:"",isLoading:!1,options:e.options},n.onInputChange=n.onInputChange.bind(n),n}return S(t,e),C(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,a=this.props.loadOptions,n=this._cache;if(n&&Object.prototype.hasOwnProperty.call(n,e))return this._callback=null,void this.setState({isLoading:!1,options:n[e]});var r=function a(r,i){var o=i&&i.options||[];n&&(n[e]=o),a===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:o}))};this._callback=r;var i=a(e,r);i&&i.then(function(e){return r(0,e)},function(e){return r()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,a=t.ignoreAccents,n=t.ignoreCase,r=t.onInputChange,i=e;if(r){var o=r(i);null!=o&&"object"!==(void 0===o?"undefined":E(o))&&(i=""+o)}var s=i;return a&&(s=m(s)),n&&(s=s.toLowerCase()),this.setState({inputValue:i}),this.loadOptions(s),i}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,a=e.noResultsText,n=e.searchPromptText,r=this.state,i=r.inputValue;return r.isLoading?t:i&&a?a:n}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.loadingPlaceholder,r=t.placeholder,i=this.state,o=i.isLoading,s=i.options,l={noResultsText:this.noResultsText(),placeholder:o?n:r,options:o&&n?[]:s,ref:function(t){return e.select=t}};return a(M({},this.props,l,{isLoading:o,onInputChange:this.onInputChange}))}}]),t}(u.Component);G.propTypes=H,G.defaultProps=z;var W=function(e){function t(e,a){w(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.filterOptions=n.filterOptions.bind(n),n.menuRenderer=n.menuRenderer.bind(n),n.onInputKeyDown=n.onInputKeyDown.bind(n),n.onInputChange=n.onInputChange.bind(n),n.onOptionSelect=n.onOptionSelect.bind(n),n}return S(t,e),C(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,a=e.newOptionCreator,n=e.onNewOptionClick,r=e.options,i=void 0===r?[]:r;if(t({label:this.inputValue})){var o=a({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:o,options:i})&&(n?n(o):(i.unshift(o),this.select.selectValue(o)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,a=e.isValidNewOption,n=e.promptTextCreator,r=(arguments.length<=2?void 0:arguments[2])||[],i=t.apply(void 0,arguments)||[];if(a({label:this.inputValue})){var o=this.props.newOptionCreator,s=o({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:s,options:r.concat(i)})){var l=n(this.inputValue);this._createPlaceholderOption=o({label:l,labelKey:this.labelKey,valueKey:this.valueKey}),i.unshift(this._createPlaceholderOption)}}return i}},{key:"isOptionUnique",value:function(e){var t=e.option,a=e.options,n=this.props.isOptionUnique;return a=a||this.props.options,n({labelKey:this.labelKey,option:t,options:a,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){return(0,this.props.menuRenderer)(M({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,a=t.shouldKeyDownEventCreateNewOption,n=t.onInputKeyDown,r=this.select.getFocusedOption();r&&r===this._createPlaceholderOption&&a({keyCode:e.keyCode})?(this.createNewOption(),e.preventDefault()):n&&n(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.ref,n=k(t,["ref"]),r=this.props.children;return r||(r=V),r(M({},n,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),a&&a(t)}}))}}]),t}(d.a.Component),V=function(e){return d.a.createElement(j,e)},$=function(e){var t=e.option,a=e.options,n=e.labelKey,r=e.valueKey;return!a||!a.length||0===a.filter(function(e){return e[n]===t[n]||e[r]===t[r]}).length},K=function(e){return!!e.label},Y=function(e){var t=e.label,a=e.labelKey,n=e.valueKey,r={};return r[n]=t,r[a]=t,r.className="Select-create-option-placeholder",r},X=function(e){return'Create option "'+e+'"'},Z=function(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}};W.isOptionUnique=$,W.isValidNewOption=K,W.newOptionCreator=Y,W.promptTextCreator=X,W.shouldKeyDownEventCreateNewOption=Z,W.defaultProps={filterOptions:b,isOptionUnique:$,isValidNewOption:K,menuRenderer:_,newOptionCreator:Y,promptTextCreator:X,shouldKeyDownEventCreateNewOption:Z},W.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func};var J=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),C(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return d.a.createElement(G,this.props,function(t){var a=t.ref,n=k(t,["ref"]),r=a;return d.a.createElement(W,n,function(t){var a=t.ref,n=k(t,["ref"]),i=a;return e.props.children(M({},n,{ref:function(t){i(t),r(t),e.select=t}}))})})}}]),t}(d.a.Component),Q=function(e){return d.a.createElement(j,e)};J.propTypes={children:l.a.func.isRequired},J.defaultProps={children:Q},j.Async=G,j.AsyncCreatable=J,j.Creatable=W,j.Value=N,j.Option=P,t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(1335),E=n(y),w=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleTermChange=a.handleTermChange.bind(a),a.nextPage=a.nextPage.bind(a),a.previousPage=a.previousPage.bind(a),a.search=a.search.bind(a),a.state={term:"",page:0},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"handleTermChange",value:function(e){this.setState({term:e})}},{key:"nextPage",value:function(){this.setState({page:this.state.page+1}),this.props.nextPage(this.state.page+1)}},{key:"previousPage",value:function(){this.setState({page:this.state.page-1})}},{key:"search",value:function(e){this.props.search(e),""!==e&&this.setState({page:0})}},{key:"render",value:function(){return _.default.createElement(E.default,(0,i.default)({},this.props,{nextPage:this.nextPage,previousPage:this.previousPage,search:this.search,page:this.state.page,term:this.state.term,onTermChange:this.handleTermChange}))}}]),t}(_.default.Component);w.propTypes={users:v.default.arrayOf(v.default.object),usersPerPage:v.default.number,total:v.default.number,extraInfo:v.default.object,nextPage:v.default.func.isRequired,search:v.default.func.isRequired,actions:v.default.arrayOf(v.default.func),actionProps:v.default.object,actionUserProps:v.default.object,focusOnMount:v.default.bool},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(39),E=n(y),w=a(214),C=a(1263),x=n(C),M=a(1758),S=n(M),k=a(47),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),P=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.nextPage=a.nextPage.bind(a),a.previousPage=a.previousPage.bind(a),a.focusSearchBar=a.focusSearchBar.bind(a),a.handleInput=a.handleInput.bind(a),a.renderCount=a.renderCount.bind(a),a.nextTimeoutId=0,a.state={nextDisabled:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.focusSearchBar()}},{key:"componentDidUpdate",value:function(e){this.props.page===e.page&&this.props.term===e.term||this.refs.userList.scrollToTop(),this.focusSearchBar()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.nextTimeoutId)}},{key:"nextPage",value:function(e){var t=this;e.preventDefault(),this.setState({nextDisabled:!0}),this.nextTimeoutId=setTimeout(function(){return t.setState({nextDisabled:!1})},500),this.props.nextPage(),(0,m.default)(E.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}},{key:"previousPage",value:function(e){e.preventDefault(),this.props.previousPage(),(0,m.default)(E.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}},{key:"focusSearchBar",value:function(){this.props.focusOnMount&&this.refs.filter.focus()}},{key:"handleInput",value:function(e){this.props.onTermChange(e.target.value),this.props.search(e.target.value)}},{key:"renderCount",value:function(e){if(!e)return null;var t=e.length,a=this.props.total,n=Boolean(this.props.term),r=void 0,i=void 0;return n?(r=-1,i=-1):(r=this.props.page*this.props.usersPerPage,i=Math.min(r+this.props.usersPerPage,a)),this.props.renderCount?this.props.renderCount(t,this.props.total,r,i,n):this.props.total?n?_.default.createElement(w.FormattedMessage,{id:"filtered_user_list.countTotal",defaultMessage:"{count, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,total:a}}):_.default.createElement(w.FormattedMessage,{id:"filtered_user_list.countTotalPage",defaultMessage:"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,startCount:r+1,endCount:i,total:a}}):null}},{key:"render",value:function(){var e=void 0,t=void 0,a=void 0;if(this.props.term||!this.props.users)a=this.props.users;else if(!this.props.term){var n=this.props.page*this.props.usersPerPage,r=n+this.props.usersPerPage;a=this.props.users.slice(n,r),r<this.props.users.length&&(e=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},_.default.createElement(w.FormattedMessage,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.props.page>0&&(t=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__prev",onClick:this.previousPage},_.default.createElement(w.FormattedMessage,{id:"filtered_user_list.prev",defaultMessage:"Previous"})))}var i=void 0;return i=this.props.renderFilterRow?this.props.renderFilterRow(this.handleInput):_.default.createElement("div",{className:"col-xs-12"},_.default.createElement(x.default,{ref:"filter",className:"form-control filter-textbox",placeholder:T.localizeMessage("filtered_user_list.search","Search users"),value:this.props.term,onInput:this.handleInput})),_.default.createElement("div",{className:"filtered-user-list"},_.default.createElement("div",{className:"filter-row"},i,_.default.createElement("div",{className:"col-sm-12"},_.default.createElement("span",{className:"member-count pull-left"},this.renderCount(a)))),_.default.createElement("div",{className:"more-modal__list"},_.default.createElement(S.default,{ref:"userList",users:a,extraInfo:this.props.extraInfo,actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps,rowComponentType:this.props.rowComponentType})),_.default.createElement("div",{className:"filter-controls"},t,e))}}]),t}(_.default.Component);P.propTypes={users:v.default.arrayOf(v.default.object),usersPerPage:v.default.number,total:v.default.number,extraInfo:v.default.object,nextPage:v.default.func.isRequired,previousPage:v.default.func.isRequired,search:v.default.func.isRequired,actions:v.default.arrayOf(v.default.func),actionProps:v.default.object,actionUserProps:v.default.object,focusOnMount:v.default.bool,renderCount:v.default.func,renderFilterRow:v.default.func,page:v.default.number.isRequired,term:v.default.string.isRequired,onTermChange:v.default.func.isRequired,rowComponentType:v.default.func},P.defaultProps={users:[],usersPerPage:50,extraInfo:{},actions:[],actionProps:{},actionUserProps:{},showTeamToggle:!1,focusOnMount:!1},t.default=P},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(214),w=a(172),C=a(12),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(1760),k=n(S),T=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.handleOnHide=function(){t.setState({activeSection:C.NotificationSections.NONE}),t.props.onHide()},t.updateSection=function(e){(0,m.default)(".section-max").length&&(0,m.default)(".settings-modal .modal-body").scrollTop(0).perfectScrollbar("update"),t.setState({activeSection:e})},t.handleSubmitDesktopNotifyLevel=function(){var e=t.props.channel.id,a=t.state.notifyLevel,n=t.props.currentUser.id;if(t.props.channelMember.notify_props.desktop===a)return void t.updateSection("");var r={desktop:a},i={channel_id:e,user_id:n};(0,w.updateChannelNotifyProps)(i,r,function(){t.updateSection("")},function(e){t.setState({serverError:e.message})})},t.handleUpdateDesktopNotifyLevel=function(e){t.setState({notifyLevel:e})},t.handleUpdateDesktopSection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.NotificationSections.NONE;t.updateSection(e),t.setState({notifyLevel:t.props.channelMember.notify_props.desktop})},t.handleSubmitMarkUnreadLevel=function(){var e=t.props.channel.id,a=t.state.unreadLevel;if(t.props.channelMember.notify_props.mark_unread===a)return void t.updateSection("");var n={mark_unread:a},r={channel_id:e,user_id:t.props.currentUser.id};(0,w.updateChannelNotifyProps)(r,n,function(){t.updateSection("")},function(e){t.setState({serverError:e.message})})},t.handleUpdateMarkUnreadLevel=function(e){t.setState({unreadLevel:e})},t.handleUpdateMarkUnreadSection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.NotificationSections.NONE;t.updateSection(e),t.setState({unreadLevel:t.props.channelMember.notify_props.mark_unread})},t.handleSubmitPushNotificationLevel=function(){var e=t.props.channel.id,a=t.state.pushLevel,n=t.props.currentUser.id;if(t.props.channelMember.notify_props.push===a)return void t.updateSection("");var r={push:a},i={channel_id:e,user_id:n};(0,w.updateChannelNotifyProps)(i,r,function(){t.updateSection("")},function(e){t.setState({serverError:e.message})})},t.handleUpdatePushNotificationLevel=function(e){t.setState({pushLevel:e})},t.handleUpdatePushSection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.NotificationSections.NONE;t.updateSection(e),t.setState({pushLevel:t.props.channelMember.notify_props.push})},t.state={activeSection:C.NotificationSections.NONE,notifyLevel:e.channelMember.notify_props.desktop,unreadLevel:e.channelMember.notify_props.mark_unread,pushLevel:e.channelMember.notify_props.push||C.NotificationLevels.DEFAULT},t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"componentWillReceiveProps",value:function(e){M.areObjectsEqual(this.props.channelMember.notify_props,e.channelMember.notify_props)||this.setState({notifyLevel:e.channelMember.notify_props.desktop,unreadLevel:e.channelMember.notify_props.mark_unread,pushLevel:e.channelMember.notify_props.push||C.NotificationLevels.DEFAULT})}},{key:"render",value:function(){var t=null;return this.state.serverError&&(t=_.default.createElement("div",{className:"form-group has-error"},_.default.createElement("label",{className:"control-label"},this.state.serverError))),_.default.createElement(y.Modal,{show:this.props.show,dialogClassName:"settings-modal settings-modal--tabless",onHide:this.handleOnHide,onExited:this.handleOnHide},_.default.createElement(y.Modal.Header,{closeButton:!0},_.default.createElement(y.Modal.Title,null,_.default.createElement(E.FormattedMessage,{id:"channel_notifications.preferences",defaultMessage:"Notification Preferences for "}),_.default.createElement("span",{className:"name"},this.props.channel.display_name))),_.default.createElement(y.Modal.Body,null,_.default.createElement("div",{className:"settings-table"},_.default.createElement("div",{className:"settings-content"},_.default.createElement("div",{ref:"wrapper",className:"user-settings"},_.default.createElement("br",null),_.default.createElement("div",{className:"divider-dark first"}),_.default.createElement(k.default,{section:C.NotificationSections.DESKTOP,expand:this.state.activeSection===C.NotificationSections.DESKTOP,memberNotificationLevel:this.state.notifyLevel,globalNotificationLevel:this.props.currentUser.notify_props?this.props.currentUser.notify_props.desktop:C.NotificationLevels.ALL,onChange:this.handleUpdateDesktopNotifyLevel,onSubmit:this.handleSubmitDesktopNotifyLevel,onUpdateSection:this.handleUpdateDesktopSection,serverError:this.state.serverError}),_.default.createElement("div",{className:"divider-light"}),"false"!==e.mm_config.SendPushNotifications&&_.default.createElement(k.default,{section:C.NotificationSections.PUSH,expand:this.state.activeSection===C.NotificationSections.PUSH,memberNotificationLevel:this.state.pushLevel,globalNotificationLevel:this.props.currentUser.notify_props?this.props.currentUser.notify_props.push:C.NotificationLevels.ALL,onChange:this.handleUpdatePushNotificationLevel,onSubmit:this.handleSubmitPushNotificationLevel,onUpdateSection:this.handleUpdatePushSection,serverError:this.state.serverError}),_.default.createElement("div",{className:"divider-light"}),_.default.createElement(k.default,{section:C.NotificationSections.MARK_UNREAD,expand:this.state.activeSection===C.NotificationSections.MARK_UNREAD,memberNotificationLevel:this.state.unreadLevel,onChange:this.handleUpdateMarkUnreadLevel,onSubmit:this.handleSubmitMarkUnreadLevel,onUpdateSection:this.handleUpdateMarkUnreadSection,serverError:this.state.serverError}),_.default.createElement("div",{className:"divider-dark"})))),t))}}]),a}(_.default.Component);t.default=T,T.propTypes={show:v.default.bool.isRequired,onHide:v.default.func.isRequired,channel:v.default.object.isRequired,channelMember:v.default.object.isRequired,currentUser:v.default.object.isRequired}}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.section,a=e.memberNotifyLevel,n=e.globalNotifyLevel;return a===d.NotificationLevels.DEFAULT&&n?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.globalDefault",defaultMessage:"Global default ({notifyLevel})",values:{notifyLevel:n}}):a===d.NotificationLevels.MENTION?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.onlyMentions",defaultMessage:"Only for mentions"}):t!==d.NotificationSections.DESKTOP&&t!==d.NotificationSections.PUSH||a!==d.NotificationLevels.ALL?t===d.NotificationSections.MARK_UNREAD&&a===d.NotificationLevels.ALL?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.allUnread",defaultMessage:"For all unread messages"}):l.default.createElement(u.FormattedMessage,{id:"channel_notifications.never",defaultMessage:"Never"}):l.default.createElement(u.FormattedMessage,{id:"channel_notifications.allActivity",defaultMessage:"For all activity"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(12);r.propTypes={globalNotifyLevel:o.default.string,memberNotifyLevel:o.default.string.isRequired,section:o.default.string.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.section;return t===d.NotificationSections.DESKTOP?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.sendDesktop",defaultMessage:"Send desktop notifications"}):t===d.NotificationSections.PUSH?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.push",defaultMessage:"Send mobile push notifications"}):t===d.NotificationSections.MARK_UNREAD?l.default.createElement(u.FormattedMessage,{id:"channel_notifications.markUnread",defaultMessage:"Mark Channel Unread"}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(12);r.propTypes={section:o.default.string.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{currentTeamDetails:(0,c.getCurrentTeam)(e)})}function i(e){return{actions:(0,l.bindActionCreators)({deleteChannel:d.deleteChannel},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(11),u=a(141),d=a(90),c=a(170),f=a(1764),p=n(f);t.default=(0,u.connect)(r,i)(p.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{actions:{updateChannel:(0,s.bindActionCreators)(d.updateChannel,e)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(11),l=a(141),u=a(71),d=a(90),c=a(170),f=a(143),p=a(1770),h=n(p),m=(0,u.createSelector)(function(e){var t=e.entities.teams.currentTeamId,a=(0,c.getTeam)(e,t);return{currentTeamUrl:(0,f.getSiteURL)()+"/"+a.name,team:a}},function(e){return(0,o.default)({},e)});t.default=(0,l.connect)(m,r)(h.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"19px",height:"18px",viewBox:"0 0 19 18"},m.default.createElement("g",{stroke:"inherit",strokeWidth:"1",fill:"none",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-719.000000, -20.000000)",strokeWidth:"1.5"},m.default.createElement("g",{transform:"translate(0.000000, 1.000000)"},m.default.createElement("g",{transform:"translate(63.000000, 10.000000)"},m.default.createElement("g",{transform:"translate(657.000000, 10.000000)"},m.default.createElement("circle",{cx:"7",cy:"7",r:"7"}),m.default.createElement("path",{d:"M12.5,11.5 L16.5,15.5",strokeLinecap:"round"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return{actions:(0,i.bindActionCreators)({openModal:o.openModal},e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(11),o=a(1273),s=a(1771),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(null,n)(l.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(88),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(1142),w=n(E),C=a(143),x=a(47),M=n(x),S=a(460),k=function(e){function t(e){(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){if(this.props.message){var e=(0,o.default)({},this.props.options,{siteURL:(0,C.getSiteURL)()}),t=w.formatText(this.props.message,e);return y.default.createElement("div",{onClick:M.handleFormattedTextClick},(0,S.messageHtmlToComponent)(t,!1,{mentions:!1}))}return y.default.createElement("div",null)}}]),t}(y.default.Component);t.default=k,k.defaultProps={message:""},k.propTypes={message:b.default.string,options:b.default.object}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="file-overlay hidden";return"right"===e.overlayType?t+=" right-file-overlay":"center"===e.overlayType&&(t+=" center-file-overlay"),l.default.createElement("div",{className:t},l.default.createElement("div",{className:"overlay__indent"},l.default.createElement("div",{className:"overlay__circle"},l.default.createElement("img",{className:"overlay__files",src:c.default,alt:"Files"}),l.default.createElement("span",null,l.default.createElement("i",{className:"fa fa-upload"}),l.default.createElement(u.FormattedMessage,{id:"upload_overlay.info",defaultMessage:"Drop a file to upload it."})),l.default.createElement("img",{className:"overlay__logo",src:p.default,width:"100",alt:"Logo"}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(1780),c=n(d),f=a(1781),p=n(f);r.propTypes={overlayType:o.default.string}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var n=a(1784),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default,t.Scrollbars=r.default},function(e,t,a){function n(e,t,a){var n=u[t];if(void 0===n&&(n=i(t)),n){if(void 0===a)return e.style[n];e.style[n]=d(n,a)}}function r(e,t){for(var a in t)t.hasOwnProperty(a)&&n(e,a,t[a])}function i(e){var t=l(e),a=s(t);return u[t]=u[e]=u[a]=a,a}function o(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:r(arguments[0],arguments[1]):n(arguments[0],arguments[1],arguments[2])}var s=a(1787),l=a(1788),u={float:"cssFloat"},d=a(1791);e.exports=o,e.exports.set=o,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,a){return t[a]=n(e,a||""),t},{}):n(e,t||"")}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(217),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(1193),E=a(1348),w=n(E),C=a(12),x=n(C),M=a(47),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(M),k=a(1170),T=n(k),P=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleRemove=a.handleRemove.bind(a),a.state={fileInfos:[].concat((0,i.default)(a.props.fileInfos))},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(){this.props.uploadsInProgress.length>0&&this.refs[this.props.uploadsInProgress[0]].scrollIntoView()}},{key:"componentWillReceiveProps",value:function(e){S.areObjectsEqual(this.props.fileInfos,e.fileInfos)||this.setState({fileInfos:[].concat((0,i.default)(e.fileInfos))})}},{key:"handleRemove",value:function(e){this.props.onRemove(e)}},{key:"render",value:function(){var e=this,t=[];return this.state.fileInfos.sort(function(e,t){return e.create_at-t.create_at}).forEach(function(a,n){var r=S.getFileType(a.extension),i="file-preview post-image__column",o=void 0;if("svg"===r)o=_.default.createElement("img",{className:"post-image normal",src:(0,y.getFileUrl)(a.id)});else if("image"===r){var s="post-image";a.width<x.default.THUMBNAIL_WIDTH&&a.height<x.default.THUMBNAIL_HEIGHT?s+=" small":s+=" normal";var l=(0,y.getFileThumbnailUrl)(a.id);S.isGIFImage(a.extension)&&!a.has_preview_image&&(l=(0,y.getFileUrl)(a.id)),o=_.default.createElement("div",{className:s,style:{backgroundImage:"url("+l+")",backgroundSize:"cover"}})}else i+=" custom-file",o=_.default.createElement("div",{className:"file-icon "+S.getIconClassName(r)});t.push(_.default.createElement("div",{key:a.id,className:i},_.default.createElement("div",{className:"post-image__thumbnail"},o),_.default.createElement("div",{className:"post-image__details"},_.default.createElement("div",{className:"post-image__detail_wrapper"},_.default.createElement("div",{className:"post-image__detail"},_.default.createElement(w.default,{fileInfo:a,index:n,handleImageClick:null,compactDisplay:!1,canDownload:!1}),_.default.createElement("span",{className:"post-image__type"},a.extension.toUpperCase()),_.default.createElement("span",{className:"post-image__size"},S.fileSizeToString(a.size)))),_.default.createElement("div",null,_.default.createElement("a",{className:"file-preview__remove",onClick:e.handleRemove.bind(e,a.id)},_.default.createElement("i",{className:"fa fa-remove"}))))))}),this.props.uploadsInProgress.forEach(function(a){t.push(_.default.createElement("div",{ref:a,key:a,className:"file-preview","data-client-id":a},_.default.createElement("img",{className:"spinner",src:T.default}),_.default.createElement("a",{className:"file-preview__remove",onClick:e.handleRemove.bind(e,a)},_.default.createElement("i",{className:"fa fa-remove"}))))}),_.default.createElement("div",{className:"file-preview__container",ref:"container"},t)}}]),t}(_.default.PureComponent);P.propTypes={onRemove:v.default.func.isRequired,fileInfos:v.default.arrayOf(v.default.object).isRequired,uploadsInProgress:v.default.array},P.defaultProps={fileInfos:[],uploadsInProgress:[]},t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(1193),y=a(1349),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.onAttachmentClick=function(e){e.preventDefault(),n.props.handleImageClick(n.props.index)},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.fileInfo,t=e.name,a=(0,_.getFileUrl)(e.id),n=void 0;n=t.length>35?t.substring(0,Math.min(35,t.length))+"...":t;return this.props.compactDisplay?v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:1e3,placement:"top",overlay:v.default.createElement(b.Tooltip,{id:"file-name__tooltip"},t)},v.default.createElement("a",{href:"#",onClick:this.onAttachmentClick,className:"post-image__name",rel:"noopener noreferrer"},v.default.createElement(E.default,{className:"icon"}),n)):this.props.canDownload?v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:1e3,placement:"top",overlay:v.default.createElement(b.Tooltip,{id:"file-name__tooltip"},C.localizeMessage("file_attachment.download","Download")+' "'+t+'"')},v.default.createElement("a",{href:a,download:t,className:"post-image__name",target:"_blank",rel:"noopener noreferrer"},n)):v.default.createElement("span",{className:"post-image__name"},n)}}]),t}(v.default.PureComponent);x.propTypes={fileInfo:m.default.object.isRequired,index:m.default.number.isRequired,handleImageClick:m.default.func,compactDisplay:m.default.bool,canDownload:m.default.bool},t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"15px",viewBox:"0 0 18 15"},m.default.createElement("g",{fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-1029.000000, -954.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",{transform:"translate(25.000000, 937.000000)"},m.default.createElement("g",{transform:"translate(1004.000000, 17.000000)"},m.default.createElement("path",{d:"M5.35,15.56 C3.98,15.56 2.61,15.039 1.567,13.997 C0.557,12.984 0,11.642 0,10.212 C0,8.783 0.557,7.44 1.566,6.429 L6.869,1.126 C8.371,-0.376 10.812,-0.375 12.314,1.125 C13.815,2.627 13.815,5.069 12.314,6.57 L7.011,11.873 C6.094,12.792 4.603,12.79 3.687,11.873 C2.771,10.958 2.771,9.467 3.687,8.551 L8.99,3.248 C9.323,2.916 9.861,2.916 10.193,3.248 C10.525,3.579 10.525,4.118 10.193,4.449 L4.89,9.752 C4.637,10.006 4.637,10.418 4.89,10.672 C5.143,10.923 5.555,10.925 5.809,10.672 L11.113,5.369 C11.952,4.53 11.952,3.166 11.113,2.327 C10.276,1.49 8.911,1.488 8.073,2.327 L2.769,7.631 C2.079,8.32 1.699,9.237 1.699,10.212 C1.699,11.188 2.079,12.104 2.768,12.794 C4.19,14.216 6.502,14.216 7.925,12.798 L7.929,12.794 C7.929,12.793 7.929,12.793 7.929,12.793 L15.355,5.369 C15.687,5.037 16.224,5.037 16.556,5.369 C16.888,5.7 16.888,6.239 16.556,6.57 L8.779,14.348 L8.761,14.332 C7.776,15.15 6.562,15.56 5.35,15.56 Z"})))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{currentChannelId:(0,l.getCurrentChannelId)(e),uploadFile:u.uploadFile})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(144),u=a(1809),d=a(1810),c=n(d);t.default=(0,s.connect)(r)(c.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(1812),w=n(E),C=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.onTypingChange=a.onTypingChange.bind(a),a.updateTypingText=a.updateTypingText.bind(a),a.componentWillReceiveProps=a.componentWillReceiveProps.bind(a),a.state={text:""},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){w.default.addChangeListener(this.onTypingChange),this.onTypingChange()}},{key:"componentWillUnmount",value:function(){w.default.removeChangeListener(this.onTypingChange)}},{key:"componentWillReceiveProps",value:function(e){this.props.channelId!==e.channelId&&this.updateTypingText(w.default.getUsersTyping(e.channelId,e.parentId))}},{key:"onTypingChange",value:function(){this.updateTypingText(w.default.getUsersTyping(this.props.channelId,this.props.parentId))}},{key:"updateTypingText",value:function(e){var t="",a={},n=0;switch(e&&(a=(0,i.default)(e),n=a.length),n){case 0:t="";break;case 1:t=_.default.createElement(y.FormattedMessage,{id:"msg_typing.isTyping",defaultMessage:"{user} is typing...",values:{user:a[0]}});break;default:var r=a.pop();t=_.default.createElement(y.FormattedMessage,{id:"msg_typing.areTyping",defaultMessage:"{users} and {last} are typing...",values:{users:a.join(", "),last:r}})}this.setState({text:t})}},{key:"render",value:function(){return _.default.createElement("span",{className:"msg-typing"},this.state.text)}}]),t}(_.default.Component);C.propTypes={channelId:v.default.string,parentId:v.default.string},t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show}},{key:"render",value:function(){return v.default.createElement(b.Modal,{show:this.props.show,onHide:this.props.onHide},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,v.default.createElement(_.FormattedMessage,{id:"post_delete.notPosted",defaultMessage:"Comment could not be posted"}))),v.default.createElement(b.Modal.Body,null,v.default.createElement("p",null,v.default.createElement(_.FormattedMessage,{id:"post_delete.someone",defaultMessage:"Someone deleted the message on which you tried to post a comment."}))),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onHide},v.default.createElement(_.FormattedMessage,{id:"post_delete.okay",defaultMessage:"Okay"}))))}}]),t}(v.default.Component);y.propTypes={show:m.default.bool.isRequired,onHide:m.default.func.isRequired},t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if(!this.props.isMobile)return v.default.createElement("noscript",null);if(0===this.props.createAt)return v.default.createElement("noscript",null);var e=v.default.createElement(b.FormattedDate,{value:this.props.createAt,weekday:"short",day:"2-digit",month:"short",year:"numeric"}),t="post-list__timestamp";return this.props.isScrolling&&(t+=" scrolling"),this.props.isRhsPost&&(t+=" rhs"),v.default.createElement("div",{className:t},v.default.createElement("div",null,v.default.createElement("span",null,e)))}}]),t}(v.default.PureComponent);_.propTypes={isScrolling:m.default.bool.isRequired,isMobile:m.default.bool,createAt:m.default.number,isRhsPost:m.default.bool},t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 42 42"},m.default.createElement("g",{stroke:"inherit",strokeWidth:"1",fill:"none",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-986.000000, -1142.000000)"},m.default.createElement("g",{transform:"translate(50.000000, 1034.000000)"},m.default.createElement("g",{transform:"translate(539.000000, 54.000000)"},m.default.createElement("g",{transform:"translate(398.000000, 55.000000)"},m.default.createElement("g",{transform:"translate(11.000000, 11.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("path",{d:"M8.7345,14.1405 C8.74725,14.1525 8.763,14.15775 8.7765,14.16825 C8.802,14.18775 8.82675,14.20875 8.85675,14.22075 C8.9025,14.24025 8.95125,14.25 9,14.25 C9.04875,14.25 9.0975,14.24025 9.14325,14.22075 C9.18975,14.20125 9.23175,14.17275 9.267,14.1375 L13.764,9.6405 C13.91025,9.49425 13.91025,9.2565 13.764,9.11025 C13.61775,8.964 13.38,8.964 13.23375,9.11025 L9.375,12.969 L9.375,0.375 C9.375,0.168 9.207,0 9,0 C8.793,0 8.625,0.168 8.625,0.375 L8.625,12.9705 L4.76475,9.11025 C4.6185,8.964 4.38075,8.964 4.2345,9.11025 C4.08825,9.2565 4.08825,9.49425 4.2345,9.6405 L8.7345,14.1405 Z M17.25,13.5 C17.043,13.5 16.875,13.668 16.875,13.875 L16.875,17.25 L1.125,17.25 L1.125,13.875 C1.125,13.668 0.957,13.5 0.75,13.5 C0.543,13.5 0.375,13.668 0.375,13.875 L0.375,17.625 C0.375,17.832 0.543,18 0.75,18 L17.25,18 C17.457,18 17.625,17.832 17.625,17.625 L17.625,13.875 C17.625,13.668 17.457,13.5 17.25,13.5 Z"})))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.loading,a=e.progress,n=e.containerClass,r=null;return a&&(r=l.default.createElement("span",{className:"loader-percent"},t+" "+a+"%")),l.default.createElement("div",{className:n},l.default.createElement("img",{className:"loader-image",src:d.default}),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(1170),d=n(u);r.propTypes={progress:o.default.number,loading:o.default.string,containerClass:o.default.string},r.defaultProps={containerClass:"view-image__loading"}},function(e,t){var a={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==a.call(e)}},function(e,t,a){e.exports=a(1276).Transform},function(e,t,a){"use strict";(function(t){function n(e,t,a){if("function"==typeof e.prependListener)return e.prependListener(t,a);e._events&&e._events[t]?N(e._events[t])?e._events[t].unshift(a):e._events[t]=[a,e._events[t]]:e.on(t,a)}function r(e,t){T=T||a(1185),e=e||{},this.objectMode=!!e.objectMode,t instanceof T&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(U||(U=a(1280).StringDecoder),this.decoder=new U(e.encoding),this.encoding=e.encoding)}function i(e){if(T=T||a(1185),!(this instanceof i))return new i(e);this._readableState=new r(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),I.call(this)}function o(e,t,a,n,r){var i=d(t,a);if(i)e.emit("error",i);else if(null===a)t.reading=!1,c(e,t);else if(t.objectMode||a&&a.length>0)if(t.ended&&!r){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&r){var l=new Error("stream.unshift() after end event");e.emit("error",l)}else{var u;!t.decoder||r||n||(a=t.decoder.write(a),u=!t.objectMode&&0===a.length),r||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",a),e.read(0)):(t.length+=t.objectMode?1:a.length,r?t.buffer.unshift(a):t.buffer.push(a),t.needReadable&&f(e))),h(e,t)}else r||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function l(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=l(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function d(e,t){var a=null;return R.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a}function c(e,t){if(!t.ended){if(t.decoder){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,f(e)}}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(F("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?P(p,e):p(e))}function p(e){F("emit readable"),e.emit("readable"),y(e)}function h(e,t){t.readingMore||(t.readingMore=!0,P(m,e,t))}function m(e,t){for(var a=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(F("maybeReadMore read 0"),e.read(0),a!==t.length);)a=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;F("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&O(e,"data")&&(t.flowing=!0,y(e))}}function v(e){F("readable nexttick read 0"),e.read(0)}function b(e,t){t.resumeScheduled||(t.resumeScheduled=!0,P(_,e,t))}function _(e,t){t.reading||(F("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;for(F("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){if(0===t.length)return null;var a;return t.objectMode?a=t.buffer.shift():!e||e>=t.length?(a=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):a=w(e,t.buffer,t.decoder),a}function w(e,t,a){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():a?C(e,t):x(e,t),n}function C(e,t){var a=t.head,n=1,r=a.data;for(e-=r.length;a=a.next;){var i=a.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,a.next?t.head=a.next:t.head=t.tail=null):(t.head=a,a.data=i.slice(o));break}++n}return t.length-=n,r}function x(e,t){var a=A.allocUnsafe(e),n=t.head,r=1;for(n.data.copy(a),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(a,a.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++r}return t.length-=r,a}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,P(S,t,e))}function S(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function k(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1}e.exports=i;var T,P=a(1277),N=a(1356);i.ReadableState=r;var O=(a(60).EventEmitter,function(e,t){return e.listeners(t).length}),I=a(1359),R=a(1129).Buffer,A=a(1278),L=a(1207);L.inherits=a(458);var D=a(1831),F=void 0;F=D&&D.debuglog?D.debuglog("stream"):function(){};var U,j=a(1832);L.inherits(i,I);var H=["error","close","destroy","pause","resume"];i.prototype.push=function(e,t){var a=this._readableState;return a.objectMode||"string"!=typeof e||(t=t||a.defaultEncoding)!==a.encoding&&(e=A.from(e,t),t=""),o(this,a,e,t,!1)},i.prototype.unshift=function(e){return o(this,this._readableState,e,"",!0)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(e){return U||(U=a(1280).StringDecoder),this._readableState.decoder=new U(e),this._readableState.encoding=e,this};var B=8388608;i.prototype.read=function(e){F("read",e),e=parseInt(e,10);var t=this._readableState,a=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return F("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):f(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&M(this),null;var n=t.needReadable;F("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,F("length less than watermark",n)),t.ended||t.reading?(n=!1,F("reading or ended",n)):n&&(F("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(a,t)));var r;return r=e>0?E(e,t):null,null===r?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),a!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},i.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(e,a){function r(e){F("onunpipe"),e===f&&o()}function i(){F("onend"),e.end()}function o(){F("cleanup"),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("drain",v),e.removeListener("error",l),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",s),b=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){F("ondata"),_=!1,!1!==e.write(t)||_||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==k(p.pipes,e))&&!b&&(F("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,_=!0),f.pause())}function l(t){F("onerror",t),c(),e.removeListener("error",l),0===O(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",d),c()}function d(){F("onfinish"),e.removeListener("close",u),c()}function c(){F("unpipe"),f.unpipe(e)}var f=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,F("pipe count=%d opts=%j",p.pipesCount,a);var h=(!a||!1!==a.end)&&e!==t.stdout&&e!==t.stderr,m=h?i:o;p.endEmitted?P(m):f.once("end",m),e.on("unpipe",r);var v=g(f);e.on("drain",v);var b=!1,_=!1;return f.on("data",s),n(e,"error",l),e.once("close",u),e.once("finish",d),e.emit("pipe",f),p.flowing||(F("pipe resume"),f.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<n;r++)a[r].emit("unpipe",this);return this}var i=k(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var a=I.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&f(this):P(v,this))}return a},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(F("resume"),e.flowing=!0,b(this,e)),this},i.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,a=!1,n=this;e.on("end",function(){if(F("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(F("wrapped data"),t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){n.push(r)||(a=!0,e.pause())}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var i=0;i<H.length;i++)e.on(H[i],n.emit.bind(n,H[i]));return n._read=function(t){F("wrapped _read",t),a&&(a=!1,e.resume())},n},i._fromList=E}).call(t,a(1153))},function(e,t,a){e.exports=a(60).EventEmitter},function(e,t,a){"use strict";function n(e){this.afterTransform=function(t,a){return r(e,t,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(e,t,a){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==a&&void 0!==a&&e.push(a),r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState=new n(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,a){o(t,e,a)}):o(t)})}function o(e,t,a){if(t)return e.emit("error",t);null!==a&&void 0!==a&&e.push(a);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var s=a(1185),l=a(1207);l.inherits=a(458),l.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,a){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,a){var n=this._transformState;if(n.writecb=a,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({removePost:d.removePost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(146),c=a(1858),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-1057.000000, -31.000000)",fill:"inherit"},m.default.createElement("g",null,m.default.createElement("g",{transform:"translate(1049.000000, 22.000000)"},m.default.createElement("path",{d:"M17.4296875,15.8867188 C15.9882812,15.8867188 15.1210938,17.0351562 15.1210938,18.96875 C15.1210938,20.8789062 15.9882812,22.0507812 17.4179688,22.0507812 C18.8945312,22.0507812 19.84375,20.8554688 19.84375,18.96875 C19.84375,17.0820312 18.90625,15.8867188 17.4296875,15.8867188 Z M17.8398438,9.125 C23.3242188,9.125 27.25,12.59375 27.25,17.7734375 C27.25,21.5117188 25.5625,23.9609375 22.7734375,23.9609375 C21.4023438,23.9609375 20.265625,23.1992188 20.078125,22.0390625 L19.9609375,22.0390625 C19.46875,23.2226562 18.4140625,23.8789062 17.0429688,23.8789062 C14.6054687,23.8789062 12.9648438,21.8867188 12.9648438,18.9101562 C12.9648438,16.0625 14.6171875,14.09375 16.9960938,14.09375 C18.25,14.09375 19.3632812,14.7382812 19.8085938,15.7460938 L19.9375,15.7460938 L19.9375,14.328125 L21.9179688,14.328125 L21.9179688,20.984375 C21.9179688,21.7578125 22.328125,22.2851562 23.171875,22.2851562 C24.4726562,22.2851562 25.421875,20.6679688 25.421875,17.8320312 C25.421875,13.5664062 22.2929688,10.7421875 17.7109375,10.7421875 C13.1640625,10.7421875 9.90625,14.140625 9.90625,18.96875 C9.90625,24.1367188 13.3515625,27.0429688 18.109375,27.0429688 C19.5625,27.0429688 21.0507812,26.84375 21.7773438,26.5390625 L21.7773438,28.15625 C20.78125,28.484375 19.4570312,28.671875 18.0273438,28.671875 C12.2382812,28.671875 8.078125,25.109375 8.078125,18.8984375 C8.078125,13.0625 12.0859375,9.125 17.8398438,9.125 Z"})))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1885),_=n(b),y=a(47),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),w=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="",t="comment-icon__container";this.props.commentCount>0?(t+=" icon--show",e=v.default.createElement("span",{className:"comment-count"},this.props.commentCount)):""!==this.props.searchStyle&&(t=t+" "+this.props.searchStyle);var a=this.props.idPrefix;this.props.idCount>-1&&(a+=this.props.idCount);var n=E.createSafeId(this.props.idPrefix+"_"+this.props.id);return v.default.createElement("button",{id:n,className:t+" color--link style--none "+a+" "+this.props.extraClass,onClick:this.props.handleCommentClick},v.default.createElement(_.default,{className:"comment-icon"}),e)}}]),t}(v.default.PureComponent);w.propTypes={idPrefix:m.default.string.isRequired,idCount:m.default.number,handleCommentClick:m.default.func.isRequired,searchStyle:m.default.string,commentCount:m.default.number,id:m.default.string,extraClass:m.default.string},w.defaultProps={idCount:-1,searchStyle:"",commentCount:0,id:"",extraClass:""},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getProfilesNotInTeam:d.getProfilesNotInTeam},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(82),c=a(1889),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){e.exports=function(e){a.e(22).then(function(t){e(a(1896))}.bind(null,a)).catch(a.oe)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=a(1954);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return n(r).default}});var i=a(2074);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return n(i).default}});var o=a(2076);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return n(o).default}});var s=a(2078);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return n(s).default}});var l=a(2082);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return n(l).default}});var u=a(2085);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return n(u).default}});var d=a(2087);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return n(d).default}});var c=a(2089);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return n(c).default}});var f=a(2090);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return n(f).default}});var p=a(2096);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return n(p).default}});var h=a(2099);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return n(h).default}});var m=a(2103);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return n(m).default}});var g=a(2106);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return n(g).default}});var v=a(1433);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return n(v).default}});var b=n(s);t.default=b.default},function(e,t,a){function n(e,t){return e&&r(e,t,i)}var r=a(1957),i=a(1211);e.exports=n},function(e,t,a){function n(e,t){var a=o(e),n=!a&&i(e),d=!a&&!n&&s(e),f=!a&&!n&&!d&&u(e),p=a||n||d||f,h=p?r(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||h.push(g);return h}var r=a(1959),i=a(1402),o=a(1154),s=a(1304),l=a(1403),u=a(1404),d=Object.prototype,c=d.hasOwnProperty;e.exports=n},function(e,t,a){var n=a(1960),r=a(1182),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){function a(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=a},function(e,t,a){var n=a(1962),r=a(1963),i=a(1964),o=i&&i.isTypedArray,s=o?r(o):n;e.exports=s},function(e,t){function a(e,t){return function(a){return e(t(a))}}e.exports=a},function(e,t,a){function n(e){if(!i(e))return!1;var t=r(e);return t==s||t==l||t==o||t==u}var r=a(1181),i=a(1166),o="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=n},function(e,t,a){function n(e){return"function"==typeof e?e:r}var r=a(1408);e.exports=n},function(e,t){function a(e){return e}e.exports=a},function(e,t){function a(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}e.exports=a},function(e,t){function a(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,r=n.toString;e.exports=a},function(e,t,a){function n(e,t,a,o,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,a,o,n,s))}var r=a(1997),i=a(1182);e.exports=n},function(e,t,a){function n(e,t,a,n,u,d){var c=a&s,f=e.length,p=t.length;if(f!=p&&!(c&&p>f))return!1;var h=d.get(e);if(h&&d.get(t))return h==t;var m=-1,g=!0,v=a&l?new r:void 0;for(d.set(e,t),d.set(t,e);++m<f;){var b=e[m],_=t[m];if(n)var y=c?n(_,b,m,t,e,d):n(b,_,m,e,t,d);if(void 0!==y){if(y)continue;g=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(b===e||u(b,e,a,n,d)))return v.push(t)})){g=!1;break}}else if(b!==_&&!u(b,_,a,n,d)){g=!1;break}}return d.delete(e),d.delete(t),g}var r=a(1998),i=a(2001),o=a(2002),s=1,l=2;e.exports=n},function(e,t,a){var n=a(1156),r=n.Uint8Array;e.exports=r},function(e,t){function a(e){var t=-1,a=Array(e.size);return e.forEach(function(e,n){a[++t]=[n,e]}),a}e.exports=a},function(e,t){function a(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}e.exports=a},function(e,t,a){function n(e){return r(e,o,i)}var r=a(1417),i=a(1312),o=a(1211);e.exports=n},function(e,t,a){function n(e,t,a){var n=t(e);return i(e)?n:r(n,a(e))}var r=a(1418),i=a(1154);e.exports=n},function(e,t){function a(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}e.exports=a},function(e,t){function a(){return[]}e.exports=a},function(e,t,a){var n=a(2006),r=a(1310),i=a(2007),o=a(2008),s=a(2009),l=a(1181),u=a(1410),d=u(n),c=u(r),f=u(i),p=u(o),h=u(s),m=l;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||i&&"[object Promise]"!=m(i.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),a="[object Object]"==t?e.constructor:void 0,n=a?u(a):"";if(n)switch(n){case d:return"[object DataView]";case c:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,a){function n(e){return e===e&&!r(e)}var r=a(1166);e.exports=n},function(e,t){function a(e,t){return function(a){return null!=a&&(a[e]===t&&(void 0!==t||e in Object(a)))}}e.exports=a},function(e,t,a){function n(e,t){t=r(t,e);for(var a=0,n=t.length;null!=e&&a<n;)e=e[i(t[a++])];return a&&a==n?e:void 0}var r=a(1424),i=a(1244);e.exports=n},function(e,t,a){function n(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}var r=a(1154),i=a(1313),o=a(2013),s=a(2016);e.exports=n},function(e,t,a){var n=a(1400),r=a(2025),i=r(n);e.exports=i},function(e,t){function a(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}e.exports=a},function(e,t,a){function n(e,t,a){var n=e[t];s.call(e,t)&&i(n,a)&&(void 0!==a||t in e)||r(e,t,a)}var r=a(1428),i=a(1309),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,a){function n(e,t,a){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var r=a(2029);e.exports=n},function(e,t,a){function n(e){return o(e)?r(e,!0):i(e)}var r=a(1401),i=a(2032),o=a(1239);e.exports=n},function(e,t,a){var n=a(1418),r=a(1307),i=a(1312),o=a(1419),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)n(t,i(e)),e=r(e);return t}:o;e.exports=l},function(e,t){function a(e,t,a,n){var r=-1,i=null==e?0:e.length;for(n&&i&&(a=e[++r]);++r<i;)a=t(a,e[r],r,e);return a}e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(2057),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(l),d=t.Checkboard=function(e){var t=e.white,a=e.grey,n=e.size,r=e.renderers,o=e.borderRadius,l=e.boxShadow,d=(0,s.default)({default:{grid:{borderRadius:o,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+u.get(t,a,n,r.canvas)+") center left"}}});return i.default.createElement("div",{style:d.grid})};d.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=a(1262),f=n(c),p=a(1168),h=n(p),m=t.ColorWrap=function(e){var t=function(t){function a(e){r(this,a);var t=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.handleChange=function(e,a){if(h.default.simpleCheckForValidColor(e)){var n=h.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,a),t.props.onChange&&t.props.onChange(n,a)}},t.handleSwatchHover=function(e,a){if(h.default.simpleCheckForValidColor(e)){var n=h.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onSwatchHover&&t.props.onSwatchHover(n,a)}},t.state=s({},h.default.toState(e.color,0)),t.debounce=(0,f.default)(function(e,t,a){e(t,a)},100),t}return o(a,t),l(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(s({},h.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),d.default.createElement(e,s({},this.props,this.state,{onChange:this.handleChange},t))}}]),a}(u.PureComponent||u.Component);return t.propTypes=s({},e.propTypes),t.defaultProps=s({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"red",function(){return n}),a.d(t,"pink",function(){return r}),a.d(t,"purple",function(){return i}),a.d(t,"deepPurple",function(){return o}),a.d(t,"indigo",function(){return s}),a.d(t,"blue",function(){return l}),a.d(t,"lightBlue",function(){return u}),a.d(t,"cyan",function(){return d}),a.d(t,"teal",function(){return c}),a.d(t,"green",function(){return f}),a.d(t,"lightGreen",function(){return p}),a.d(t,"lime",function(){return h}),a.d(t,"yellow",function(){return m}),a.d(t,"amber",function(){return g}),a.d(t,"orange",function(){return v}),a.d(t,"deepOrange",function(){return b}),a.d(t,"brown",function(){return _}),a.d(t,"grey",function(){return y}),a.d(t,"blueGrey",function(){return E}),a.d(t,"darkText",function(){return w}),a.d(t,"lightText",function(){return C}),a.d(t,"darkIcons",function(){return x}),a.d(t,"lightIcons",function(){return M}),a.d(t,"white",function(){return S}),a.d(t,"black",function(){return k});var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},i={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},o={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},d={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},c={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},p={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},b={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},_={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},y={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},E={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},C={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},x={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},M={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},S="#ffffff",k="#000000";t.default={red:n,pink:r,purple:i,deepPurple:o,indigo:s,blue:l,lightBlue:u,cyan:d,teal:c,green:f,lightGreen:p,lime:h,yellow:m,amber:g,orange:v,deepOrange:b,brown:_,grey:y,blueGrey:E,darkText:w,lightText:C,darkIcons:x,lightIcons:M,white:S,black:k}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=[],a=e.intl.formatMessage,n=0;n<e.audits.length;n++){var r=e.audits[n],o=i(r,a),s=void 0;if(e.showUserId){var l=h.default.getProfile(o.userId);s=l?u.default.createElement("td",{className:"word-break--all"},l.email):u.default.createElement("td",{className:"word-break--all"},o.userId)}var c=void 0;e.showIp&&(c=u.default.createElement("td",{className:"whitespace--nowrap word-break--all"},o.ip));var f=void 0;e.showSession&&(f=u.default.createElement("td",{className:"whitespace--nowrap word-break--all"},o.sessionId));var p="";-1!==o.desc.toLowerCase().indexOf("fail")&&(p=" color--error"),t[n]=u.default.createElement("tr",{key:r.id},u.default.createElement("td",{className:"whitespace--nowrap word-break--all"},o.timestamp),s,u.default.createElement("td",{className:"word-break--all"+p},o.desc),c,f)}var m=void 0;e.showUserId&&(m=u.default.createElement("th",null,u.default.createElement(d.FormattedMessage,{id:"audit_table.userId",defaultMessage:"User ID"})));var g=void 0;e.showIp&&(g=u.default.createElement("th",null,u.default.createElement(d.FormattedMessage,{id:"audit_table.ip",defaultMessage:"IP Address"})));var v=void 0;return e.showSession&&(v=u.default.createElement("th",null,u.default.createElement(d.FormattedMessage,{id:"audit_table.session",defaultMessage:"Session ID"}))),u.default.createElement("table",{className:"table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,u.default.createElement(d.FormattedMessage,{id:"audit_table.timestamp",defaultMessage:"Timestamp"})),m,u.default.createElement("th",null,u.default.createElement(d.FormattedMessage,{id:"audit_table.action",defaultMessage:"Action"})),g,v)),u.default.createElement("tbody",null,t))}function i(e,t){var a=e.action.replace(/\/api\/v[1-9]/,""),n="";if(0===a.indexOf("/channels")){var r=e.extra_info.split(" "),i=r[0].split("="),o="",s=void 0,l="";switch(i.indexOf("name")>=0&&(o=i[i.indexOf("name")+1],s=f.default.getByName(o),l=s?s.display_name:o),a){case"/channels/create":n=t(v.channelCreated,{channelName:l});break;case"/channels/create_direct":n=t(v.establishedDM,{username:g.getDirectTeammate(s.id).username});break;case"/channels/update":n=t(v.nameUpdated,{channelName:l});break;case"/channels/update_desc":case"/channels/update_header":n=t(v.headerUpdated,{channelName:l});break;default:var c=[],p="",m="";if(r[1]&&(c=r[1].split("="),c.indexOf("user_id")>=0)){p=c[c.indexOf("user_id")+1];var b=h.default.getProfile(p);b&&(m=b.username)}/\/channels\/[A-Za-z0-9]+\/delete/.test(a)?n=t(v.channelDeleted,{url:o}):/\/channels\/[A-Za-z0-9]+\/add/.test(a)?n=t(v.userAdded,{username:m,channelName:l}):/\/channels\/[A-Za-z0-9]+\/remove/.test(a)&&(n=t(v.userRemoved,{username:m,channelName:l}))}}else if(0===a.indexOf("/oauth")){var _=e.extra_info.split(" ");switch(a){case"/oauth/register":var y=_[0].split("=");"client_id"===y[0]&&(n=t(v.attemptedRegisterApp,{id:y[1]}));break;case"/oauth/allow":"attempt"===_[0]?n=t(v.attemptedAllowOAuthAccess):"success"===_[0]?n=t(v.successfullOAuthAccess):"fail - redirect_uri did not match registered callback"===_[0]&&(n=t(v.failedOAuthAccess));break;case"/oauth/access_token":if("attempt"===_[0])n=t(v.attemptedOAuthToken);else if("success"===_[0])n=t(v.successfullOAuthToken);else{var E=_[0].split("-");"fail"===E[0].trim()&&E[1]&&(n=t(E,{token:E[1].trim()}))}}}else if(0===a.indexOf("/users")){var w=e.extra_info.split(" ");switch(a){case"/users/login":"attempt"===w[0]?n=t(v.attemptedLogin):"success"===w[0]?n=t(v.successfullLogin):w[0]&&(n=t(v.failedLogin));break;case"/users/revoke_session":n=t(v.sessionRevoked,{sessionId:w[0].split("=")[1]});break;case"/users/newimage":n=t(v.updatePicture);break;case"/users/update":n=t(v.updateGeneral);break;case"/users/newpassword":"attempted"===w[0]?n=t(v.attemptedPassword):"completed"===w[0]?n=t(v.successfullPassword):"failed - tried to update user password who was logged in through oauth"===w[0]&&(n=t(v.failedPassword));break;case"/users/update_roles":var C=w[0].split("=")[1];n=t(v.updatedRol),C.trim()?n+=C:n+=t(v.member);break;case"/users/update_active":var x=w[0].split("=")[0],M=w[0].split("=")[1];if("active"===x){"true"===M?n=t(v.accountActive):"false"===M&&(n=t(v.accountInactive));var S=w[1].split("=");if("session_user"===S[0]){var k=h.default.getProfile(S[1]),T=h.default.getCurrentUser();T&&k&&g.isSystemAdmin(T.roles)?n+=t(v.by,{username:k.username}):T&&k&&(n+=t(v.byAdmin))}}else"session_id"===x&&(n=t(v.sessionRevoked,{sessionId:M}));break;case"/users/send_password_reset":n=t(v.sentEmail,{email:w[0].split("=")[1]});break;case"/users/reset_password":"attempt"===w[0]?n=t(v.attemptedReset):"success"===w[0]&&(n=t(v.successfullReset));break;case"/users/update_notify":n=t(v.updateGlobalNotifications)}}else if(0===a.indexOf("/hooks")){var P=e.extra_info;switch(a){case"/hooks/incoming/create":"attempt"===P?n=t(v.attemptedWebhookCreate):"success"===P?n=t(v.succcessfullWebhookCreate):"fail - bad channel permissions"===P&&(n=t(v.failedWebhookCreate));break;case"/hooks/incoming/delete":"attempt"===P?n=t(v.attemptedWebhookDelete):"success"===P?n=t(v.successfullWebhookDelete):"fail - inappropriate conditions"===P&&(n=t(v.failedWebhookDelete))}}else if(0===a.indexOf("/license")){var N=e.extra_info;switch(a){case"/license/add":"attempt"===N?n=t(v.attemptedLicenseAdd):"success"===N?n=t(v.successfullLicenseAdd):"failed - expired or non-started license"===N?n=t(v.failedExpiredLicenseAdd):"failed - invalid license"===N&&(n=t(v.failedInvalidLicenseAdd));break;case"/license/remove":n=t(v.licenseRemoved)}}else if(0===a.indexOf("/admin/download_compliance_report"))n=g.toTitleCase(e.extra_info);else switch(a){case"/logout":n=t(v.logout);break;case"/verify_email":n=t(v.verified)}if(!n)if(e.extra_info.indexOf("revoked_all=")>=0)n=t(v.revokedAll);else{var O="";a&&-1!==a.lastIndexOf("/")&&(O=a.substring(a.lastIndexOf("/")+1).replace("_"," "),O=g.toTitleCase(O));var I="";e.extra_info&&(I=e.extra_info,-1!==I.indexOf("=")&&(I=I.substring(I.indexOf("=")+1))),n=O+" "+I}var R=new Date(e.create_at),A={};return A.timestamp=u.default.createElement("div",null,u.default.createElement("div",null,u.default.createElement(d.FormattedDate,{value:R,day:"2-digit",month:"short",year:"numeric"})),u.default.createElement("div",null,u.default.createElement(d.FormattedTime,{value:R,hour:"2-digit",minute:"2-digit"}))),A.userId=e.user_id,A.desc=n,A.ip=e.ip_address,A.sessionId=e.session_id,A}Object.defineProperty(t,"__esModule",{value:!0}),t.formatAuditInfo=i;var o=a(27),s=n(o),l=a(0),u=n(l),d=a(214),c=a(48),f=n(c),p=a(42),h=n(p),m=a(47),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),v=(0,d.defineMessages)({sessionRevoked:{id:"audit_table.sessionRevoked",defaultMessage:"The session with id {sessionId} was revoked"},channelCreated:{id:"audit_table.channelCreated",defaultMessage:"Created the {channelName} channel"},establishedDM:{id:"audit_table.establishedDM",defaultMessage:"Established a direct message channel with {username}"},nameUpdated:{id:"audit_table.nameUpdated",defaultMessage:"Updated the {channelName} channel name"},headerUpdated:{id:"audit_table.headerUpdated",defaultMessage:"Updated the {channelName} channel header"},channelDeleted:{id:"audit_table.channelDeleted",defaultMessage:"Deleted the channel with the URL {url}"},userAdded:{id:"audit_table.userAdded",defaultMessage:"Added {username} to the {channelName} channel"},userRemoved:{id:"audit_table.userRemoved",defaultMessage:"Removed {username} to the {channelName} channel"},attemptedRegisterApp:{id:"audit_table.attemptedRegisterApp",defaultMessage:"Attempted to register a new OAuth Application with ID {id}"},attemptedAllowOAuthAccess:{id:"audit_table.attemptedAllowOAuthAccess",defaultMessage:"Attempted to allow a new OAuth service access"},successfullOAuthAccess:{id:"audit_table.successfullOAuthAccess",defaultMessage:"Successfully gave a new OAuth service access"},failedOAuthAccess:{id:"audit_table.failedOAuthAccess",defaultMessage:"Failed to allow a new OAuth service access - the redirect URI did not match the previously registered callback"},attemptedOAuthToken:{id:"audit_table.attemptedOAuthToken",defaultMessage:"Attempted to get an OAuth access token"},successfullOAuthToken:{id:"audit_table.successfullOAuthToken",defaultMessage:"Successfully added a new OAuth service"},oauthTokenFailed:{id:"audit_table.oauthTokenFailed",defaultMessage:"Failed to get an OAuth access token - {token}"},attemptedLogin:{id:"audit_table.attemptedLogin",defaultMessage:"Attempted to login"},successfullLogin:{id:"audit_table.successfullLogin",defaultMessage:"Successfully logged in"},failedLogin:{id:"audit_table.failedLogin",defaultMessage:"FAILED login attempt"},updatePicture:{id:"audit_table.updatePicture",defaultMessage:"Updated your profile picture"},updateGeneral:{id:"audit_table.updateGeneral",defaultMessage:"Updated the general settings of your account"},attemptedPassword:{id:"audit_table.attemptedPassword",defaultMessage:"Attempted to change password"},successfullPassword:{id:"audit_table.successfullPassword",defaultMessage:"Successfully changed password"},failedPassword:{id:"audit_table.failedPassword",defaultMessage:"Failed to change password - tried to update user password who was logged in through OAuth"},updatedRol:{id:"audit_table.updatedRol",defaultMessage:"Updated user role(s) to "},member:{id:"audit_table.member",defaultMessage:"member"},accountActive:{id:"audit_table.accountActive",defaultMessage:"Account activated"},accountInactive:{id:"audit_table.accountInactive",defaultMessage:"Account deactivated"},by:{id:"audit_table.by",defaultMessage:" by {username}"},byAdmin:{id:"audit_table.byAdmin",defaultMessage:" by an admin"},sentEmail:{id:"audit_table.sentEmail",defaultMessage:"Sent an email to {email} to reset your password"},attemptedReset:{id:"audit_table.attemptedReset",defaultMessage:"Attempted to reset password"},successfullReset:{id:"audit_table.successfullReset",defaultMessage:"Successfully reset password"},updateGlobalNotifications:{id:"audit_table.updateGlobalNotifications",defaultMessage:"Updated your global notification settings"},attemptedWebhookCreate:{id:"audit_table.attemptedWebhookCreate",defaultMessage:"Attempted to create a webhook"},succcessfullWebhookCreate:{id:"audit_table.successfullWebhookCreate",defaultMessage:"Successfully created a webhook"},failedWebhookCreate:{id:"audit_table.failedWebhookCreate",defaultMessage:"Failed to create a webhook - bad channel permissions"},attemptedWebhookDelete:{id:"audit_table.attemptedWebhookDelete",defaultMessage:"Attempted to delete a webhook"},successfullWebhookDelete:{id:"audit_table.successfullWebhookDelete",defaultMessage:"Successfully deleted a webhook"},failedWebhookDelete:{id:"audit_table.failedWebhookDelete",defaultMessage:"Failed to delete a webhook - inappropriate conditions"},logout:{id:"audit_table.logout",defaultMessage:"Logged out of your account"},verified:{id:"audit_table.verified",defaultMessage:"Successfully verified your email address"},revokedAll:{id:"audit_table.revokedAll",defaultMessage:"Revoked all current sessions for the team"},loginAttempt:{id:"audit_table.loginAttempt",defaultMessage:" (Login attempt)"},loginFailure:{id:"audit_table.loginFailure",defaultMessage:" (Login failure)"},attemptedLicenseAdd:{id:"audit_table.attemptedLicenseAdd",defaultMessage:"Attempted to add new license"},successfullLicenseAdd:{id:"audit_table.successfullLicenseAdd",defaultMessage:"Successfully added new license"},failedExpiredLicenseAdd:{id:"audit_table.failedExpiredLicenseAdd",defaultMessage:"Failed to add a new license as it has either expired or not yet been started"},failedInvalidLicenseAdd:{id:"audit_table.failedInvalidLicenseAdd",defaultMessage:"Failed to add an invalid license"},licenseRemoved:{id:"audit_table.licenseRemoved",defaultMessage:"Successfully removed a license"}});r.propTypes={intl:d.intlShape.isRequired,audits:s.default.array.isRequired,showUserId:s.default.bool,showIp:s.default.bool,showSession:s.default.bool},t.default=(0,d.injectIntl)(r)},function(e,t,a){e.exports=a.p+"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3"},function(e,t,a){"use strict";var n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var a={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":a.relatedAddress=t[n+1];break;case"rport":a.relatedPort=parseInt(t[n+1],10);break;case"tcptype":a.tcpType=t[n+1];break;case"ufrag":a.ufrag=t[n+1],a.usernameFragment=t[n+1];break;default:a[t[n]]=t[n+1]}return a},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var a=e.type;return t.push("typ"),t.push(a),"host"!==a&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),e.ufrag&&(t.push("ufrag"),t.push(e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),a={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),a.name=t[0],a.clockRate=parseInt(t[1],10),a.numChannels=3===t.length?parseInt(t[2],10):1,a},n.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,a={},n=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<n.length;r++)t=n[r].trim().split("="),a[t[0].trim()]=t[1];return a},n.writeFmtp=function(e){var t="",a=e.payloadType;if(void 0!==e.preferredPayloadType&&(a=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){n.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+a+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",a=e.payloadType;return void 0!==e.preferredPayloadType&&(a=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+a+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),a={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(a.attribute=e.substr(t+1,n-t-1),a.value=e.substr(n+1)):a.attribute=e.substr(t+1),a},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var a="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){a+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),a},n.getIceParameters=function(e,t){var a=n.splitLines(e);return a=a.concat(n.splitLines(t)),{usernameFragment:a.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:a.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=n.splitLines(e),r=a[0].split(" "),i=3;i<r.length;i++){var o=r[i],s=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var l=n.parseRtpMap(s),u=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(l.parameters=u.length?n.parseFmtp(u[0]):{},l.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(l.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var a="";a+="m="+e+" ",a+=t.codecs.length>0?"9":"0",a+=" UDP/TLS/RTP/SAVPF ",a+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",a+="c=IN IP4 0.0.0.0\r\n",a+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){a+=n.writeRtpMap(e),a+=n.writeFmtp(e),a+=n.writeRtcpFb(e)});var r=0;return t.codecs.forEach(function(e){e.maxptime>r&&(r=e.maxptime)}),r>0&&(a+="a=maxptime:"+r+"\r\n"),a+="a=rtcp-mux\r\n",t.headerExtensions.forEach(function(e){a+=n.writeExtmap(e)}),a},n.parseRtpEncodingParameters=function(e){var t,a=[],r=n.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),l=s.length>0&&s[0].ssrc,u=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===l&&(t=u[0][1]),r.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};a.push(n),i&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:t,mechanism:o?"red+ulpfec":"red"},a.push(n))}}),0===a.length&&l&&a.push({ssrc:l});var d=n.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,a.forEach(function(e){e.maxBitrate=d})),a},n.parseRtcpParameters=function(e){var t={},a=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];a&&(t.cname=a.value,t.ssrc=a.ssrc);var r=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var i=n.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},n.parseMsid=function(e){var t,a=n.matchPrefix(e,"a=msid:");if(1===a.length)return t=a[0].substr(7).split(" "),{stream:t[0],track:t[1]};var r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return r.length>0?(t=r[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t){var a=void 0!==t?t:2;return"v=0\r\no=thisisadapterortc "+(e||n.generateSessionId())+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,a,r){var i=n.writeRtpDescription(e.kind,t);if(i+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var o="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+o,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),i},n.getDirection=function(e,t){for(var a=n.splitLines(e),r=0;r<a.length;r++)switch(a[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[r].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e),a=t[0].split(" ");return{kind:a[0].substr(2),port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(2144),_=a(214),y=a(47),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),w=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=v.default.createElement(b.ContextMenu,{id:"copy-url-context-menu"+this.props.menuId},v.default.createElement(b.MenuItem,{data:{link:this.props.link},onClick:E.copyToClipboard},v.default.createElement(_.FormattedMessage,{id:"copy_url_context_menu.getChannelLink",defaultMessage:"Copy Link"}))),t=v.default.createElement(b.ContextMenuTrigger,{id:"copy-url-context-menu"+this.props.menuId},this.props.children);return v.default.createElement("span",null,e,t)}}]),t}(v.default.Component);w.propTypes={children:m.default.element,link:m.default.string.isRequired,menuId:m.default.string.isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"10px",height:"10px",viewBox:"0 0 10 10",style:v},m.default.createElement("g",{transform:"matrix(1,0,0,1,-20,-18)"},m.default.createElement("g",{transform:"matrix(0.0330723,0,0,0.0322634,15.8132,12.3164)"},m.default.createElement("path",{d:"M245.803,377.493C245.803,377.493 204.794,336.485 179.398,311.088C168.55,300.24 150.962,300.24 140.114,311.088C138.327,312.875 136.517,314.686 134.73,316.473C123.882,327.321 123.882,344.908 134.73,355.756C167.972,388.998 233.949,454.975 256.949,477.975C262.158,483.184 269.223,486.111 276.591,486.111C277.38,486.111 278.176,486.111 278.965,486.111C286.332,486.111 293.397,483.184 298.607,477.975C321.607,454.975 387.584,388.998 420.826,355.756C431.674,344.908 431.674,327.321 420.826,316.473C419.039,314.686 417.228,312.875 415.441,311.088C404.593,300.24 387.005,300.24 376.158,311.088C350.761,336.485 309.753,377.493 309.753,377.493C309.753,377.493 309.753,279.687 309.753,203.94C309.753,196.573 306.826,189.508 301.617,184.298C296.408,179.089 289.342,176.162 281.975,176.162C279.191,176.162 276.364,176.162 273.58,176.162C266.213,176.162 259.148,179.089 253.939,184.298C248.729,189.508 245.803,196.573 245.803,203.94L245.803,377.493Z"})))))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(){return function(e){e({type:o.ActionTypes.UPDATE_MOBILE_VIEW,data:(0,i.isMobile)()})}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){var n=null;e&&(n={id:e,hadMentions:t}),a({type:o.ActionTypes.KEEP_CHANNEL_AS_UNREAD,data:n})}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndSetMobileView=n,t.keepChanneIdAsUnread=r;var i=a(47),o=a(12)},function(e,t,a){"use strict";function n(e,t){var a=(0,d.getChannel)(e,t.channelId)||{},n=e.entities.preferences.myPreferences,r=(0,p.getCurrentUser)(e),i=void 0,o=void 0;if(a&&a.type===u.General.DM_CHANNEL){var s=(0,h.getUserIdFromChannelName)(r.id,a.name);i=(0,p.getUser)(e,s),o={status:(0,p.getStatusForUserId)(e,s)}}return{channel:a,channelMember:(0,d.getMyChannelMember)(e,t.channelId),teamMember:(0,f.getMyTeamMember)(e,a.team_id),isFavorite:(0,h.isFavoriteChannel)(n,t.channelId),isDefault:(0,h.isDefault)(a),currentUser:r,dmUser:i,dmUserStatus:o,enableFormatting:(0,c.getBool)(e,u.Preferences.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),rhsState:(0,b.getRhsState)(e)}}function r(e){return{actions:(0,o.bindActionCreators)({leaveChannel:s.leaveChannel,favoriteChannel:s.favoriteChannel,unfavoriteChannel:s.unfavoriteChannel,showFlaggedPosts:g.showFlaggedPosts,showPinnedPosts:g.showPinnedPosts,showMentions:g.showMentions,closeRightHandSide:g.closeRightHandSide,openModal:v.openModal,getCustomEmojisInText:l.getCustomEmojisInText},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(90),l=a(309),u=a(18),d=a(144),c=a(89),f=a(170),p=a(69),h=a(178),m=a(457),g=a(305),v=a(1273),b=a(307),_=a(2176),y=function(e){return e&&e.__esModule?e:{default:e}}(_);t.default=(0,m.withRouter)((0,i.connect)(n,r)(y.default))},function(e,t,a){a(2177),a(2178),a(2179),a(2180),a(2181),a(2182),a(2183),a(2184),a(2185),a(2186),a(2187),a(2188)},function(e,t,a){"use strict";function n(){var e=(0,u.makeGetPostsInChannel)(),t=(0,u.makeGetPostsAroundPost)();return function(a,n){var r=void 0;return r=n.focusedPostId?t(a,n.focusedPostId,n.channelId):e(a,n.channelId),{channel:(0,l.getChannel)(a,n.channelId)||{},lastViewedAt:a.views.channel.lastChannelViewTime[n.channelId],posts:r,postVisibility:a.views.channel.postVisibility[n.channelId],loadingPosts:a.views.channel.loadingPosts[n.channelId],focusedPostId:n.focusedPostId,currentUserId:(0,c.getCurrentUserId)(a),fullWidth:(0,d.get)(a,h.Preferences.CATEGORY_DISPLAY_SETTINGS,h.Preferences.CHANNEL_DISPLAY_MODE,h.Preferences.CHANNEL_DISPLAY_MODE_DEFAULT)===h.Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN}}}function r(e){return{actions:(0,o.bindActionCreators)({getPosts:s.getPosts,getPostsBefore:s.getPostsBefore,getPostsAfter:s.getPostsAfter,getPostThread:s.getPostThread,increasePostVisibility:f.increasePostVisibility,checkAndSetMobileView:p.checkAndSetMobileView},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(146),l=a(144),u=a(145),d=a(89),c=a(69),f=a(171),p=a(1440),h=a(12),m=a(2194),g=function(e){return e&&e.__esModule?e:{default:e}}(m);t.default=(0,i.connect)(n,r)(g.default)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n;!function(){"use strict";function r(e,t){var a;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,s=0,l=n.length;s<l;s++)i[n[s]]=function(e,t){return function(){return e.apply(t,arguments)}}(i[n[s]],i);o&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,a,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,a.hijacked||a,n):r.call(e,t,a,n)},e.addEventListener=function(t,a,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,a.hijacked||(a.hijacked=function(e){e.propagationStopped||a(e)}),n):r.call(e,t,a,n)}),"function"==typeof e.onclick&&(a=e.onclick,e.addEventListener("click",function(e){a(e)},!1),e.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,o=navigator.userAgent.indexOf("Android")>0&&!i,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,l=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),u=s&&/OS [6-7]_\d/.test(navigator.userAgent),d=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(s&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var a,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],a=document.createEvent("MouseEvents"),a.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),a.forwardedTouchEvent=!0,e.dispatchEvent(a)},r.prototype.determineEventType=function(e){return o&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;s&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,a;if(!(t=e.fastClickScrollParent)||!t.contains(e)){a=e;do{if(a.scrollHeight>a.offsetHeight){t=a,e.fastClickScrollParent=a;break}a=a.parentElement}while(a)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,a,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),a=e.targetTouches[0],s){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!l){if(a.identifier&&a.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=a.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=a.pageX,this.touchStartY=a.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],a=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>a||Math.abs(t.pageY-this.touchStartY)>a},r.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,a,n,r,i,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,u&&(i=e.changedTouches[0],d=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=d.tagName.toLowerCase())){if(t=this.findControl(d)){if(this.focus(d),o)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-a>100||s&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),s&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!s||l||!(r=d.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},r.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},r.prototype.destroy=function(){var e=this.layer;o&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,a,n;if(void 0===window.ontouchstart)return!0;if(a=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(a>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(d&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},r.attach=function(e,t){return new r(e,t)},void 0!==(n=function(){return r}.call(t,a,t,e))&&(e.exports=n)}()},,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoggedInHFTRoute=t.HFTRoute=void 0;var r=a(28),i=n(r),o=a(459),s=n(o),l=a(0),u=n(l),d=a(457),c=a(1606),f=n(c),p=a(1321),h=n(p),m=a(463),g=function(e){var t=e.component,a=(0,s.default)(e,["component"]);return u.default.createElement(d.Route,(0,i.default)({},a,{render:function(e){return u.default.createElement(m.AsyncComponent,(0,i.default)({doLoad:f.default},e),u.default.createElement(t,e))}}))};t.HFTRoute=g;var v=function(e){var t=e.component,a=(0,s.default)(e,["component"]);return u.default.createElement(d.Route,(0,i.default)({},a,{render:function(e){return u.default.createElement(m.AsyncComponent,(0,i.default)({doLoad:h.default},e),u.default.createElement(m.AsyncComponent,(0,i.default)({doLoad:f.default},e),u.default.createElement(t,e)))}}))};t.LoggedInHFTRoute=v},function(e,t,a){e.exports=function(e){a.e(15).then(function(t){e(a(1607))}.bind(null,a)).catch(a.oe)}},,,,,function(e,t,a){"use strict";function n(e){return{theme:(0,u.getTheme)(e)}}function r(e){return{actions:(0,o.bindActionCreators)({fetchMyChannelsAndMembers:s.fetchMyChannelsAndMembers,getMyTeamUnreads:l.getMyTeamUnreads,viewChannel:s.viewChannel,markChannelAsRead:s.markChannelAsRead,getMyChannelMembers:s.getMyChannelMembers},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(90),l=a(173),u=a(89),d=a(457),c=a(1612),f=function(e){return e&&e.__esModule?e:{default:e}}(c);t.default=(0,d.withRouter)((0,i.connect)(n,r)(f.default))},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(67),o=r(i),s=a(68),l=r(s),u=a(34),d=r(u),c=a(30),f=r(c),p=a(31),h=r(p),m=a(35),g=r(m),v=a(36),b=r(v),_=a(167),y=r(_),E=a(27),w=r(E),C=a(0),x=r(C),M=a(457),S=a(1613),k=r(S),T=a(223),P=a(469),N=a(48),O=r(N),I=a(59),R=r(I),A=a(42),L=r(A),D=a(174),F=r(D),U=a(142),j=n(U),H=a(464),B=r(H),q=a(12),z=r(q),G=a(169),W=n(G),V=a(47),$=n(V),K=a(168),Y=a(1322),X=a(1178),Z=r(X),J=a(1689),Q=r(J),ee=a(1690),te=r(ee),ae=a(1718),ne=r(ae),re=a(1720),ie=r(re),oe=a(1722),se=r(oe),le=a(1724),ue=r(le),de=a(1725),ce=r(de),fe=a(1726),pe=r(fe),he=a(1727),me=r(he),ge=a(1774),ve=r(ge),be=a(1775),_e=r(be),ye=a(1777),Ee=r(ye),we=a(1778),Ce=r(we),xe=a(1886),Me=r(xe),Se=a(1285),ke=r(Se),Te=a(1903),Pe=r(Te),Ne=a(1904),Oe=r(Ne),Ie=a(2123),Re=r(Ie),Ae=a(2124),Le=r(Ae),De=a(2139),Fe=r(De),Ue=a(2141),je=r(Ue),He=a(2145),Be=r(He),qe=a(2175),ze=r(qe),Ge=a(2213),We=r(Ge),Ve=a(463),$e=a(2222),Ke=r($e),Ye=(0,Ve.makeAsyncComponent)(Ke.default),Xe=void 0,Ze=(new Date).getTime(),Je=3e4,Qe=6e4,et=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));if(tt.call(a),a.shortcutKeyDown=function(e){return a.onShortcutKeyDown(e)},a.updateCurrentTeam=a.updateCurrentTeam.bind(a),a.blurTime=(new Date).getTime(),(0,Y.checkIfMFARequired)(a.props.match.url))return a.props.history.push("/mfa/setup"),(0,g.default)(a);clearInterval(Xe),Xe=setInterval(function(){var e=(new Date).getTime();e>Ze+Qe&&(console.log("computer woke up - fetching latest"),(0,P.reconnect)(!1)),Ze=e},Je);var n=a.updateCurrentTeam(a.props);return a.state={team:n,finishedFetchingChannels:!1},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.match.params.team!==e.match.params.team&&this.setState({team:this.updateCurrentTeam(e)})}},{key:"updateCurrentTeam",value:function(e){var t=this,a=e.match.params.team,n=R.default.getByName(a);return n?(R.default.getCurrentId()&&this.props.actions.getMyTeamUnreads(),R.default.saveMyTeam(n),F.default.setGlobalItem("team",n.id),R.default.emitChange(),j.emitCloseRightHandSide(),this.props.actions.fetchMyChannelsAndMembers(n.id).then(function(){t.setState({finishedFetchingChannels:!0})}),(0,T.loadStatusesForChannelAndSidebar)(),(0,K.loadProfilesForSidebar)(),n):(e.history.push("/?redirect_to="+encodeURIComponent(e.location.pathname)),null)}},{key:"onShortcutKeyDown",value:function(e){e.shiftKey&&$.cmdOrCtrlPressed(e)&&e.keyCode===z.default.KeyCodes.L&&(document.getElementById("sidebar-right").className.match("sidebar--right sidebar--right--expanded")?document.getElementById("reply_textbox").focus():document.getElementById("post_textbox").focus())}},{key:"componentDidMount",value:function(){var e=this;(0,T.startPeriodicStatusUpdates)(),(0,P.startPeriodicSync)(),window.isActive=!0,(0,y.default)(window).on("focus",(0,l.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.actions.markChannelAsRead(O.default.getCurrentId()),O.default.emitChange(),window.isActive=!0,t.next=5,e.props.actions.viewChannel(O.default.getCurrentId());case 5:(new Date).getTime()-e.blurTime>1e4&&e.props.actions.getMyChannelMembers(R.default.getCurrentId()).then(K.loadProfilesForSidebar);case 6:case"end":return t.stop()}},t,e)}))),(0,y.default)(window).on("blur",function(){window.isActive=!1,e.blurTime=(new Date).getTime(),L.default.getCurrentUser()&&e.props.actions.viewChannel("")}),$.applyTheme(this.props.theme),W.isIosSafari()&&k.default.enable(),document.addEventListener("keydown",this.shortcutKeyDown)}},{key:"componentWillUnmount",value:function(){(0,y.default)(window).off("focus"),(0,y.default)(window).off("blur"),W.isIosSafari()&&k.default.disable(),(0,T.stopPeriodicStatusUpdates)(),(0,P.stopPeriodicSync)(),clearInterval(Xe),document.removeEventListener("keydown",this.shortcutKeyDown)}},{key:"componentDidUpdate",value:function(e){var t=this.props.theme;$.areObjectsEqual(e.theme,t)||$.applyTheme(t)}},{key:"render",value:function(){var e=this;if(null===this.state.team||!1===this.state.finishedFetchingChannels)return x.default.createElement("div",null);var t=this.state.team?this.state.team.type:"";return x.default.createElement(M.Switch,null,x.default.createElement(M.Route,{path:"/:team/integrations",component:Ye}),x.default.createElement(M.Route,{path:"/:team/emoji",component:Ye}),x.default.createElement(M.Route,{render:function(){return x.default.createElement("div",{className:"channel-view"},x.default.createElement(Z.default,null),x.default.createElement(Re.default,null),x.default.createElement("div",{className:"container-fluid"},x.default.createElement(Ce.default,null),x.default.createElement(Me.default,{teamType:t}),x.default.createElement(Le.default,null),x.default.createElement(M.Route,{component:je.default}),x.default.createElement(M.Route,{component:Be.default}),x.default.createElement("div",{id:"inner-wrap-webrtc",key:"inner-wrap",className:"inner-wrap channel__wrap"},x.default.createElement("div",{className:"row header"},x.default.createElement("div",{id:"navbar"},x.default.createElement(me.default,null))),x.default.createElement("div",{className:"row main"},x.default.createElement(M.Switch,null,x.default.createElement(M.Route,{path:e.props.match.url+"/pl/:postid",component:ze.default}),x.default.createElement(M.Route,{path:"/:team/:path(channels|messages)/:identifier",component:We.default}),x.default.createElement(M.Redirect,{to:e.toLastChannel()})))),x.default.createElement(B.default,{pluggableName:"Root"}),x.default.createElement(Oe.default,null),x.default.createElement(ne.default,null),x.default.createElement(se.default,null),x.default.createElement(ie.default,null),x.default.createElement(ue.default,null),x.default.createElement(ce.default,null),x.default.createElement(Pe.default,null),x.default.createElement(ke.default,null),x.default.createElement(te.default,null),x.default.createElement(Q.default,null),x.default.createElement(ve.default,null),x.default.createElement(_e.default,null),x.default.createElement(pe.default,null),x.default.createElement(Ee.default,{isMac:$.isMac()}),x.default.createElement(Fe.default,null)))}}))}}]),t}(x.default.Component);et.propTypes={params:w.default.object,actions:w.default.shape({fetchMyChannelsAndMembers:w.default.func.isRequired,getMyTeamUnreads:w.default.func.isRequired,viewChannel:w.default.func.isRequired,markChannelAsRead:w.default.func.isRequired,getMyChannelMembers:w.default.func.isRequired}).isRequired,theme:w.default.object.isRequired};var tt=function(){var e=this;this.toLastChannel=function(){var t=z.default.DEFAULT_CHANNEL,a=R.default.getByName(e.props.match.params.team),n=F.default.getGlobalItem(a.id),r=O.default.getChannelById(n);return r&&(t=r.name),e.props.match.url+"/channels/"+t}};t.default=et},function(e,t){!function(t){var a=0,n=!1,r=function(e){for(var t=e.target;t!==document.body&&t!==document;){var n=window.getComputedStyle(t);if(!n)break;if("INPUT"===t.nodeName&&"range"===t.getAttribute("type"))return;var r=n.getPropertyValue("-webkit-overflow-scrolling"),i=n.getPropertyValue("overflow-y"),o=parseInt(n.getPropertyValue("height"),10),s="touch"===r&&("auto"===i||"scroll"===i),l=t.scrollHeight>t.offsetHeight;if(s&&l){var u=e.touches?e.touches[0].screenY:e.screenY,d=a<=u&&0===t.scrollTop,c=a>=u&&t.scrollHeight-t.scrollTop===o;return void((d||c)&&e.preventDefault())}t=t.parentNode}e.preventDefault()},i=function(e){a=e.touches?e.touches[0].screenY:e.screenY},o=function(){window.addEventListener("touchstart",i,!1),window.addEventListener("touchmove",r,!1),n=!0},s=function(){window.removeEventListener("touchstart",i,!1),window.removeEventListener("touchmove",r,!1),n=!1},l=function(){return n},u=document.createElement("div");document.documentElement.appendChild(u),u.style.WebkitOverflowScrolling="touch";var d="getComputedStyle"in window&&"touch"===window.getComputedStyle(u)["-webkit-overflow-scrolling"];document.documentElement.removeChild(u),d&&o();var c={enable:o,disable:s,isEnabled:l};void 0!==e&&e.exports&&(e.exports=c),"function"==typeof t.define?function(e){e("iNoBounce",[],function(){return c})}(t.define):t.iNoBounce=c}(this)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(0),g=r(m),v=a(27),b=r(v),_=a(214),y=a(457),E=a(1140),w=n(E),C=a(1219),x=r(C),M=a(308),S=r(M),k=a(42),T=r(k),P=a(12),N=a(1615),O=a(1142),I=n(O),R=a(47),A=n(R),L=function(t){function a(){(0,l.default)(this,a);var e=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this));return e.onErrorChange=e.onErrorChange.bind(e),e.onAnalyticsChange=e.onAnalyticsChange.bind(e),e.handleClose=e.handleClose.bind(e),S.default.clearLastError(!0),e.setInitialError(),e.state=e.getState(),e}return(0,h.default)(a,t),(0,d.default)(a,[{key:"setInitialError",value:function(){var t=!1,a=T.default.getCurrentUser();if(a&&(t=A.isSystemAdmin(a.roles)),!S.default.getIgnoreNotification()){if(t&&""===e.mm_config.SiteURL)return void S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.SITE_URL});if("false"===e.mm_config.SendEmailNotifications)return void S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.PREVIEW_MODE})}(0,N.isLicensePastGracePeriod)()?t?S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.LICENSE_EXPIRED,type:"critical"}):S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.LICENSE_PAST_GRACE,type:"critical"}):(0,N.isLicenseExpired)()&&t?S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.LICENSE_EXPIRED,type:"critical"}):(0,N.isLicenseExpiring)()&&t&&S.default.storeLastError({notification:!0,message:P.ErrorBarTypes.LICENSE_EXPIRING,type:"critical"})}},{key:"getState",value:function(){var t=S.default.getLastError();if(t&&t.message)return{message:t.message,color:null,textColor:null,type:t.type,allowDismissal:!0};var a=e.window.mm_config.BannerText||"",n="true"===e.window.mm_config.AllowBannerDismissal,r=localStorage.getItem(P.StoragePrefixes.ANNOUNCEMENT+e.window.mm_config.BannerText);return!("true"===e.window.mm_config.EnableBanner&&a.length>0)||r&&n?{message:null,color:null,colorText:null,textColor:null,type:null,allowDismissal:!0}:(A.removePrefixFromLocalStorage(P.StoragePrefixes.ANNOUNCEMENT),{message:a,color:e.window.mm_config.BannerColor,textColor:e.window.mm_config.BannerTextColor,type:"announcement",allowDismissal:n})}},{key:"isValidState",value:function(e){return!!e&&(!!e.message&&!(e.message===P.ErrorBarTypes.LICENSE_EXPIRING&&!this.state.totalUsers))}},{key:"componentDidMount",value:function(){this.props.isLoggedIn&&!this.state.allowDismissal&&document.body.classList.add("error-bar--fixed"),S.default.addChangeListener(this.onErrorChange),x.default.addChangeListener(this.onAnalyticsChange)}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("error-bar--fixed"),S.default.removeChangeListener(this.onErrorChange),x.default.removeChangeListener(this.onAnalyticsChange)}},{key:"componentDidUpdate",value:function(e,t){this.props.isLoggedIn&&(!t.allowDismissal&&this.state.allowDismissal?document.body.classList.remove("error-bar--fixed"):t.allowDismissal&&!this.state.allowDismissal&&document.body.classList.add("error-bar--fixed"))}},{key:"onErrorChange",value:function(){var e=this.getState();e.message!==P.ErrorBarTypes.LICENSE_EXPIRING||this.state.totalUsers||w.getStandardAnalytics(),this.setState(e)}},{key:"onAnalyticsChange",value:function(){var e=x.default.getAllSystem();this.setState({totalUsers:e[P.StatTypes.TOTAL_USERS]})}},{key:"handleClose",value:function(e){e&&e.preventDefault(),"announcement"===this.state.type&&localStorage.setItem(P.StoragePrefixes.ANNOUNCEMENT+this.state.message,!0),S.default.getLastError()&&S.default.getLastError().notification?S.default.clearNotificationError():S.default.clearLastError(),this.setState(this.getState())}},{key:"render",value:function(){if(!this.isValidState(this.state))return g.default.createElement("div",null);if(!this.props.isLoggedIn&&"announcement"===this.state.type)return g.default.createElement("div",null);var t="error-bar",a=" error-bar--fixed",n={},r={};this.state.color&&this.state.textColor?(n.backgroundColor=this.state.color,n.color=this.state.textColor,r.color=this.state.textColor):"developer"===this.state.type?t="error-bar error-bar-developer":"critical"===this.state.type&&(t="error-bar error-bar-critical");var i=void 0;this.state.allowDismissal&&(a="",i=g.default.createElement("a",{href:"#",className:"error-bar__close",style:r,onClick:this.handleClose},"×"));var o="https://licensing.mattermost.com/renew?id="+e.window.mm_license.Id+"&user_count="+this.state.totalUsers,s=this.state.message;if("announcement"===this.state.type)s=g.default.createElement("span",{dangerouslySetInnerHTML:{__html:I.formatText(s,{singleline:!0,mentionHighlight:!1})}});else if(s===P.ErrorBarTypes.PREVIEW_MODE)s=g.default.createElement(_.FormattedMessage,{id:P.ErrorBarTypes.PREVIEW_MODE,defaultMessage:"Preview Mode: Email notifications have not been configured"});else if(s===P.ErrorBarTypes.LICENSE_EXPIRING)s=g.default.createElement(_.FormattedHTMLMessage,{id:P.ErrorBarTypes.LICENSE_EXPIRING,defaultMessage:'Enterprise license expires on {date}. <a href="{link}" target="_blank">Please renew</a>.',values:{date:(0,N.displayExpiryDate)(),link:o}});else if(s===P.ErrorBarTypes.LICENSE_EXPIRED)s=g.default.createElement(_.FormattedHTMLMessage,{id:P.ErrorBarTypes.LICENSE_EXPIRED,defaultMessage:'Enterprise license is expired and some features may be disabled. <a href="{link}" target="_blank">Please renew</a>.',values:{link:o}});else if(s===P.ErrorBarTypes.LICENSE_PAST_GRACE)s=g.default.createElement(_.FormattedMessage,{id:P.ErrorBarTypes.LICENSE_PAST_GRACE,defaultMessage:"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details."});else if(s===P.ErrorBarTypes.WEBSOCKET_PORT_ERROR)s=g.default.createElement(_.FormattedHTMLMessage,{id:P.ErrorBarTypes.WEBSOCKET_PORT_ERROR,defaultMessage:'Please check connection, Mattermost unreachable. If issue persists, ask administrator to <a href="https://about.mattermost.com/default-websocket-port-help" target="_blank">check WebSocket port</a>.'});else if(s===P.ErrorBarTypes.SITE_URL){var l=void 0,u=void 0;"true"===e.mm_config.EnableSignUpWithGitLab?(l="error_bar.site_url_gitlab",u="Please configure your {docsLink} in the System Console or in gitlab.rb if you're using GitLab Mattermost."):(l="error_bar.site_url",u="Please configure your {docsLink} in the System Console."),s=g.default.createElement(_.FormattedMessage,{id:l,defaultMessage:u,values:{docsLink:g.default.createElement("a",{href:"https://docs.mattermost.com/administration/config-settings.html#site-url",rel:"noopener noreferrer",target:"_blank"},g.default.createElement(_.FormattedMessage,{id:"error_bar.site_url.docsLink",defaultMessage:"Site URL"})),link:g.default.createElement(y.Link,{to:"/admin_console/general/configuration"},g.default.createElement(_.FormattedMessage,{id:"error_bar.site_url.link",defaultMessage:"the System Console"}))}})}return g.default.createElement("div",{className:t+a,style:n},g.default.createElement("span",null,s),i)}}]),a}(g.default.PureComponent);L.propTypes={isLoggedIn:b.default.bool.isRequired},t.default=L}).call(t,a(22))},function(e,t,a){"use strict";(function(e){function n(){return"true"===window.mm_license.IsLicensed&&parseInt(e.window.mm_license.ExpiresAt,10)-Date.now()<=u}function r(){return"true"===window.mm_license.IsLicensed&&parseInt(e.window.mm_license.ExpiresAt,10)-Date.now()<0}function i(){return"true"===window.mm_license.IsLicensed&&Date.now()-parseInt(e.window.mm_license.ExpiresAt,10)>d}function o(){return new Date(parseInt(e.window.mm_license.ExpiresAt,10)).toLocaleString(l.default.getLocale(),{year:"numeric",month:"long",day:"numeric"})}Object.defineProperty(t,"__esModule",{value:!0}),t.isLicenseExpiring=n,t.isLicenseExpired=r,t.isLicensePastGracePeriod=i,t.displayExpiryDate=o;var s=a(221),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=5184e6,d=1296e6}).call(t,a(22))},function(e,t,a){var n,r,i;!function(a,o){r=[],n=o,void 0!==(i="function"==typeof n?n.apply(t,r):n)&&(e.exports=i)}(0,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var a=this.mention;if(!1!==a&&"twitter"!==a&&"instagram"!==a)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,a){return new e(a).link(t)},e.parse=function(t,a){return new e(a).parse(t)},e.version="1.6.0",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser(),a=t.parse(e),n=0,r=[],i=0,o=a.length;i<o;i++){var s=a[i],l=s.getType();if("element"===l&&"a"===s.getTagName())s.isClosing()?n=Math.max(n-1,0):n++;else if("text"===l&&0===n){var u=this.parseText(s.getText(),s.getOffset());r.push.apply(r,u)}}return r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var a=e[t],n=a.getOffset(),r=a.getMatchedText().length,i=n+r;if(t+1<e.length){if(e[t+1].getOffset()===n){var o=e[t+1].getMatchedText().length>r?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<=i&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(t){var a=e.Util.remove;return this.hashtag||a(t,function(e){return"hashtag"===e.getType()}),this.email||a(t,function(e){return"email"===e.getType()}),this.phone||a(t,function(e){return"phone"===e.getType()}),this.mention||a(t,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||a(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||a(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||a(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var a=this.getMatchers(),n=[],r=0,i=a.length;r<i;r++){for(var o=a[r].parseMatches(e),s=0,l=o.length;s<l;s++)o[s].setOffset(t+o[s].getOffset());n.push.apply(n,o)}return n},link:function(e){if(!e)return"";for(var t=this.parse(e),a=[],n=0,r=0,i=t.length;r<i;r++){var o=t[r];a.push(e.substring(n,o.getOffset())),a.push(this.createMatchReturnVal(o)),n=o.getOffset()+o.getMatchedText().length}return a.push(e.substring(n)),a.join("")},createMatchReturnVal:function(t){var a;return this.replaceFn&&(a=this.replaceFn.call(this.context,t)),"string"==typeof a?a:!1===a?t.getMatchedText():a instanceof e.HtmlTag?a.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,a=this.getTagBuilder(),n=[new t.Hashtag({tagBuilder:a,serviceName:this.hashtag}),new t.Email({tagBuilder:a}),new t.Phone({tagBuilder:a}),new t.Mention({tagBuilder:a,serviceName:this.mention}),new t.Url({tagBuilder:a,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=n},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},defaults:function(e,t){for(var a in t)t.hasOwnProperty(a)&&void 0===e[a]&&(e[a]=t[a]);return e},extend:function(t,a){var n=t.prototype,r=function(){};r.prototype=n;var i;i=a.hasOwnProperty("constructor")?a.constructor:function(){n.constructor.apply(this,arguments)};var o=i.prototype=new r;return o.constructor=i,o.superclass=n,delete a.constructor,e.Util.assign(o,a),i},ellipsis:function(e,t,a){var n;return e.length>t&&(null==a?(a="&hellip;",n=3):n=a.length,e=e.substring(0,t-n)+a),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1},remove:function(e,t){for(var a=e.length-1;a>=0;a--)!0===t(e[a])&&e.splice(a,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var a,n=[],r=0;a=t.exec(e);)n.push(e.substring(r,a.index)),n.push(a[0]),r=a.index+a[0].length;return n.push(e.substring(r)),n},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var a=this.getAttrs();return e.Util.assign(a,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var a,n=this.getClass(),r=this.whitespaceRegex,i=e.Util.indexOf,o=n?n.split(r):[],s=t.split(r);a=s.shift();)-1===i(o,a)&&o.push(a);return this.getAttrs().class=o.join(" "),this},removeClass:function(t){for(var a,n=this.getClass(),r=this.whitespaceRegex,i=e.Util.indexOf,o=n?n.split(r):[],s=t.split(r);o.length&&(a=s.shift());){var l=i(o,a);-1!==l&&o.splice(l,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+'="'+e[a]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",a=e+t,n=new RegExp("(?:["+t+"]{1,3}\\.){3}["+t+"]{1,3}"),r="["+a+"](?:["+a+"\\-]*["+a+"])?";return{alphaNumericCharsStr:a,alphaCharsStr:e,domainNameRegex:new RegExp("(?:(?:(?:"+r+"\\.)*(?:"+r+"))|(?:"+n.source+"))")}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},a=this.createCssClass(e);return a&&(t.class=a),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var a=[t],n=e.getCssClassSuffixes(),r=0,i=n.length;r<i;r++)a.push(t+"-"+n[r]);return a.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var a=this.truncate;if(!a||!a.length)return t;var n=a.length,r=a.location;return"smart"===r?e.truncate.TruncateSmart(t,n):"middle"===r?e.truncate.TruncateMiddle(t,n):e.truncate.TruncateEnd(t,n)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/!--([\s\S]+?)--/,t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,a=/[^\s"'>\/=\x00-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,r=a.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",r,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",e.source,"|","(?:","("+t.source+")","\\s*/?",")","|","(?:","("+t.source+")","\\s+","(?:","(?:\\s+|\\b)",r,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,a,n=this.htmlRegex,r=0,i=[];null!==(t=n.exec(e));){var o=t[0],s=t[3],l=t[1]||t[4]||t[5],u=!!t[2],d=t.index,c=e.substring(r,d);c&&(a=this.parseTextAndEntityNodes(r,c),i.push.apply(i,a)),s?i.push(this.createCommentNode(d,o,s)):i.push(this.createElementNode(d,o,l,u)),r=d+o.length}if(r<e.length){var f=e.substring(r);f&&(a=this.parseTextAndEntityNodes(r,f),a.forEach(function(e){i.push(e)}))}return i},parseTextAndEntityNodes:function(t,a){for(var n=[],r=e.Util.splitAndCapture(a,this.htmlCharacterEntitiesRegex),i=0,o=r.length;i<o;i+=2){var s=r[i],l=r[i+1];s&&(n.push(this.createTextNode(t,s)),t+=s.length),l&&(n.push(this.createEntityNode(t,l)),t+=l.length)}return n},createCommentNode:function(t,a,n){return new e.htmlParser.CommentNode({offset:t,text:a,comment:e.Util.trim(n)})},createElementNode:function(t,a,n,r){return new e.htmlParser.ElementNode({offset:t,text:a,tagName:n.toLowerCase(),closing:r})},createEntityNode:function(t,a){return new e.htmlParser.EntityNode({offset:t,text:a})},createTextNode:function(t,a){return new e.htmlParser.TextNode({offset:t,text:a})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Mention=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=e.match.Match.prototype.getCssClassSuffixes.call(this),a=this.getServiceName();return a&&t.push(a),t}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},removePercentEncoding:function(e){try{return decodeURIComponent(e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(t){return e}}}),e.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr,a=t+"!#$%&'*+\\-\\/=?^_`{|}~",n=a+'\\s"(),:;<>@\\[\\]',r=new RegExp("(?:["+a+"](?:["+a+']|\\.(?!\\.|@))*|\\"['+n+'.]+\\")@'),i=e.RegexLib.domainNameRegex,o=e.tldRegex;return new RegExp([r.source,i.source,"\\.",o.source].join(""),"gi")}(),parseMatches:function(t){for(var a,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(a=n.exec(t));){var o=a[0];i.push(new e.match.Email({tagBuilder:r,matchedText:o,offset:a.index,email:o}))}return i}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var a,n=this.matcherRegex,r=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,s=[];null!==(a=n.exec(t));){var l=a.index,u=t.charAt(l-1);if(0===l||r.test(u)){var d=a[0],c=a[0].slice(1);s.push(new e.match.Hashtag({tagBuilder:o,matchedText:d,offset:l,serviceName:i,hashtag:c}))}}return s}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(t){for(var a,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(a=n.exec(t));){var o=a[0],s=o.replace(/[^0-9,;#]/g,""),l=!!a[1];this.testMatch(a[2])&&this.testMatch(o)&&i.push(new e.match.Phone({tagBuilder:r,matchedText:o,offset:a.index,number:s,plusSign:l}))}return i},testMatch:function(e){return/\D/.test(e)}}),e.matcher.Mention=e.Util.extend(e.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+e.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var a,n=this.matcherRegexes[this.serviceName],r=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,s=[];if(!n)return s;for(;null!==(a=n.exec(t));){var l=a.index,u=t.charAt(l-1);if(0===l||r.test(u)){var d=a[0].replace(/\.+$/g,""),c=d.slice(1);s.push(new e.match.Mention({tagBuilder:o,matchedText:d,offset:l,serviceName:i,mention:c}))}}return s}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,a=/(?:www\.)/,n=e.RegexLib.domainNameRegex,r=e.tldRegex,i=e.RegexLib.alphaNumericCharsStr,o=new RegExp("[/?#](?:["+i+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+i+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",t.source,n.source,")","|","(","(//)?",a.source,n.source,")","|","(","(//)?",n.source+"\\.",r.source,"(?![-"+i+"])",")",")","(?::[0-9]+)?","(?:"+o.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+e.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var a,n=this.matcherRegex,r=this.stripPrefix,i=this.stripTrailingSlash,o=this.decodePercentEncoding,s=this.tagBuilder,l=[];null!==(a=n.exec(t));){var u=a[0],d=a[1],c=a[2],f=a[3],p=a[5],h=a.index,m=f||p,g=t.charAt(h-1);if(e.matcher.UrlMatchValidator.isValid(u,d)&&!(h>0&&"@"===g||h>0&&m&&this.wordCharRegExp.test(g))){if(/\?$/.test(u)&&(u=u.substr(0,u.length-1)),this.matchHasUnbalancedClosingParen(u))u=u.substr(0,u.length-1);else{var v=this.matchHasInvalidCharAfterTld(u,d);v>-1&&(u=u.substr(0,v))}var b=d?"scheme":c?"www":"tld",_=!!d;l.push(new e.match.Url({tagBuilder:s,matchedText:u,offset:h,urlMatchType:b,url:u,protocolUrlMatch:_,protocolRelativeMatch:!!m,stripPrefix:r,stripTrailingSlash:i,decodePercentEncoding:o}))}}return l},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),a=e.match(this.closeParensRe);if((t&&t.length||0)<(a&&a.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,a){if(!t)return-1;var n=0;a&&(n=t.indexOf(":"),t=t.slice(n));var r=e.RegexLib.alphaNumericCharsStr,i=new RegExp("^((.?//)?[-."+r+"]*[-"+r+"]\\.[-"+r+"]+)"),o=i.exec(t);return null===o?-1:(n+=o[1].length,t=t.slice(o[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?n:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+e.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){return e.indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}},e.truncate.TruncateEnd=function(t,a,n){return e.Util.ellipsis(t,a,n)},e.truncate.TruncateMiddle=function(e,t,a){if(e.length<=t)return e;var n,r;null==a?(a="&hellip;",n=8,r=3):(n=a.length,r=a.length);var i=t-r,o="";return i>0&&(o=e.substr(-1*Math.floor(i/2))),(e.substr(0,Math.ceil(i/2))+a+o).substr(0,i+n)},e.truncate.TruncateSmart=function(e,t,a){var n,r;null==a?(a="&hellip;",r=3,n=8):(r=a.length,n=a.length);var i=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var n=t/2,r=Math.ceil(n),i=-1*Math.floor(n),o="";return i<0&&(o=e.substr(i)),e.substr(0,r)+a+o};if(e.length<=t)return e;var s=t-r,l=function(e){var t={},a=e,n=a.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],a=a.substr(n[0].length)),n=a.match(/^(.*?)(?=(\?|#|\/|$))/i),n&&(t.host=n[1],a=a.substr(n[0].length)),n=a.match(/^\/(.*?)(?=(\?|#|$))/i),n&&(t.path=n[1],a=a.substr(n[0].length)),n=a.match(/^\?(.*?)(?=(#|$))/i),n&&(t.query=n[1],a=a.substr(n[0].length)),n=a.match(/^#(.*?)$/i),n&&(t.fragment=n[1]),t}(e);if(l.query){var u=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);u&&(l.query=l.query.substr(0,u[1].length),e=i(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=i(l)),e.length<=t)return e;var d="";if(l.host&&(d+=l.host),d.length>=s)return l.host.length==t?(l.host.substr(0,t-r)+a).substr(0,s+n):o(d,s).substr(0,s+n);var c="";if(l.path&&(c+="/"+l.path),l.query&&(c+="?"+l.query),c){if((d+c).length>=s){if((d+c).length==t)return(d+c).substr(0,t);return(d+o(c,s-d.length)).substr(0,s+n)}d+=c}if(l.fragment){var f="#"+l.fragment;if((d+f).length>=s){if((d+f).length==t)return(d+f).substr(0,t);return(d+o(f,s-d.length)).substr(0,s+n)}d+=f}if(l.scheme&&l.host){var p=l.scheme+"://";if((d+p).length<s)return(p+d).substr(0,t)}if(d.length<=t)return d;var h="";return s>0&&(h=d.substr(-1*Math.floor(s/2))),(d.substr(0,Math.ceil(s/2))+a+h).substr(0,s+n)},e})},function(e,t,a){(function(t){var a=t.location||{},n=function(){"use strict";function e(e,t){return document.createTextNode(t?e.replace(b,""):e)}function t(e){return e.replace(y,s)}function a(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function n(e,t){for(var a,r,i=e.childNodes,o=i.length;o--;)a=i[o],r=a.nodeType,3===r?t.push(a):1!==r||"ownerSVGElement"in a||E.test(a.nodeName.toLowerCase())||n(a,t);return t}function r(e){return h(e.indexOf(_)<0?e.replace(b,""):e)}function i(t,a){for(var i,o,s,l,u,d,c,f,p,h,m,g,b,_=n(t,[]),y=_.length;y--;){for(s=!1,l=document.createDocumentFragment(),u=_[y],d=u.nodeValue,f=0;c=v.exec(d);){if(p=c.index,p!==f&&l.appendChild(e(d.slice(f,p),!0)),m=c[0],g=r(m),f=p+m.length,b=a.callback(g,a)){h=new Image,h.onerror=a.onerror,h.setAttribute("draggable","false"),i=a.attributes(m,g);for(o in i)i.hasOwnProperty(o)&&0!==o.indexOf("on")&&!h.hasAttribute(o)&&h.setAttribute(o,i[o]);h.className=a.className,h.alt=m,h.src=b,s=!0,l.appendChild(h)}h||l.appendChild(e(m,!1)),h=null}s&&(f<d.length&&l.appendChild(e(d.slice(f),!0)),u.parentNode.replaceChild(l,u))}return t}function o(e,a){return f(e,function(e){var n,i,o=e,s=r(e),l=a.callback(s,a);if(l){o="<img ".concat('class="',a.className,'" ','draggable="false" ','alt="',e,'"',' src="',l,'"'),n=a.attributes(e,s);for(i in n)n.hasOwnProperty(i)&&0!==i.indexOf("on")&&-1===o.indexOf(" "+i+"=")&&(o=o.concat(" ",i,'="',t(n[i]),'"'));o=o.concat("/>")}return o})}function s(e){return g[e]}function l(){return null}function u(e){return"number"==typeof e?e+"x"+e:e}function d(e){var t="string"==typeof e?parseInt(e,16):e;return t<65536?w(t):(t-=65536,w(55296+(t>>10),56320+(1023&t)))}function c(e,t){return t&&"function"!=typeof t||(t={callback:t}),("string"==typeof e?o:i)(e,{callback:t.callback||a,attributes:"function"==typeof t.attributes?t.attributes:l,base:"string"==typeof t.base?t.base:m.base,ext:t.ext||m.ext,size:t.folder||u(t.size||m.size),className:t.className||m.className,onerror:t.onerror||m.onerror})}function f(e,t){return String(e).replace(v,t)}function p(e){v.lastIndex=0;var t=v.test(e);return v.lastIndex=0,t}function h(e,t){for(var a=[],n=0,r=0,i=0;i<e.length;)n=e.charCodeAt(i++),r?(a.push((65536+(r-55296<<10)+(n-56320)).toString(16)),r=0):55296<=n&&n<=56319?r=n:a.push(n.toString(16));return a.join(t||"-")}var m={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:d,toCodePoint:h},onerror:function(){this.parentNode&&this.parentNode.replaceChild(e(this.alt,!1),this)},parse:c,replace:f,test:p},g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},v=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d\udd75|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddd1-\udddd]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud800\udc00|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef8]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd4c\udd50-\udd6b\udd80-\udd97\uddc0\uddd0\uddde-\udde6]|[\u23e9-\u23ec\u23f0\u23f3\u2640\u2642\u2695\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,b=/\uFE0F/g,_=String.fromCharCode(8205),y=/[&<>'"]/g,E=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,w=String.fromCharCode;return m}();a.protocol||(n.base=n.base.replace(/^http:/,"")),e.exports=n}).call(t,a(22))},function(e,t,a){"use strict";function n(e){var t=!0;try{new RegExp("",e)}catch(e){t=!1}return t}function r(e,t,a,n,r){var i=void 0;if(e[w]={captureNames:t},r)return e;if(e.__proto__)e.__proto__=E.prototype;else for(i in E.prototype)e[i]=E.prototype[i];return e[w].source=a,e[w].flags=n?n.split("").sort().join(""):n,e}function i(e){return x.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function o(e,t){if(!E.isRegExp(e))throw new TypeError("Type RegExp expected");var a=e[w]||{},n=u(e),o="",s="",l=null,c=null;return t=t||{},t.removeG&&(s+="g"),t.removeY&&(s+="y"),s&&(n=x.replace.call(n,new RegExp("["+s+"]+","g"),"")),t.addG&&(o+="g"),t.addY&&(o+="y"),o&&(n=i(n+o)),t.isInternalOnly||(void 0!==a.source&&(l=a.source),null!=a.flags&&(c=o?i(a.flags+o):a.flags)),e=r(new RegExp(t.source||e.source,n),d(e)?a.captureNames.slice(0):null,l,c,t.isInternalOnly)}function s(e){return parseInt(e,16)}function l(e,t,a){return"("===e.input[e.index-1]||")"===e.input[e.index+e[0].length]||f(e.input,e.index+e[0].length,a)?"":"(?:)"}function u(e){return A?e.flags:x.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function d(e){return!(!e[w]||!e[w].captureNames)}function c(e){return parseInt(e,10).toString(16)}function f(e,t,a){return x.test.call(-1!==a.indexOf("x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function p(e,t){return L.call(e)==="[object "+t+"]"}function h(e){for(;e.length<4;)e="0"+e;return e}function m(e,t){var a=void 0;if(i(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=x.replace.call(e,/^\(\?([\w$]+)\)/,function(e,a){if(x.test.call(/[gy]/,a))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=i(t+a),""}),a=0;a<t.length;++a)if(!U[t[a]])throw new SyntaxError("Unknown regex flag "+t[a]);return{pattern:e,flags:t}}function g(e){var t={};return p(e,"String")?(E.forEach(e,/[^\s,]+/,function(e){t[e]=!0}),t):e}function v(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");U[e]=!0}function b(e,t,a,n,r){for(var i=T.length,o=e[a],s=null,l=void 0,u=void 0;i--;)if(u=T[i],!(u.leadChar&&u.leadChar!==o||u.scope!==n&&"all"!==u.scope||u.flag&&-1===t.indexOf(u.flag))&&(l=E.exec(e,u.regex,a,"sticky"))){s={matchLength:l[0].length,output:u.handler.call(r,l,n,t),reparse:u.reparse};break}return s}function _(e){C.astral=e}function y(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function E(e,t){if(E.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return o(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),E.isInstalled("astral")&&-1===t.indexOf("A")&&(t+="A"),k[e]||(k[e]={}),!k[e][t]){for(var a={hasNamedCapture:!1,captureNames:[]},n=P,i="",s=0,l=void 0,u=m(e,t),d=u.pattern,c=u.flags;s<d.length;){do{(l=b(d,c,s,n,a))&&l.reparse&&(d=d.slice(0,s)+l.output+d.slice(s+l.matchLength))}while(l&&l.reparse);if(l)i+=l.output,s+=l.matchLength||1;else{var f=E.exec(d,O[n],s,"sticky")[0];i+=f,s+=f.length,"["===f&&n===P?n=N:"]"===f&&n===N&&(n=P)}}k[e][t]={pattern:x.replace.call(i,/(?:\(\?:\))+/g,"(?:)"),flags:x.replace.call(c,/[^gimuy]+/g,""),captures:a.hasNamedCapture?a.captureNames:null}}var p=k[e][t];return r(new RegExp(p.pattern,p.flags),p.captures,e,t)}Object.defineProperty(t,"__esModule",{value:!0});var w="xregexp",C={astral:!1},x={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},M={},S={},k={},T=[],P="default",N="class",O={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},I=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,R=void 0===x.exec.call(/()??/,"")[1],A=void 0!==/x/.flags,L={}.toString,D=n("u"),F=n("y"),U={g:!0,i:!0,m:!0,u:D,y:F};E.prototype=/(?:)/,E.version="4.0.0",E._clipDuplicates=i,E._hasNativeFlag=n,E._dec=s,E._hex=c,E._pad4=h,E.addToken=function(e,t,a){a=a||{};var n=a.optionalFlags,r=void 0;if(a.flag&&v(a.flag),n)for(n=x.split.call(n,""),r=0;r<n.length;++r)v(n[r]);T.push({regex:o(e,{addG:!0,addY:F,isInternalOnly:!0}),handler:t,scope:a.scope||P,flag:a.flag,reparse:a.reparse,leadChar:a.leadChar}),E.cache.flush("patterns")},E.cache=function(e,t){return S[e]||(S[e]={}),S[e][t]||(S[e][t]=E(e,t))},E.cache.flush=function(e){"patterns"===e?k={}:S={}},E.escape=function(e){return x.replace.call(y(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},E.exec=function(e,t,a,n){var r="g",i=!1,s=!1,l=void 0;i=F&&!!(n||t.sticky&&!1!==n),i?r+="y":n&&(s=!0,r+="FakeY"),t[w]=t[w]||{};var u=t[w][r]||(t[w][r]=o(t,{addG:!0,addY:i,source:s?t.source+"|()":void 0,removeY:!1===n,isInternalOnly:!0}));return a=a||0,u.lastIndex=a,l=M.exec.call(u,e),s&&l&&""===l.pop()&&(l=null),t.global&&(t.lastIndex=l?u.lastIndex:0),l},E.forEach=function(e,t,a){for(var n=0,r=-1,i=void 0;i=E.exec(e,t,n);)a(i,++r,e,t),n=i.index+(i[0].length||1)},E.globalize=function(e){return o(e,{addG:!0})},E.install=function(e){e=g(e),!C.astral&&e.astral&&_(!0)},E.isInstalled=function(e){return!!C[e]},E.isRegExp=function(e){return"[object RegExp]"===L.call(e)},E.match=function(e,t,a){var n=t.global&&"one"!==a||"all"===a,r=(n?"g":"")+(t.sticky?"y":"")||"noGY";t[w]=t[w]||{};var i=t[w][r]||(t[w][r]=o(t,{addG:!!n,removeG:"one"===a,isInternalOnly:!0})),s=x.match.call(y(e),i);return t.global&&(t.lastIndex="one"===a&&s?s.index+s[0].length:0),n?s||[]:s&&s[0]},E.matchChain=function(e,t){return function e(a,n){function r(e){if(i.backref){if(!(e.hasOwnProperty(i.backref)||+i.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+i.backref);o.push(e[i.backref]||"")}else o.push(e[0])}for(var i=t[n].regex?t[n]:{regex:t[n]},o=[],s=0;s<a.length;++s)E.forEach(a[s],i.regex,r);return n!==t.length-1&&o.length?e(o,n+1):o}([e],0)},E.replace=function(e,t,a,n){var r=E.isRegExp(t),i=t.global&&"one"!==n||"all"===n,s=(i?"g":"")+(t.sticky?"y":"")||"noGY",l=t;r?(t[w]=t[w]||{},l=t[w][s]||(t[w][s]=o(t,{addG:!!i,removeG:"one"===n,isInternalOnly:!0}))):i&&(l=new RegExp(E.escape(String(t)),"g"));var u=M.replace.call(y(e),l,a);return r&&t.global&&(t.lastIndex=0),u},E.replaceEach=function(e,t){var a=void 0,n=void 0;for(a=0;a<t.length;++a)n=t[a],e=E.replace(e,n[0],n[1],n[2]);return e},E.split=function(e,t,a){return M.split.call(y(e),t,a)},E.test=function(e,t,a,n){return!!E.exec(e,t,a,n)},E.uninstall=function(e){e=g(e),C.astral&&e.astral&&_(!1)},E.union=function(e,t,a){function n(e,t,a){var n=s[i-o];if(t){if(++i,n)return"(?<"+n+">"}else if(a)return"\\"+(+a+o);return e}a=a||{};var r=a.conjunction||"or",i=0,o=void 0,s=void 0;if(!p(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var l=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,u=[],d=void 0,c=0;c<e.length;++c)d=e[c],E.isRegExp(d)?(o=i,s=d[w]&&d[w].captureNames||[],u.push(x.replace.call(E(d.source).source,l,n))):u.push(E.escape(d));var f="none"===r?"":"|";return E(u.join(f),t)},M.exec=function(e){var t=this.lastIndex,a=x.exec.apply(this,arguments);if(a){if(!R&&a.length>1&&-1!==a.indexOf("")){var n=o(this,{removeG:!0,isInternalOnly:!0});x.replace.call(String(e).slice(a.index),n,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,i=1;i<r-2;++i)void 0===t[i]&&(a[i]=void 0)})}if(this[w]&&this[w].captureNames)for(var r=1;r<a.length;++r){var i=this[w].captureNames[r-1];i&&(a[i]=a[r])}this.global&&!a[0].length&&this.lastIndex>a.index&&(this.lastIndex=a.index)}return this.global||(this.lastIndex=t),a},M.test=function(e){return!!M.exec.call(this,e)},M.match=function(e){if(E.isRegExp(e)){if(e.global){var t=x.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return M.exec.call(e,y(this))},M.replace=function(e,t){var a=E.isRegExp(e),n=void 0,r=void 0,i=void 0;return a?(e[w]&&(r=e[w].captureNames),n=e.lastIndex):e+="",i=p(t,"Function")?x.replace.call(String(this),e,function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];if(r){i[0]=new String(i[0]);for(var s=0;s<r.length;++s)r[s]&&(i[0][r[s]]=i[s+1])}return a&&e.global&&(e.lastIndex=i[i.length-2]+i[0].length),t.apply(void 0,i)}):x.replace.call(null==this?this:String(this),e,function(){function e(e,t,a,i){if(t=t||a){var o=+t;if(o<=n.length-3)return n[o]||"";if((o=r?r.indexOf(t):-1)<0)throw new SyntaxError("Backreference to undefined group "+e);return n[o+1]||""}if("$"===i)return"$";if("&"===i||0==+i)return n[0];if("`"===i)return n[n.length-1].slice(0,n[n.length-2]);if("'"===i)return n[n.length-1].slice(n[n.length-2]+n[0].length);if(i=+i,!isNaN(i)){if(i>n.length-3)throw new SyntaxError("Backreference to undefined group "+e);return n[i]||""}throw new SyntaxError("Invalid token "+e)}for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];return x.replace.call(String(t),I,e)}),a&&(e.global?e.lastIndex=0:e.lastIndex=n),i},M.split=function(e,t){if(!E.isRegExp(e))return x.split.apply(this,arguments);var a=String(this),n=[],r=e.lastIndex,i=0,o=void 0;return t=(void 0===t?-1:t)>>>0,E.forEach(a,e,function(e){e.index+e[0].length>i&&(n.push(a.slice(i,e.index)),e.length>1&&e.index<a.length&&Array.prototype.push.apply(n,e.slice(1)),o=e[0].length,i=e.index+o)}),i===a.length?x.test.call(e,"")&&!o||n.push(""):n.push(a.slice(i)),e.lastIndex=r,n.length>t?n.slice(0,t):n},E.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===P)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),E.addToken(/\\u{([\dA-Fa-f]+)}/,function(e,t,a){var n=s(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(n<=65535)return"\\u"+h(c(n));if(D&&-1!==a.indexOf("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),E.addToken(/\[(\^?)\]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),E.addToken(/\(\?#[^)]*\)/,l,{leadChar:"("}),E.addToken(/\s+|#[^\n]*\n?/,l,{flag:"x"}),E.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),E.addToken(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],a=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(a===e.input.length||isNaN(e.input[a])?"":"(?:)")},{leadChar:"\\"}),E.addToken(/\\(\d+)/,function(e,t){if(!(t===P&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),E.addToken(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(-1!==this.captureNames.indexOf(e[1]))throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),E.addToken(/\((?!\?)/,function(e,t,a){return-1!==a.indexOf("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),t.default=E,e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e){var t=/^(?:\(\?:\))*\^/,a=/\$(?:\(\?:\))*$/;return t.test(e)&&a.test(e)&&a.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(a,""):e}function a(t,a){var n=a?"x":"";return e.isRegExp(t)?t[o]&&t[o].captureNames?t:e(t.source,n):e(t,n)}function n(t){return t instanceof RegExp?t:e.escape(t)}function r(e,t,a){return e["subpattern"+a]=t,e}function i(e,t,a){return e+(t<a.length-1?"{{subpattern"+t+"}}":"")}var o="xregexp",s=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,l=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,s],"g",{conjunction:"or"});e.tag=function(t){return function(a){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];var u=s.map(n).reduce(r,{}),d=a.raw.map(i).join("");return e.build(d,u,t)}},e.build=function(n,r,i){i=i||"";var u=-1!==i.indexOf("x"),d=/^\(\?([\w$]+)\)/.exec(n);d&&(i=e._clipDuplicates(i+d[1]));var c={};for(var f in r)if(r.hasOwnProperty(f)){var p=a(r[f],u);c[f]={pattern:t(p.source),names:p[o].captureNames||[]}}var h=a(n,u),m=0,g=void 0,v=0,b=[0],_=h[o].captureNames||[],y=h.source.replace(l,function(e,t,a,n,r){var i=t||a,o=void 0,l=void 0,u=void 0;if(i){if(!c.hasOwnProperty(i))throw new ReferenceError("Undefined property "+e);t?(o=_[v],b[++v]=++m,l="(?<"+(o||i)+">"):l="(?:",g=m;return""+l+c[i].pattern.replace(s,function(e,t,a){if(t){if(o=c[i].names[m-g],++m,o)return"(?<"+o+">"}else if(a)return u=+a-1,c[i].names[u]?"\\k<"+c[i].names[u]+">":"\\"+(+a+g);return e})+")"}if(n){if(o=_[v],b[++v]=++m,o)return"(?<"+o+">"}else if(r)return u=+r-1,_[u]?"\\k<"+_[u]+">":"\\"+b[+r];return e});return e(y,i)}},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,a,n){return{name:e,value:t,start:a,end:n}}e.matchRecursive=function(a,n,r,i,o){i=i||"",o=o||{};var s=-1!==i.indexOf("g"),l=-1!==i.indexOf("y"),u=i.replace(/y/g,""),d=o.escapeChar,c=o.valueNames,f=[],p=0,h=0,m=0,g=0,v=void 0,b=void 0,_=void 0,y=void 0,E=void 0;if(n=e(n,u),r=e(r,u),d){if(d.length>1)throw new Error("Cannot use more than one escape character");d=e.escape(d),E=new RegExp("(?:"+d+"[\\S\\s]|(?:(?!"+e.union([n,r],"",{conjunction:"or"}).source+")[^"+d+"])+)+",i.replace(/[^imu]+/g,""))}for(;;){if(d&&(m+=(e.exec(a,E,m,"sticky")||[""])[0].length),_=e.exec(a,n,m),y=e.exec(a,r,m),_&&y&&(_.index<=y.index?y=null:_=null),_||y)h=(_||y).index,m=h+(_||y)[0].length;else if(!p)break;if(l&&!p&&h>g)break;if(_)p||(v=h,b=m),++p;else{if(!y||!p)throw new Error("Unbalanced delimiter found in string");if(!--p&&(c?(c[0]&&v>g&&f.push(t(c[0],a.slice(g,v),g,v)),c[1]&&f.push(t(c[1],a.slice(v,b),v,b)),c[2]&&f.push(t(c[2],a.slice(b,h),b,h)),c[3]&&f.push(t(c[3],a.slice(h,m),h,m))):f.push(a.slice(b,h)),g=m,!s))break}h===m&&++m}return s&&!l&&c&&c[0]&&a.length>g&&f.push(t(c[0],a.slice(g),g,a.length)),f}},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e){return e.replace(/[- _]+/g,"").toLowerCase()}function a(e){var t=/^\\[xu](.+)/.exec(e);return t?l(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function n(t){var n="",r=-1;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(e){var t=a(e[1]);t>r+1&&(n+="\\u"+d(u(r+1)),t>r+2&&(n+="-\\u"+d(u(t-1)))),r=a(e[2]||e[1])}),r<65535&&(n+="\\u"+d(u(r+1)),r<65534&&(n+="-\\uFFFF")),n}function r(e){return s[e]["b!"]||(s[e]["b!"]=n(s[e].bmp))}function i(e,t){var a=s[e],n="";return a.bmp&&!a.isBmpLast&&(n="["+a.bmp+"]"+(a.astral?"|":"")),a.astral&&(n+=a.astral),a.isBmpLast&&a.bmp&&(n+=(a.astral?"|":"")+"["+a.bmp+"]"),t?"(?:(?!"+n+")(?:[�-�][�-�]|[\0-￿]))":"(?:"+n+")"}function o(e,t){var a=t?"a!":"a=";return s[e][a]||(s[e][a]=i(e,t))}var s={},l=e._dec,u=e._hex,d=e._pad4;e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(e,a,n){var i="P"===e[1]||!!e[2],l=-1!==n.indexOf("A"),u=t(e[4]||e[3]),d=s[u];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!s.hasOwnProperty(u))throw new SyntaxError("Unknown Unicode token "+e[0]);if(d.inverseOf){if(u=t(d.inverseOf),!s.hasOwnProperty(u))throw new ReferenceError("Unicode token missing data "+e[0]+" -> "+d.inverseOf);d=s[u],i=!i}if(!d.bmp&&!l)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(l){if("class"===a)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return o(u,i)}return"class"===a?i?r(u):d.bmp:(i?"[^":"[")+d.bmp+"]"},{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(a){for(var n=void 0,r=0;r<a.length;++r){if(n=a[r],!n.name)throw new Error("Unicode token requires name");if(!(n.inverseOf||n.bmp||n.astral))throw new Error("Unicode token has no character data "+n.name);s[t(n.name)]=n,n.alias&&(s[t(n.alias)]=n)}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var a=t(e);return s[a]}},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData([{name:"InAdlam",astral:"�[�-�]"},{name:"InAegean_Numbers",astral:"�[�-�]"},{name:"InAhom",astral:"�[�-�]"},{name:"InAlchemical_Symbols",astral:"�[�-�]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"�[�-�]"},{name:"InAncient_Greek_Musical_Notation",astral:"�[�-�]"},{name:"InAncient_Greek_Numbers",astral:"�[�-�]"},{name:"InAncient_Symbols",astral:"�[�-�]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"�[�-�]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"�[�-�]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"�[�-�]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"�[�-�]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBhaiksuki",astral:"�[�-�]"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"�[�-�]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"�[�-�]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"�[�-�]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_and_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"�[�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCarian",astral:"�[�-�]"},{name:"InCaucasian_Albanian",astral:"�[�-�]"},{name:"InChakma",astral:"�[�-�]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Diacritical_Marks_for_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"�[�-�]"},{name:"InCounting_Rod_Numerals",astral:"�[�-�]"},{name:"InCuneiform",astral:"�[�-�]"},{name:"InCuneiform_Numbers_and_Punctuation",astral:"�[�-�]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"�[�-�]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Extended_C",bmp:"ᲀ-᲏"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"�[�-�]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDomino_Tiles",astral:"�[�-�]"},{name:"InDuployan",astral:"�[�-�]"},{name:"InEarly_Dynastic_Cuneiform",astral:"�[�-�]"},{name:"InEgyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"InElbasan",astral:"�[�-�]"},{name:"InEmoticons",astral:"�[�-�]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"�[�-�]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_and_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"�[�-�]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"�[�-�]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGlagolitic_Supplement",astral:"�[�-�]"},{name:"InGothic",astral:"�[�-�]"},{name:"InGrantha",astral:"�[�-�]"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGreek_and_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_and_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"�[�-�]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"�-�"},{name:"InHigh_Surrogates",bmp:"�-�"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InIdeographic_Symbols_and_Punctuation",astral:"�[�-�]"},{name:"InImperial_Aramaic",astral:"�[�-�]"},{name:"InInscriptional_Pahlavi",astral:"�[�-�]"},{name:"InInscriptional_Parthian",astral:"�[�-�]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"�[�-�]"},{name:"InKana_Supplement",astral:"�[�-�]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"�[�-�]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"�[�-�]"},{name:"InKhudawadi",astral:"�[�-�]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"�[�-�]"},{name:"InLinear_B_Ideograms",astral:"�[�-�]"},{name:"InLinear_B_Syllabary",astral:"�[�-�]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"�-�"},{name:"InLycian",astral:"�[�-�]"},{name:"InLydian",astral:"�[�-�]"},{name:"InMahajani",astral:"�[�-�]"},{name:"InMahjong_Tiles",astral:"�[�-�]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"�[�-�]"},{name:"InMarchen",astral:"�[�-�]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"�[�-�]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"�[�-�]"},{name:"InMeroitic_Cursive",astral:"�[�-�]"},{name:"InMeroitic_Hieroglyphs",astral:"�[�-�]"},{name:"InMiao",astral:"�[�-�]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_and_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_and_Pictographs",astral:"�[�-�]|�[�-�]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"�[�-�]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMongolian_Supplement",astral:"�[�-�]"},{name:"InMro",astral:"�[�-�]"},{name:"InMultani",astral:"�[�-�]"},{name:"InMusical_Symbols",astral:"�[�-�]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"�[�-�]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNewa",astral:"�[�-�]"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"�[�-�]"},{name:"InOld_Italic",astral:"�[�-�]"},{name:"InOld_North_Arabian",astral:"�[�-�]"},{name:"InOld_Permic",astral:"�[�-�]"},{name:"InOld_Persian",astral:"�[�-�]"},{name:"InOld_South_Arabian",astral:"�[�-�]"},{name:"InOld_Turkic",astral:"�[�-�]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"�[�-�]"},{name:"InOsage",astral:"�[�-�]"},{name:"InOsmanya",astral:"�[�-�]"},{name:"InPahawh_Hmong",astral:"�[�-�]"},{name:"InPalmyrene",astral:"�[�-�]"},{name:"InPau_Cin_Hau",astral:"�[�-�]"},{name:"InPhags_pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"�[�-�]"},{name:"InPhoenician",astral:"�[�-�]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"�[�-�]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"�[�-�]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"�[�-�]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"�[�-�]"},{name:"InShavian",astral:"�[�-�]"},{name:"InShorthand_Format_Controls",astral:"�[�-�]"},{name:"InSiddham",astral:"�[�-�]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"�[�-�]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSora_Sompeng",astral:"�[�-�]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_and_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"�[�-�]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_and_Pictographs",astral:"�[�-�]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[�-�][�-�]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[�-�][�-�]"},{name:"InSutton_SignWriting",astral:"�[�-�]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"�[�-�]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"�[�-�]"},{name:"InTakri",astral:"�[�-�]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTangut",astral:"[�-�][�-�]"},{name:"InTangut_Components",astral:"�[�-�]"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"�[�-�]"},{name:"InTransport_and_Map_Symbols",astral:"�[�-�]"},{name:"InUgaritic",astral:"�[�-�]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"�[�-�]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"�[�-�]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"}])},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData([{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-؅؜؝۝܎܏݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵࢾ-࣓࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹅-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-����-��-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-���-��-��-���-��-�����-���-������-��-��-������������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-�]|�[���-��-�����-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-����-�]|�[�-����-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-���-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-���-�����-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[�-��-�]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"𑂽|�[�-�]|�[�-�]|�[��-�]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-׿؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵࢾ-࣓঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹅-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-����-��-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-���-��-�����-���-������-��-��-������������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-�]|�[���-��-�����-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-����-�]|�[�-����-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-���-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-���-�����-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[��-��-��-�]|[��][��]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[�-��-�][�-�]|[��][�-�]"},{name:"Cs",alias:"Surrogate",bmp:"�-�"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-�]|�[�-��-��-��-��-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[�-���-�]|�[�-��-���-�]|�[�-�]|�[�-�]|[��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-���-��]|�[�-�]|�[�-�]|�[��]|�[�-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"�[�-�]|�[�-��]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-��-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[��-�]|�[�-��-���-�]|�[�-�]|�[�-�]|[��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-��]|�[�-�]|�[�-�]|�[��]|�[�-��-��-��-�]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[�-��-��-��-��-��-���-��-��-��-���-��-���-����-�����-��-�]|�[�-��-��-��-����-��-��-�]|�[�-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[��]|�[�-��-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"�[����-������-����-�����-������-����-����]|�[�-�����-���-���-��-���-�����������]|�[�����]|�[�-�]|�[���-�]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[��-��-��-����-��-��-�����-��-��-�������-������-��-�]|�[�-��-���-�������-��������-�������-���-��-��-�]|�[�-��-���-��-�����]|�[�-��-�]|�[�-�]|�[��]|�[�-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-��-����-��-����-�]|�[�-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-�]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"�[�-����-�]|�[�-�]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"�[�-��-����-��-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[�-�]|�[�-�]|�[�-�]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D_\\x7B}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹄、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[�-���]|�[�-�]|�[����-��]|𛲟|�[�-�]|�[��]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\x2D֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\x29\\x5D}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃⹄、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[�-���]|�[�-�]|�[����-��]|𛲟|�[�-�]|�[��]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\x28\\x5B\\x7B༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\x24\\x2B<->\\x5E`\\x7C~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₾℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-⏾␀-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[����������]|�[�-��-��-��-���]|�[��]|�[�-��-��-��-��-��-��-��-��-��-��-��-����-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-���-��-��-��-��]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\x24¢-¥֏؋৲৳৻૱௹฿៛₠-₾꠸﷼﹩＄￠￡￥￦"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\x5E`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"�[�-�]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\x2B<->\\x7C~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"�[����������]|�[��]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏾␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[�-��-��-��-���]|�[�-��-��-��-��-��-��-��-��-��-��-��-����-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-���-��-��-��-��]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}])},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևְ-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࢠ-ࢴࢶ-ࢽࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-����-����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-�]|�[�-��-��-��-��-���-��-����-��-����-���-��-��-��-��-��-����-��-����-��-��������-�]|�[�-��-��-��-�����-��-��-��-����-��-��-�]|�[�-���-�]|�[�-��-��-���-��-��-�]|�[�-�]|�[�-��-�]|[��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��]|�[�-�]|�[�-�]|�[��]|�[�-��-��-��-��]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-����-�]|�[�-��-��]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[�-�][�-�]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"�[�-�]|�[�-�]|[�-�][�-�]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[����������������][��]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-��-��-�]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}];t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData([{name:"Adlam",astral:"�[�-��-���]"},{name:"Ahom",astral:"�[�-��-��-�]"},{name:"Anatolian_Hieroglyphs",astral:"�[�-�]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࢶ-ࢽࣔ-ࣣ࣡-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-���]"},{name:"Armenian",bmp:"Ա-Ֆՙ-՟ա-և֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"�[�-��-�]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"�[�-�]"},{name:"Bassa_Vah",astral:"�[�-��-�]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৻"},{name:"Bhaiksuki",astral:"�[�-��-��-��-�]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄭㆠ-ㆺ"},{name:"Brahmi",astral:"�[�-��-��]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"�[�-�]"},{name:"Caucasian_Albanian",astral:"�[�-��]"},{name:"Chakma",astral:"�[�-��-�]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\x5B-`\\x7B-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؜؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₾℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-⏾␀-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⸀-⹄⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"�[�-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-����-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-��-����-��-����-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-���-��-��-��-��]|�[��-�]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"�[�-�]|�[�-��-��-�]"},{name:"Cypriot",astral:"�[�-���-�����]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"�[�-�]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣽ"},{name:"Duployan",astral:"�[�-��-��-��-��-�]"},{name:"Egyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"Elbasan",astral:"�[�-�]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ",astral:"�[�-��-��-����-�]"},{name:"Gothic",astral:"�[�-�]"},{name:"Grantha",astral:"�[�-��-����-��-����-��-����-����-��-��-�]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"�[�-��]|�[�-�]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵ"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿕豈-舘並-龎",astral:"[�-��-��-�][�-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"�[�-����-�]"},{name:"Hebrew",bmp:"֑-ׇא-תװ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"𛀁|🈀"},{name:"Imperial_Aramaic",astral:"�[�-��-�]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷻-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"�[��]|�[�-��-��-��-�]|�[�-�]"},{name:"Inscriptional_Pahlavi",astral:"�[�-��-�]"},{name:"Inscriptional_Parthian",astral:"�[�-��-�]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"�[�-�]"},{name:"Kannada",bmp:"ಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"�[�-����-��-��-��-��-��-�]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"�[�-��-�]"},{name:"Khudawadi",astral:"�[�-��-�]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞮꞰ-ꞷꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"�[�-��-��-�]"},{name:"Linear_B",astral:"�[�-��-��-����-��-��-�]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"�[�-�]"},{name:"Lydian",astral:"�[�-��]"},{name:"Mahajani",astral:"�[�-�]"},{name:"Malayalam",bmp:"ഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"�[�-��-�]"},{name:"Marchen",astral:"�[�-��-��-�]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"�[�-��-�]"},{name:"Meroitic_Cursive",astral:"�[�-��-��-�]"},{name:"Meroitic_Hieroglyphs",astral:"�[�-�]"},{name:"Miao",astral:"�[�-��-��-�]"},{name:"Modi",astral:"�[�-��-�]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡷᢀ-ᢪ",astral:"�[�-�]"},{name:"Mro",astral:"�[�-��-���]"},{name:"Multani",astral:"�[�-���-��-��-�]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"�[�-��-�]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"�[�-���]"},{name:"Nko",bmp:"߀-ߺ"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"�[�-��-��-�]"},{name:"Old_Italic",astral:"�[�-�]"},{name:"Old_North_Arabian",astral:"�[�-�]"},{name:"Old_Permic",astral:"�[�-�]"},{name:"Old_Persian",astral:"�[�-��-�]"},{name:"Old_South_Arabian",astral:"�[�-�]"},{name:"Old_Turkic",astral:"�[�-�]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"�[�-��-�]"},{name:"Osmanya",astral:"�[�-��-�]"},{name:"Pahawh_Hmong",astral:"�[�-��-��-��-��-�]"},{name:"Palmyrene",astral:"�[�-�]"},{name:"Pau_Cin_Hau",astral:"�[�-�]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"�[�-��]"},{name:"Psalter_Pahlavi",astral:"�[�-��-��-�]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"�[�-��-�]"},{name:"Shavian",astral:"�[�-�]"},{name:"Siddham",astral:"�[�-��-�]"},{name:"SignWriting",astral:"�[�-��-��-�]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"�[�-�]"},{name:"Sora_Sompeng",astral:"�[�-��-�]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"�[�-��-�]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Tangut",astral:"𖿠|[�-�][�-�]|�[�-�]|�[�-�]"},{name:"Telugu",bmp:"ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"�[�-��-�]"},{name:"Ugaritic",astral:"�[�-��]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"�[�-��]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"}])},e.exports=t.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={renderer:new N(null,t),sanitize:!0,gfm:!0,tables:!0,mangle:!1};return(0,x.default)(e,a)}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){var a=t.toLowerCase();return"colon"===a?":":"#"===a.charAt(0)?"x"===a.charAt(1)?String.fromCharCode(parseInt(a.substring(2),16)):String.fromCharCode(Number(a.substring(1))):""})}Object.defineProperty(t,"__esModule",{value:!0});var s=a(70),l=r(s),u=a(218),d=r(u),c=a(34),f=r(c),p=a(30),h=r(p),m=a(31),g=r(m),v=a(35),b=r(v),_=a(1323),y=r(_),E=a(36),w=r(E);t.format=i;var C=a(1630),x=r(C),M=a(1324),S=n(M),k=a(1142),T=n(k),P=a(143),N=function(e){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.heading=n.heading.bind(n),n.paragraph=n.paragraph.bind(n),n.text=n.text.bind(n),n.formattingOptions=a,n}return(0,w.default)(t,e),(0,g.default)(t,[{key:"code",value:function(e,t){var a=t||"";if("tex"===(a=a.toLowerCase())||"latex"===a)return'<div data-latex="'+T.escapeHtml(e)+'" />';"html"===a&&(a="xml");var n="post-code";a||(n+=" post-code--wrap");var r="";S.canHighlight(a)&&(r='<span class="post-code__language">'+S.getLanguageName(a)+"</span>");var i=S.highlight(a,e),o="";if(this.formattingOptions.searchPatterns){var s=new d.default,l=T.sanitizeHtml(e);l=T.highlightSearchTerms(l,s,this.formattingOptions.searchPatterns),s.size>0&&(l=T.replaceTokens(l,s),o='<div class="post-code__search-highlighting">'+l+"</div>")}return'<div class="'+n+'">'+r+'<code class="hljs">'+o+i+"</code></div>"}},{key:"codespan",value:function(e){var t=e;if(this.formattingOptions.searchPatterns){var a=new d.default;t=T.highlightSearchTerms(t,a,this.formattingOptions.searchPatterns),t=T.replaceTokens(t,a)}return'<span class="codespan__pre-wrap"><code>'+t+"</code></span>"}},{key:"br",value:function(){return this.formattingOptions.singleline?" ":(0,y.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"br",this).call(this)}},{key:"image",value:function(e,t,a){var n=e,r=[],i=e.split(" ");if(i.length>1){var o=i.pop();n=i.join(" "),"="===o[0]&&(r=o.substr(1).split("x"),2===r.length&&""===r[1]&&(r[1]="auto"))}var s='<img src="'+n+'" alt="'+a+'"';return t&&(s+=' title="'+t+'"'),r.length>0&&(s+=' width="'+r[0]+'"'),r.length>1&&(s+=' height="'+r[1]+'"'),s+=' class="markdown-inline-img"',s+=this.options.xhtml?"/>":">"}},{key:"heading",value:function(e,t){return"<h"+t+' class="markdown__heading">'+e+"</h"+t+">"}},{key:"link",value:function(e,t,a){var n=e;if(this.formattingOptions.linkFilter&&!this.formattingOptions.linkFilter(n))return a;if(!(0,P.isUrlSafe)(o(e)))return a;/[a-z0-9+.-]+:/i.test(n)||(n="http://"+n);var r='<a class="theme markdown__link';if(this.formattingOptions.searchPatterns){var i=!0,s=!1,u=void 0;try{for(var d,c=(0,l.default)(this.formattingOptions.searchPatterns);!(i=(d=c.next()).done);i=!0){if(d.value.pattern.test(e)){r+=" search-highlight";break}}}catch(e){s=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}}r+='" href="'+n+'" rel="noreferrer"';var f=!1;if(this.formattingOptions.siteURL){f=new RegExp("^"+T.escapeRegex(this.formattingOptions.siteURL)+"\\/(?:signup_user_complete|[^\\/]+\\/(?:pl|channels))\\/").test(n)}return r+=f?' data-link="'+n.substring(this.formattingOptions.siteURL)+'"':' target="_blank"',t&&(r+=' title="'+t+'"'),r+=">"+a.replace(/<\/?a[^>]*>/g,"")+"</a>"}},{key:"paragraph",value:function(e){return this.formattingOptions.singleline?'<p class="markdown__paragraph-inline">'+e+"</p>":(0,y.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"paragraph",this).call(this,e)}},{key:"table",value:function(e,t){return'<div class="table-responsive"><table class="markdown__table"><thead>'+e+"</thead><tbody>"+t+"</tbody></table></div>"}},{key:"listitem",value:function(e,t){var a=/^\[([ |xX])] /,n=a.exec(e);return n?'<li class="list-item--task-list"><input type="checkbox" disabled="disabled" '+(" "===n[1]?"":'checked="checked" ')+"/> "+e.replace(a,"")+"</li>":/^\d+.$/.test(t)?'<li value="'+parseInt(t,10)+'">'+e+"</li>":"<li>"+e+"</li>"}},{key:"text",value:function(e){return T.doFormatText(e,this.formattingOptions)}}]),t}(x.default.Renderer)},function(e,t,a){e.exports={default:a(1628),__esModule:!0}},function(e,t,a){a(1629);var n=a(20).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,a){var n=a(93),r=a(226).f;a(317)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},function(e,t,a){(function(t){(function(){function t(e){this.options=e||f.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}function n(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=m.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=m.breaks:this.rules=m.gfm:this.options.pedantic&&(this.rules=m.pedantic)}function r(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function a(n,r){return n?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,r),a):new RegExp(e,t)}}function u(){}function d(e){for(var t,a,n=1;n<arguments.length;n++){t=arguments[n];for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}function c(e){for(var t=0,a=[],n=0;n<e.length;n++)"|"!==e[n]||0!==n&&"\\"===e[n-1]||(a.push(e.substring(t,n).trim()),t=n+1),n===e.length-1&&a.push(e.substring(t,e.length).trim());return a}function f(e,a,n){if(n||"function"==typeof a){n||(n=a,a=null),a=d({},f.defaults,a||{});var r,s,l=a.highlight,u=0;try{r=t.lex(e,a)}catch(e){return n(e)}s=tokens.length;var c=function(e){if(e)return a.highlight=l,n(e);var t;try{t=i.parse(r.tokens,r.links,a)}catch(t){e=t}return a.highlight=l,e?n(e):n(null,t)};if(!l||l.length<3)return c();if(delete a.highlight,!s)return c();for(;u<tokens.length;u++)!function(e){"code"!==e.type?--s||c():l(e.text,e.lang,function(t,a){return t?c(t):null==a||a===e.text?--s||c():(e.text=a,e.escaped=!0,void(--s||c()))})}(tokens[u])}else try{a&&(a=d({},f.defaults,a));var r=t.lex(e,a);return i.parse(r.tokens,r.links,a)}catch(e){if((a||f.defaults).silent)return"<p>An error occured:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}var p=a(1261),h={newline:/^\n+/,code:/^( {4}[^\n]*(\s*\n)*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:(?:\n +)*\n|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?((?:\w*?:(?:\/\/)?|\/|#)[^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=l(h.item,"gm")(/bull/g,h.bullet)(),h.list=l(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=l(h.blockquote)("def",h.def)(),h._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",h.html=l(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h._tag)(),h.paragraph=l(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("tag","<"+h._tag)("def",h.def)(),h.normal=d({},h),h.gfm=d({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?\s*)\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=l(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),h.tables=d({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=h,t.lex=function(e,a){return new t(a).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0,!1,[],1)};t.prototype.token=function(e,t,a,n,r){var i,o,s,l,u,d,f,p,m,g,v,b=[];if(r>100)return{tokens:[{type:"text",text:e}],links:n};for(;e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&b.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),b.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),b.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),b.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),d={type:"table",header:c(s[1]),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},p=0;p<d.align.length;p++)/^ *-+: *$/.test(d.align[p])?d.align[p]="right":/^ *:-+: *$/.test(d.align[p])?d.align[p]="center":/^ *:-+ *$/.test(d.align[p])?d.align[p]="left":d.align[p]=null;for(p=0;p<d.cells.length;p++)d.cells[p]=c(d.cells[p]);b.push(d)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),b.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),b.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),b.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),b=b.concat(this.token(s,t,!0,n,r+1).tokens),b.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),l=s[2],v=l.length>1,b.push({type:"list_start",ordered:v}),s=s[0].match(this.rules.item),i=!1,m=s.length,p=0;p<m;p++){d=s[p],f=d.length,l=/^ *([*+-]|\d+\.) +/.exec(d)[1],d=d.replace(/^ *([*+-]|\d+\.) +/,"");var _=/^([^\n]+)\n(\S[\s\S]+)$/.exec(d);_&&_.length>0&&(d=_[1],e=_[2]+"\n"+s.slice(p+1).join("\n")+e,m=p+1),-1!==d.indexOf("\n ")&&(f-=d.length,d=this.options.pedantic?d.replace(/^ {1,4}/gm,""):d.replace(new RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&p!==m-1&&(u=h.bullet.exec(s[p+1])[0],l===u||l.length>1&&u.length>1||(e=s.slice(p+1).join("\n")+e,p=m-1)),o=i||/\n\n(?!\s*$)/.test(d),p!==m-1&&(i="\n"===d.charAt(d.length-1),o||(o=i)),g={type:o?"loose_item_start":"list_item_start"},v&&0===p&&(g.bullet=l),b.push(g),b=b.concat(this.token(d,!1,a,n,r+1).tokens),b.push({type:"list_item_end"})}b.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),b.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!a&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),n[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),d={type:"table",header:c(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},p=0;p<d.align.length;p++)/^ *-+: *$/.test(d.align[p])?d.align[p]="right":/^ *:-+: *$/.test(d.align[p])?d.align[p]="center":/^ *:-+ *$/.test(d.align[p])?d.align[p]="left":d.align[p]=null;for(p=0;p<d.cells.length;p++)d.cells[p]=c(d.cells[p].replace(/^ *\| *| *\| *$/g,""));b.push(d)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),b.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),b.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return{tokens:b,links:n}};var m={escape:/^\\([`*{}\[\]()#+\-.!_>|]|\\(?!\w))/,autolink:/^<((?:[^ >]+(@|:\/)|www\d{0,3}\.)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\((href)\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_((?:\B__|[^_]|_\B)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[*`]| {2,}\n|\b_|$)/};m._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,m._href=/(?:[^()]|\([^()]*\))*/,m.link=l(m.link)("inside",m._inside)("href",m._href)(),m.href=/^\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*$/,m.reflink=l(m.reflink)("inside",m._inside)(),m.normal=d({},m),m.pedantic=d({},m.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),m.gfm=d({},m.normal,{escape:l(m.escape)("])","~|])")(),url:p.cache("^((?:[a-z][\\pL\\d-]+:(?:\\/{1,3}|[\\pL\\d%])|www\\d{0,3}[.]|[\\pL\\d.\\-]+[.]\\pL{2,4}\\/)(?:\\[[\\da-f:]+\\]|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]|[`!\\[\\]{};:'\",<>?«»“”‘’](?=[^\\s()<>])|\\.+(?=[\\pL\\d])|\\((?:[^\\s()<>]|(?:\\([^\\s()<>]+\\)))*\\))+)",""),del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(m.text)("]|","~]|\\b[a-z][a-z0-9.+-]{1,31}:|\\bwwwd{0,3}.|")()}),m.breaks=d({},m.gfm,{br:l(m.br)("{2,}","*")(),text:l(m.gfm.text)("{2,}","*")()}),n.rules=m,n.output=function(e,t,a){return new n(t,a).output(e)},n.prototype.output=function(e){for(var t,a,n,r,i,s=[],l=-1;e;){if(e.length===l)throw new Error("Nothing consumed on last loop at: "+e);if(l=e.length,r=this.rules.escape.exec(e))e=e.substring(r[0].length),s.push({type:"text",text:r[1]});else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(a=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),a=o(a),n=this.mangle("mailto:")+a):(a=o(r[1]),n=a),s.push({type:"link",text:a,title:null,href:n});else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),this.options.sanitize?this.options.sanitizer?s.push({type:"text",text:this.options.sanitizer(r[0])}):s.push({type:"text",text:o(r[0])}):s.push({type:"text",text:r[0]});else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,i=this.rules.href.exec(r[2]),s.push({type:"preformatted",text:this.outputLink(r,{href:i[1],title:i[2]})}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s.push({type:"text",text:r[0].charAt(0)}),e=r[0].substring(1)+e;continue}this.inLink=!0,s.push({type:"preformatted",text:this.outputLink(r,t)}),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),s.push({type:"strong",text:this.output(r[2]||r[1])});else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),s.push({type:"em",text:this.output(r[2]||r[1])});else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),s.push({type:"code",text:o(r[2],!0)});else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),s.push({type:"br"});else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),s.push({type:"del",text:this.output(r[1])});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),s.push({type:"text",text:o(this.smartypants(r[0]))});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),a=o(r[1]),n=a,s.push({type:"link",text:a,title:null,href:n})}return s=s.reduce(function(e,t){if(e.length>0){var a=e[e.length-1];return"text"===a.type&&"text"===t.type?a.text+=t.text:e.push(t),e}return[t]},[]),this.renderTokens(s)},n.prototype.renderTokens=function(e){for(var t="",a=0;a<e.length;a++){var n=e[a];switch(n.type){case"text":t+=this.renderer.text(n.text);break;case"link":t+=this.renderer.link(n.href,n.title,n.text);break;case"preformatted":t+=n.text;break;case"strong":t+=this.renderer.strong(n.text);break;case"em":t+=this.renderer.em(n.text);break;case"code":t+=this.renderer.codespan(n.text);break;case"br":t+=this.renderer.br();break;case"del":t+=this.renderer.del(n.text);break;default:console.log("unrecognized inline token type "+n.type)}}return t},n.prototype.outputLink=function(e,t){var a=o(t.href),n=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(a,n,this.output(e[1])):this.renderer.image(a,n,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,a="",n=e.length,r=0;r<n;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),a+="&#"+t+";";return a},r.prototype.code=function(e,t,a){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(a=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(a?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(a?e:o(e,!0))+"</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,a){return"<h"+t+' id="'+this.options.headerPrefix+a.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var a=t?"ol":"ul";return"<"+a+">\n"+e+"</"+a+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var a=t.header?"th":"td";return(t.align?"<"+a+' style="text-align:'+t.align+'">':"<"+a+">")+e+"</"+a+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,a){if(this.options.sanitize){try{var n=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+a+"</a>"},r.prototype.image=function(e,t,a){var n='<img src="'+e+'" alt="'+a+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},i.parse=function(e,t,a,n){return new i(a,n).parse(e,t)},i.prototype.parse=function(e,t){this.inline=new n(t,this.options,this.renderer),this.tokens=e.reverse();for(var a="";this.next();)a+=this.tok();return a},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,a,n,r="",i="";for(a="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),a+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(a),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],a="",n=0;n<t.length;n++)a+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});i+=this.renderer.tablerow(a)}return this.renderer.table(r,i);case"blockquote_start":for(var i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":for(var i="",o=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,o);case"list_item_start":for(var i="",s=this.token.bullet;"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i,s);case"loose_item_start":for(var i="",s=this.token.bullet;"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i,s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,f.options=f.setOptions=function(e){return d(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},f.Parser=i,f.parser=i.parse,f.Renderer=r,f.Lexer=t,f.lexer=t.lex,f.InlineLexer=n,f.inlineLexer=n.output,f.parse=f,e.exports=f}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,a(22))},function(e,t,a){!function(e){"object"==typeof window&&window||"object"==typeof self&&self;e(t)}(function(e){function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){return e.nodeName.toLowerCase()}function n(e,t){var a=e&&e.exec(t);return a&&0===a.index}function r(e){return S.test(e)}function i(e){var t,a,n,i,o=e.className+" ";if(o+=e.parentNode?e.parentNode.className:"",a=k.exec(o))return E(a[1])?a[1]:"no-highlight";for(o=o.split(/\s+/),t=0,n=o.length;t<n;t++)if(i=o[t],r(i)||E(i))return i}function o(e){var t,a={},n=Array.prototype.slice.call(arguments,1);for(t in e)a[t]=e[t];return n.forEach(function(e){for(t in e)a[t]=e[t]}),a}function s(e){var t=[];return function e(n,r){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:r,node:i}),r=e(i,r),a(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:i}));return r}(e,0),t}function l(e,n,r){function i(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function o(e){function n(e){return" "+e.nodeName+'="'+t(e.value).replace('"',"&quot;")+'"'}d+="<"+a(e)+w.map.call(e.attributes,n).join("")+">"}function s(e){d+="</"+a(e)+">"}function l(e){("start"===e.event?o:s)(e.node)}for(var u=0,d="",c=[];e.length||n.length;){var f=i();if(d+=t(r.substring(u,f[0].offset)),u=f[0].offset,f===e){c.reverse().forEach(s);do{l(f.splice(0,1)[0]),f=i()}while(f===e&&f.length&&f[0].offset===u);c.reverse().forEach(o)}else"start"===f[0].event?c.push(f[0].node):c.pop(),l(f.splice(0,1)[0])}return d+t(r.substr(u))}function u(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return o(e,{variants:null},t)})),e.cached_variants||e.endsWithParent&&[o(e)]||[e]}function d(e){function t(e){return e&&e.source||e}function a(a,n){return new RegExp(t(a),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}function n(r,i){if(!r.compiled){if(r.compiled=!0,r.keywords=r.keywords||r.beginKeywords,r.keywords){var o={},s=function(t,a){e.case_insensitive&&(a=a.toLowerCase()),a.split(" ").forEach(function(e){var a=e.split("|");o[a[0]]=[t,a[1]?Number(a[1]):1]})};"string"==typeof r.keywords?s("keyword",r.keywords):C(r.keywords).forEach(function(e){s(e,r.keywords[e])}),r.keywords=o}r.lexemesRe=a(r.lexemes||/\w+/,!0),i&&(r.beginKeywords&&(r.begin="\\b("+r.beginKeywords.split(" ").join("|")+")\\b"),r.begin||(r.begin=/\B|\b/),r.beginRe=a(r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(r.endRe=a(r.end)),r.terminator_end=t(r.end)||"",r.endsWithParent&&i.terminator_end&&(r.terminator_end+=(r.end?"|":"")+i.terminator_end)),r.illegal&&(r.illegalRe=a(r.illegal)),null==r.relevance&&(r.relevance=1),r.contains||(r.contains=[]),r.contains=Array.prototype.concat.apply([],r.contains.map(function(e){return u("self"===e?r:e)})),r.contains.forEach(function(e){n(e,r)}),r.starts&&n(r.starts,i);var l=r.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([r.terminator_end,r.illegal]).map(t).filter(Boolean);r.terminators=l.length?a(l.join("|"),!0):{exec:function(){return null}}}}n(e)}function c(e,a,r,i){function o(e,t){var a,r;for(a=0,r=t.contains.length;a<r;a++)if(n(t.contains[a].beginRe,e))return t.contains[a]}function s(e,t){if(n(e.endRe,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.endsWithParent)return s(e.parent,t)}function l(e,t){return!r&&n(t.illegalRe,e)}function u(e,t){var a=_.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(a)&&e.keywords[a]}function p(e,t,a,n){var r=n?"":N.classPrefix,i='<span class="'+r,o=a?"":P;return(i+=e+'">')+t+o}function h(){var e,a,n,r;if(!w.keywords)return t(S);for(r="",a=0,w.lexemesRe.lastIndex=0,n=w.lexemesRe.exec(S);n;)r+=t(S.substring(a,n.index)),e=u(w,n),e?(k+=e[1],r+=p(e[0],t(n[0]))):r+=t(n[0]),a=w.lexemesRe.lastIndex,n=w.lexemesRe.exec(S);return r+t(S.substr(a))}function m(){var e="string"==typeof w.subLanguage;if(e&&!x[w.subLanguage])return t(S);var a=e?c(w.subLanguage,S,!0,C[w.subLanguage]):f(S,w.subLanguage.length?w.subLanguage:void 0);return w.relevance>0&&(k+=a.relevance),e&&(C[w.subLanguage]=a.top),p(a.language,a.value,!1,!0)}function g(){M+=null!=w.subLanguage?m():h(),S=""}function v(e){M+=e.className?p(e.className,"",!0):"",w=Object.create(e,{parent:{value:w}})}function b(e,t){if(S+=e,null==t)return g(),0;var a=o(t,w);if(a)return a.skip?S+=t:(a.excludeBegin&&(S+=t),g(),a.returnBegin||a.excludeBegin||(S=t)),v(a,t),a.returnBegin?0:t.length;var n=s(w,t);if(n){var r=w;r.skip?S+=t:(r.returnEnd||r.excludeEnd||(S+=t),g(),r.excludeEnd&&(S=t));do{w.className&&(M+=P),w.skip||(k+=w.relevance),w=w.parent}while(w!==n.parent);return n.starts&&v(n.starts,""),r.returnEnd?0:t.length}if(l(t,w))throw new Error('Illegal lexeme "'+t+'" for mode "'+(w.className||"<unnamed>")+'"');return S+=t,t.length||1}var _=E(e);if(!_)throw new Error('Unknown language: "'+e+'"');d(_);var y,w=i||_,C={},M="";for(y=w;y!==_;y=y.parent)y.className&&(M=p(y.className,"",!0)+M);var S="",k=0;try{for(var T,O,I=0;;){if(w.terminators.lastIndex=I,!(T=w.terminators.exec(a)))break;O=b(a.substring(I,T.index),T[0]),I=T.index+O}for(b(a.substr(I)),y=w;y.parent;y=y.parent)y.className&&(M+=P);return{relevance:k,value:M,language:e,top:w}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{relevance:0,value:t(a)};throw e}}function f(e,a){a=a||N.languages||C(x);var n={relevance:0,value:t(e)},r=n;return a.filter(E).forEach(function(t){var a=c(t,e,!1);a.language=t,a.relevance>r.relevance&&(r=a),a.relevance>n.relevance&&(r=n,n=a)}),r.language&&(n.second_best=r),n}function p(e){return N.tabReplace||N.useBR?e.replace(T,function(e,t){return N.useBR&&"\n"===e?"<br>":N.tabReplace?t.replace(/\t/g,N.tabReplace):""}):e}function h(e,t,a){var n=t?M[t]:a,r=[e.trim()];return e.match(/\bhljs\b/)||r.push("hljs"),-1===e.indexOf(n)&&r.push(n),r.join(" ").trim()}function m(e){var t,a,n,o,u,d=i(e);r(d)||(N.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):t=e,u=t.textContent,n=d?c(d,u,!0):f(u),a=s(t),a.length&&(o=document.createElementNS("http://www.w3.org/1999/xhtml","div"),o.innerHTML=n.value,n.value=l(a,s(o),u)),n.value=p(n.value),e.innerHTML=n.value,e.className=h(e.className,d,n.language),e.result={language:n.language,re:n.relevance},n.second_best&&(e.second_best={language:n.second_best.language,re:n.second_best.relevance}))}function g(e){N=o(N,e)}function v(){if(!v.called){v.called=!0;var e=document.querySelectorAll("pre code");w.forEach.call(e,m)}}function b(){addEventListener("DOMContentLoaded",v,!1),addEventListener("load",v,!1)}function _(t,a){var n=x[t]=a(e);n.aliases&&n.aliases.forEach(function(e){M[e]=t})}function y(){return C(x)}function E(e){return e=(e||"").toLowerCase(),x[e]||x[M[e]]}var w=[],C=Object.keys,x={},M={},S=/^(no-?highlight|plain|text)$/i,k=/\blang(?:uage)?-([\w-]+)\b/i,T=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,P="</span>",N={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return e.highlight=c,e.highlightAuto=f,e.fixMarkup=p,e.highlightBlock=m,e.configure=g,e.initHighlighting=v,e.initHighlightingOnLoad=b,e.registerLanguage=_,e.listLanguages=y,e.getLanguage=E,e.inherit=o,e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.COMMENT=function(t,a,n){var r=e.inherit({className:"comment",begin:t,end:a,contains:[]},n||{});return r.contains.push(e.PHRASAL_WORDS_MODE),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),r},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e.METHOD_GUARD={begin:"\\.\\s*"+e.UNDERSCORE_IDENT_RE,relevance:0},e})},function(e,t){e.exports=function(e){var t={className:"rest_arg",begin:"[.]{3}",end:"[a-zA-Z_$][a-zA-Z0-9_$]*",relevance:10};return{aliases:["as"],keywords:{keyword:"as break case catch class const continue default delete do dynamic each else extends final finally for function get if implements import in include instanceof interface internal is namespace native new override package private protected public return set static super switch this throw try typeof use var void while with",literal:"true false null undefined"},contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,{className:"class",beginKeywords:"package",end:"{",contains:[e.TITLE_MODE]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.TITLE_MODE]},{className:"meta",beginKeywords:"import include",end:";",keywords:{"meta-keyword":"import include"}},{className:"function",beginKeywords:"function",end:"[{;]",excludeEnd:!0,illegal:"\\S",contains:[e.TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t]},{begin:":\\s*([*]|[a-zA-Z_$][a-zA-Z0-9_$]*)"}]},e.METHOD_GUARD],illegal:/#/}}},function(e,t){e.exports=function(e){var t=e.inherit(e.QUOTE_STRING_MODE,{illegal:""}),a={className:"params",begin:"\\(",end:"\\)",contains:["self",e.C_NUMBER_MODE,t]},n=e.COMMENT("--","$"),r=e.COMMENT("\\(\\*","\\*\\)",{contains:["self",n]}),i=[n,r,e.HASH_COMMENT_MODE];return{aliases:["osascript"],keywords:{keyword:"about above after against and around as at back before beginning behind below beneath beside between but by considering contain contains continue copy div does eighth else end equal equals error every exit fifth first for fourth from front get given global if ignoring in into is it its last local me middle mod my ninth not of on onto or over prop property put ref reference repeat returning script second set seventh since sixth some tell tenth that the|0 then third through thru timeout times to transaction try until where while whose with without",literal:"AppleScript false linefeed return pi quote result space tab true",built_in:"alias application boolean class constant date file integer list number real record string text activate beep count delay launch log offset read round run say summarize write character characters contents day frontmost id item length month name paragraph paragraphs rest reverse running time version weekday word words year"},contains:[t,e.C_NUMBER_MODE,{className:"built_in",begin:"\\b(clipboard info|the clipboard|info for|list (disks|folder)|mount volume|path to|(close|open for) access|(get|set) eof|current date|do shell script|get volume settings|random number|set volume|system attribute|system info|time to GMT|(load|run|store) script|scripting components|ASCII (character|number)|localized string|choose (application|color|file|file name|folder|from list|remote application|URL)|display (alert|dialog))\\b|^\\s*return\\b"},{className:"literal",begin:"\\b(text item delimiters|current application|missing value)\\b"},{className:"keyword",begin:"\\b(apart from|aside from|instead of|out of|greater than|isn't|(doesn't|does not) (equal|come before|come after|contain)|(greater|less) than( or equal)?|(starts?|ends|begins?) with|contained by|comes (before|after)|a (ref|reference)|POSIX file|POSIX path|(date|time) string|quoted form)\\b"},{beginKeywords:"on",illegal:"[${=;\\n]",contains:[e.UNDERSCORE_TITLE_MODE,a]}].concat(i),illegal:"//|->|=>|\\[\\["}}},function(e,t){e.exports=function(e){var t={className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{(.*?)}/}]},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,{className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]}]},n={className:"string",begin:/'/,end:/'/};return{aliases:["sh","zsh"],lexemes:/\b-?[a-z\._]+\b/,keywords:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[{className:"meta",begin:/^#![^\n]+sh\s*$/,relevance:10},{className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},e.HASH_COMMENT_MODE,a,n,t]}}},function(e,t){e.exports=function(e){var t={"builtin-name":"def defonce cond apply if-not if-let if not not= = < > <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"},a="[a-zA-Z_\\-!.?+*=<>&#'][a-zA-Z_\\-!.?+*=<>&#'0-9/;:]*",n={begin:a,relevance:0},r={className:"number",begin:"[-+]?\\d+(\\.\\d+)?",relevance:0},i=e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),o=e.COMMENT(";","$",{relevance:0}),s={className:"literal",begin:/\b(true|false|nil)\b/},l={begin:"[\\[\\{]",end:"[\\]\\}]"},u={className:"comment",begin:"\\^"+a},d=e.COMMENT("\\^\\{","\\}"),c={className:"symbol",begin:"[:]{1,2}"+a},f={begin:"\\(",end:"\\)"},p={endsWithParent:!0,relevance:0},h={keywords:t,lexemes:a,className:"name",begin:a,starts:p},m=[f,i,u,d,o,c,l,r,s,n];return f.contains=[e.COMMENT("comment",""),h,p],p.contains=m,l.contains=m,d.contains=[l],{aliases:["clj"],illegal:/\S/,contains:[f,i,u,d,o,c,l,r,s]}}},function(e,t){e.exports=function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},a="[A-Za-z$_][0-9A-Za-z$_]*",n={className:"subst",begin:/#\{/,end:/}/,keywords:t},r=[e.BINARY_NUMBER_MODE,e.inherit(e.C_NUMBER_MODE,{starts:{end:"(\\s*/)?",relevance:0}}),{className:"string",variants:[{begin:/'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE]},{begin:/'/,end:/'/,contains:[e.BACKSLASH_ESCAPE]},{begin:/"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,n]},{begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n]}]},{className:"regexp",variants:[{begin:"///",end:"///",contains:[n,e.HASH_COMMENT_MODE]},{begin:"//[gim]*",relevance:0},{begin:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{begin:"@"+a},{subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0,variants:[{begin:"```",end:"```"},{begin:"`",end:"`"}]}];n.contains=r;var i=e.inherit(e.TITLE_MODE,{begin:a}),o={className:"params",begin:"\\([^\\(]",returnBegin:!0,contains:[{begin:/\(/,end:/\)/,keywords:t,contains:["self"].concat(r)}]};return{aliases:["coffee","cson","iced"],keywords:t,illegal:/\/\*/,contains:r.concat([e.COMMENT("###","###"),e.HASH_COMMENT_MODE,{className:"function",begin:"^\\s*"+a+"\\s*=\\s*(\\(.*\\))?\\s*\\B[-=]>",end:"[-=]>",returnBegin:!0,contains:[i,o]},{begin:/[:\(,=]\s*/,relevance:0,contains:[{className:"function",begin:"(\\(.*\\))?\\s*\\B[-=]>",end:"[-=]>",returnBegin:!0,contains:[o]}]},{className:"class",beginKeywords:"class",end:"$",illegal:/[:="\[\]]/,contains:[{beginKeywords:"extends",endsWithParent:!0,illegal:/[:="\[\]]/,contains:[i]},i]},{begin:a+":",end:":",returnBegin:!0,returnEnd:!0,relevance:0}])}}},function(e,t){e.exports=function(e){var t={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},a={className:"string",variants:[{begin:'(u8?|U)?L?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'(u8?|U)?R"',end:'"',contains:[e.BACKSLASH_ESCAPE]},{begin:"'\\\\?.",end:"'",illegal:"."}]},n={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},r={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"meta-string"}),{className:"meta-string",begin:/<[^\n>]*>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},i=e.IDENT_RE+"\\s*\\(",o={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},s=[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,a];return{aliases:["c","cc","h","c++","h++","hpp"],keywords:o,illegal:"</",contains:s.concat([r,{begin:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:o,contains:["self",t]},{begin:e.IDENT_RE+"::",keywords:o},{variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:o,contains:s.concat([{begin:/\(/,end:/\)/,keywords:o,contains:s.concat(["self"]),relevance:0}]),relevance:0},{className:"function",begin:"("+e.IDENT_RE+"[\\*&\\s]+)+"+i,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:o,illegal:/[^\w\s\*&]/,contains:[{begin:i,returnBegin:!0,contains:[e.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,n,t]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r]},{className:"class",beginKeywords:"class struct",end:/[{;:]/,contains:[{begin:/</,end:/>/,contains:["self"]},e.TITLE_MODE]}]),exports:{preprocessor:r,strings:a,keywords:o}}}},function(e,t){e.exports=function(e){var t={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long nameof object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let on orderby partial remove select set value var where yield",literal:"null false true"},a={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},n=e.inherit(a,{illegal:/\n/}),r={className:"subst",begin:"{",end:"}",keywords:t},i=e.inherit(r,{illegal:/\n/}),o={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},e.BACKSLASH_ESCAPE,i]},s={className:"string",begin:/\$@"/,end:'"',contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},r]},l=e.inherit(s,{illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},i]});r.contains=[s,o,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE],i.contains=[l,o,n,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];var u={variants:[s,o,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?";return{aliases:["csharp"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},u,e.C_NUMBER_MODE,{beginKeywords:"class interface",end:/[{;=]/,illegal:/[^\s:]/,contains:[e.TITLE_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",end:/[{;=]/,illegal:/[^\s:]/,contains:[e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"meta-string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+d+"\\s+)+"+e.IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:t,contains:[{begin:e.IDENT_RE+"\\s*\\(",returnBegin:!0,contains:[e.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[u,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]}]}}},function(e,t){e.exports=function(e){var t={begin:/[A-Z\_\.\-]+\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{begin:"@",end:"[{;]",illegal:/:/,contains:[{className:"keyword",begin:/\w+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,t]}]}}},function(e,t){e.exports=function(e){var t={keyword:"abstract alias align asm assert auto body break byte case cast catch class const continue debug default delete deprecated do else enum export extern final finally for foreach foreach_reverse|10 goto if immutable import in inout int interface invariant is lazy macro mixin module new nothrow out override package pragma private protected public pure ref return scope shared static struct super switch synchronized template this throw try typedef typeid typeof union unittest version void volatile while with __FILE__ __LINE__ __gshared|10 __thread __traits __DATE__ __EOF__ __TIME__ __TIMESTAMP__ __VENDOR__ __VERSION__",built_in:"bool cdouble cent cfloat char creal dchar delegate double dstring float function idouble ifloat ireal long real short string ubyte ucent uint ulong ushort wchar wstring",literal:"false null true"},a="((0|[1-9][\\d_]*)|0[bB][01_]+|0[xX]([\\da-fA-F][\\da-fA-F_]*|_[\\da-fA-F][\\da-fA-F_]*))",n="\\\\(['\"\\?\\\\abfnrtv]|u[\\dA-Fa-f]{4}|[0-7]{1,3}|x[\\dA-Fa-f]{2}|U[\\dA-Fa-f]{8})|&[a-zA-Z\\d]{2,};",r={className:"number",begin:"\\b"+a+"(L|u|U|Lu|LU|uL|UL)?",relevance:0},i={className:"number",begin:"\\b(((0[xX](([\\da-fA-F][\\da-fA-F_]*|_[\\da-fA-F][\\da-fA-F_]*)\\.([\\da-fA-F][\\da-fA-F_]*|_[\\da-fA-F][\\da-fA-F_]*)|\\.?([\\da-fA-F][\\da-fA-F_]*|_[\\da-fA-F][\\da-fA-F_]*))[pP][+-]?(0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d))|((0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d)(\\.\\d*|([eE][+-]?(0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d)))|\\d+\\.(0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d)(0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d)|\\.(0|[1-9][\\d_]*)([eE][+-]?(0|[1-9][\\d_]*|\\d[\\d_]*|[\\d_]+?\\d))?))([fF]|L|i|[fF]i|Li)?|"+a+"(i|[fF]i|Li))",relevance:0},o={className:"string",begin:"'("+n+"|.)",end:"'",illegal:"."},s={begin:n,relevance:0},l={className:"string",begin:'"',contains:[s],end:'"[cwd]?'},u={className:"string",begin:'[rq]"',end:'"[cwd]?',relevance:5},d={className:"string",begin:"`",end:"`[cwd]?"},c={className:"string",begin:'x"[\\da-fA-F\\s\\n\\r]*"[cwd]?',relevance:10},f={className:"string",begin:'q"\\{',end:'\\}"'},p={className:"meta",begin:"^#!",end:"$",relevance:5},h={className:"meta",begin:"#(line)",end:"$",relevance:5},m={className:"keyword",begin:"@[a-zA-Z_][a-zA-Z_\\d]*"},g=e.COMMENT("\\/\\+","\\+\\/",{contains:["self"],relevance:10});return{lexemes:e.UNDERSCORE_IDENT_RE,keywords:t,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,c,l,u,d,f,i,r,o,p,h,m]}}},function(e,t){e.exports=function(e){var t={className:"subst",begin:"\\$\\{",end:"}",keywords:"true false null this is new super"},a={className:"string",variants:[{begin:"r'''",end:"'''"},{begin:'r"""',end:'"""'},{begin:"r'",end:"'",illegal:"\\n"},{begin:'r"',end:'"',illegal:"\\n"},{begin:"'''",end:"'''",contains:[e.BACKSLASH_ESCAPE,t]},{begin:'"""',end:'"""',contains:[e.BACKSLASH_ESCAPE,t]},{begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]}]};return t.contains=[e.C_NUMBER_MODE,a],{keywords:{keyword:"assert async await break case catch class const continue default do else enum extends false final finally for if in is new null rethrow return super switch sync this throw true try var void while with yield abstract as dynamic export external factory get implements import library operator part set static typedef",built_in:"print Comparable DateTime Duration Function Iterable Iterator List Map Match Null Object Pattern RegExp Set Stopwatch String StringBuffer StringSink Symbol Type Uri bool double int num document window querySelector querySelectorAll Element ElementList"},contains:[a,e.COMMENT("/\\*\\*","\\*/",{subLanguage:"markdown"}),e.COMMENT("///","$",{subLanguage:"markdown"}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"},{begin:"=>"}]}}},function(e,t){e.exports=function(e){var t="exports register file shl array record property for mod while set ally label uses raise not stored class safecall var interface or private static exit index inherited to else stdcall override shr asm far resourcestring finalization packed virtual out and protected library do xorwrite goto near function end div overload object unit begin string on inline repeat until destructor write message program with read initialization except default nil if case cdecl in downto threadvar of try pascal const external constructor type public then implementation finally published procedure absolute reintroduce operator as is abstract alias assembler bitpacked break continue cppdecl cvar enumerator experimental platform deprecated unimplemented dynamic export far16 forward generic helper implements interrupt iochecks local name nodefault noreturn nostackframe oldfpccall otherwise saveregisters softfloat specialize strict unaligned varargs ",a=[e.C_LINE_COMMENT_MODE,e.COMMENT(/\{/,/\}/,{relevance:0}),e.COMMENT(/\(\*/,/\*\)/,{relevance:10})],n={className:"meta",variants:[{begin:/\{\$/,end:/\}/},{begin:/\(\*\$/,end:/\*\)/}]},r={className:"string",begin:/'/,end:/'/,contains:[{begin:/''/}]},i={className:"string",begin:/(#\d+)+/},o={begin:e.IDENT_RE+"\\s*=\\s*class\\s*\\(",returnBegin:!0,contains:[e.TITLE_MODE]},s={className:"function",beginKeywords:"function constructor destructor procedure",end:/[:;]/,keywords:"function constructor|10 destructor|10 procedure|10",contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:t,contains:[r,i,n].concat(a)},n].concat(a)};return{aliases:["dpr","dfm","pas","pascal","freepascal","lazarus","lpr","lfm"],case_insensitive:!0,keywords:t,illegal:/"|\$[G-Zg-z]|\/\*|<\/|\|/,contains:[r,i,e.NUMBER_MODE,o,s,n].concat(a)}}},function(e,t){e.exports=function(e){return{aliases:["patch"],contains:[{className:"meta",relevance:10,variants:[{begin:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{begin:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{begin:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{className:"comment",variants:[{begin:/Index: /,end:/$/},{begin:/={3,}/,end:/$/},{begin:/^\-{3}/,end:/$/},{begin:/^\*{3} /,end:/$/},{begin:/^\+{3}/,end:/$/},{begin:/\*{5}/,end:/\*{5}$/}]},{className:"addition",begin:"^\\+",end:"$"},{className:"deletion",begin:"^\\-",end:"$"},{className:"addition",begin:"^\\!",end:"$"}]}}},function(e,t){e.exports=function(e){var t={begin:/\|[A-Za-z]+:?/,keywords:{name:"truncatewords removetags linebreaksbr yesno get_digit timesince random striptags filesizeformat escape linebreaks length_is ljust rjust cut urlize fix_ampersands title floatformat capfirst pprint divisibleby add make_list unordered_list urlencode timeuntil urlizetrunc wordcount stringformat linenumbers slice date dictsort dictsortreversed default_if_none pluralize lower join center default truncatewords_html upper length phone2numeric wordwrap time addslashes slugify first escapejs force_escape iriencode last safe safeseq truncatechars localize unlocalize localtime utc timezone"},contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE]};return{aliases:["jinja"],case_insensitive:!0,subLanguage:"xml",contains:[e.COMMENT(/\{%\s*comment\s*%}/,/\{%\s*endcomment\s*%}/),e.COMMENT(/\{#/,/#}/),{className:"template-tag",begin:/\{%/,end:/%}/,contains:[{className:"name",begin:/\w+/,keywords:{name:"comment endcomment load templatetag ifchanged endifchanged if endif firstof for endfor ifnotequal endifnotequal widthratio extends include spaceless endspaceless regroup ifequal endifequal ssi now with cycle url filter endfilter debug block endblock else autoescape endautoescape csrf_token empty elif endwith static trans blocktrans endblocktrans get_static_prefix get_media_prefix plural get_current_language language get_available_languages get_current_language_bidi get_language_info get_language_info_list localize endlocalize localtime endlocaltime timezone endtimezone get_current_timezone verbatim"},starts:{endsWithParent:!0,keywords:"in by as",contains:[t],relevance:0}}]},{className:"template-variable",begin:/\{\{/,end:/}}/,contains:[t]}]}}},function(e,t){e.exports=function(e){return{aliases:["docker"],case_insensitive:!0,keywords:"from maintainer expose env arg user onbuild stopsignal",contains:[e.HASH_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{beginKeywords:"run cmd entrypoint volume add copy workdir label healthcheck shell",starts:{end:/[^\\]\n/,subLanguage:"bash"}}],illegal:"</"}}},function(e,t){e.exports=function(e){var t="[a-z'][a-zA-Z0-9_']*",a="("+t+":"+t+"|"+t+")",n={keyword:"after and andalso|10 band begin bnot bor bsl bzr bxor case catch cond div end fun if let not of orelse|10 query receive rem try when xor",literal:"false true"},r=e.COMMENT("%","$"),i={className:"number",begin:"\\b(\\d+#[a-fA-F0-9]+|\\d+(\\.\\d+)?([eE][-+]?\\d+)?)",relevance:0},o={begin:"fun\\s+"+t+"/\\d+"},s={begin:a+"\\(",end:"\\)",returnBegin:!0,relevance:0,contains:[{begin:a,relevance:0},{begin:"\\(",end:"\\)",endsWithParent:!0,returnEnd:!0,relevance:0}]},l={begin:"{",end:"}",relevance:0},u={begin:"\\b_([A-Z][A-Za-z0-9_]*)?",relevance:0},d={begin:"[A-Z][a-zA-Z0-9_]*",relevance:0},c={begin:"#"+e.UNDERSCORE_IDENT_RE,relevance:0,returnBegin:!0,contains:[{begin:"#"+e.UNDERSCORE_IDENT_RE,relevance:0},{begin:"{",end:"}",relevance:0}]},f={beginKeywords:"fun receive if try case",end:"end",keywords:n};f.contains=[r,o,e.inherit(e.APOS_STRING_MODE,{className:""}),f,s,e.QUOTE_STRING_MODE,i,l,u,d,c];var p=[r,o,f,s,e.QUOTE_STRING_MODE,i,l,u,d,c];s.contains[1].contains=p,l.contains=p,c.contains[1].contains=p;var h={className:"params",begin:"\\(",end:"\\)",contains:p};return{aliases:["erl"],keywords:n,illegal:"(</|\\*=|\\+=|-=|/\\*|\\*/|\\(\\*|\\*\\))",contains:[{className:"function",begin:"^"+t+"\\s*\\(",end:"->",returnBegin:!0,illegal:"\\(|#|//|/\\*|\\\\|:|;",contains:[h,e.inherit(e.TITLE_MODE,{begin:t})],starts:{end:";|\\.",keywords:n,contains:p}},r,{begin:"^-",end:"\\.",relevance:0,excludeEnd:!0,returnBegin:!0,lexemes:"-"+e.IDENT_RE,keywords:"-module -record -undef -export -ifdef -ifndef -author -copyright -doc -vsn -import -include -include_lib -compile -define -else -endif -file -behaviour -behavior -spec",contains:[h]},i,e.QUOTE_STRING_MODE,c,u,d,l,{begin:/\.$/}]}}},function(e,t){e.exports=function(e){var t={className:"params",begin:"\\(",end:"\\)"};return{case_insensitive:!0,aliases:["f90","f95"],keywords:{literal:".False. .True.",keyword:"kind do while private call intrinsic where elsewhere type endtype endmodule endselect endinterface end enddo endif if forall endforall only contains default return stop then public subroutine|10 function program .and. .or. .not. .le. .eq. .ge. .gt. .lt. goto save else use module select case access blank direct exist file fmt form formatted iostat name named nextrec number opened rec recl sequential status unformatted unit continue format pause cycle exit c_null_char c_alert c_backspace c_form_feed flush wait decimal round iomsg synchronous nopass non_overridable pass protected volatile abstract extends import non_intrinsic value deferred generic final enumerator class associate bind enum c_int c_short c_long c_long_long c_signed_char c_size_t c_int8_t c_int16_t c_int32_t c_int64_t c_int_least8_t c_int_least16_t c_int_least32_t c_int_least64_t c_int_fast8_t c_int_fast16_t c_int_fast32_t c_int_fast64_t c_intmax_t C_intptr_t c_float c_double c_long_double c_float_complex c_double_complex c_long_double_complex c_bool c_char c_null_ptr c_null_funptr c_new_line c_carriage_return c_horizontal_tab c_vertical_tab iso_c_binding c_loc c_funloc c_associated  c_f_pointer c_ptr c_funptr iso_fortran_env character_storage_size error_unit file_storage_size input_unit iostat_end iostat_eor numeric_storage_size output_unit c_f_procpointer ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode newunit contiguous recursive pad position action delim readwrite eor advance nml interface procedure namelist include sequence elemental pure integer real character complex logical dimension allocatable|10 parameter external implicit|10 none double precision assign intent optional pointer target in out common equivalence data",built_in:"alog alog10 amax0 amax1 amin0 amin1 amod cabs ccos cexp clog csin csqrt dabs dacos dasin datan datan2 dcos dcosh ddim dexp dint dlog dlog10 dmax1 dmin1 dmod dnint dsign dsin dsinh dsqrt dtan dtanh float iabs idim idint idnint ifix isign max0 max1 min0 min1 sngl algama cdabs cdcos cdexp cdlog cdsin cdsqrt cqabs cqcos cqexp cqlog cqsin cqsqrt dcmplx dconjg derf derfc dfloat dgamma dimag dlgama iqint qabs qacos qasin qatan qatan2 qcmplx qconjg qcos qcosh qdim qerf qerfc qexp qgamma qimag qlgama qlog qlog10 qmax1 qmin1 qmod qnint qsign qsin qsinh qsqrt qtan qtanh abs acos aimag aint anint asin atan atan2 char cmplx conjg cos cosh exp ichar index int log log10 max min nint sign sin sinh sqrt tan tanh print write dim lge lgt lle llt mod nullify allocate deallocate adjustl adjustr all allocated any associated bit_size btest ceiling count cshift date_and_time digits dot_product eoshift epsilon exponent floor fraction huge iand ibclr ibits ibset ieor ior ishft ishftc lbound len_trim matmul maxexponent maxloc maxval merge minexponent minloc minval modulo mvbits nearest pack present product radix random_number random_seed range repeat reshape rrspacing scale scan selected_int_kind selected_real_kind set_exponent shape size spacing spread sum system_clock tiny transpose trim ubound unpack verify achar iachar transfer dble entry dprod cpu_time command_argument_count get_command get_command_argument get_environment_variable is_iostat_end ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode is_iostat_eor move_alloc new_line selected_char_kind same_type_as extends_type_ofacosh asinh atanh bessel_j0 bessel_j1 bessel_jn bessel_y0 bessel_y1 bessel_yn erf erfc erfc_scaled gamma log_gamma hypot norm2 atomic_define atomic_ref execute_command_line leadz trailz storage_size merge_bits bge bgt ble blt dshiftl dshiftr findloc iall iany iparity image_index lcobound ucobound maskl maskr num_images parity popcnt poppar shifta shiftl shiftr this_image"},illegal:/\/\*/,contains:[e.inherit(e.APOS_STRING_MODE,{className:"string",relevance:0}),e.inherit(e.QUOTE_STRING_MODE,{className:"string",relevance:0}),{className:"function",beginKeywords:"subroutine function program",illegal:"[${=\\n]",contains:[e.UNDERSCORE_TITLE_MODE,t]},e.COMMENT("!","$",{relevance:0}),{className:"number",begin:"(?=\\b|\\+|\\-|\\.)(?=\\.\\d|\\d)(?:\\d+)?(?:\\.?\\d*)(?:[de][+-]?\\d+)?\\b\\.?",relevance:0}]}}},function(e,t){e.exports=function(e){var t={begin:"<",end:">",contains:[e.inherit(e.TITLE_MODE,{begin:/'[a-zA-Z0-9_]+/})]};return{aliases:["fs"],keywords:"abstract and as assert base begin class default delegate do done downcast downto elif else end exception extern false finally for fun function global if in inherit inline interface internal lazy let match member module mutable namespace new null of open or override private public rec return sig static struct then to true try type upcast use val void when while with yield",illegal:/\/\*/,contains:[{className:"keyword",begin:/\b(yield|return|let|do)!/},{className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},{className:"string",begin:'"""',end:'"""'},e.COMMENT("\\(\\*","\\*\\)"),{className:"class",beginKeywords:"type",end:"\\(|=|$",excludeEnd:!0,contains:[e.UNDERSCORE_TITLE_MODE,t]},{className:"meta",begin:"\\[<",end:">\\]",relevance:10},{className:"symbol",begin:"\\B('[A-Za-z])\\b",contains:[e.BACKSLASH_ESCAPE]},e.C_LINE_COMMENT_MODE,e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),e.C_NUMBER_MODE]}}},function(e,t){e.exports=function(e){return{aliases:["nc"],case_insensitive:!0,lexemes:"[A-Z_][A-Z0-9_.]*",keywords:"IF DO WHILE ENDWHILE CALL ENDIF SUB ENDSUB GOTO REPEAT ENDREPEAT EQ LT GT NE GE LE OR XOR",contains:[{className:"meta",begin:"\\%"},{className:"meta",begin:"([O])([0-9]+)"}].concat([e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.COMMENT(/\(/,/\)/),e.inherit(e.C_NUMBER_MODE,{begin:"([-+]?([0-9]*\\.?[0-9]+\\.?))|"+e.C_NUMBER_RE}),e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),{className:"name",begin:"([G])([0-9]+\\.?[0-9]?)"},{className:"name",begin:"([M])([0-9]+\\.?[0-9]?)"},{className:"attr",begin:"(VC|VS|#)",end:"(\\d+)"},{className:"attr",begin:"(VZOFX|VZOFY|VZOFZ)"},{className:"built_in",begin:"(ATAN|ABS|ACOS|ASIN|SIN|COS|EXP|FIX|FUP|ROUND|LN|TAN)(\\[)",end:"([-+]?([0-9]*\\.?[0-9]+\\.?))(\\])"},{className:"symbol",variants:[{begin:"N",end:"\\d+",illegal:"\\W"}]}])}}},function(e,t){e.exports=function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,{begin:"'",end:"[^\\\\]'"},{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[dflsi]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:/\s*\{/,excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:t,illegal:/["']/}]}]}}},function(e,t){e.exports=function(e){return{keywords:{literal:"true false null",keyword:"byte short char int long boolean float double void def as in assert trait super this abstract static volatile transient public private protected synchronized final class interface enum if else for while switch case break default continue throw throws try catch finally implements extends new import package return instanceof"},contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",begin:'"""',end:'"""'},{className:"string",begin:"'''",end:"'''"},{className:"string",begin:"\\$/",end:"/\\$",relevance:10},e.APOS_STRING_MODE,{className:"regexp",begin:/~?\/[^\/\n]+\//,contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},e.BINARY_NUMBER_MODE,{className:"class",beginKeywords:"class interface trait enum",end:"{",illegal:":",contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"},{className:"string",begin:/[^\?]{0}[A-Za-z0-9_$]+ *:/},{begin:/\?/,end:/\:/},{className:"symbol",begin:"^\\s*[A-Za-z0-9_$]+:",relevance:0}],illegal:/#|<\//}}},function(e,t){e.exports=function(e){var t={"builtin-name":"each in with if else unless bindattr action collection debugger log outlet template unbound view yield"};return{aliases:["hbs","html.hbs","html.handlebars"],case_insensitive:!0,subLanguage:"xml",contains:[e.COMMENT("{{!(--)?","(--)?}}"),{className:"template-tag",begin:/\{\{[#\/]/,end:/\}\}/,contains:[{className:"name",begin:/[a-zA-Z\.-]+/,keywords:t,starts:{endsWithParent:!0,relevance:0,contains:[e.QUOTE_STRING_MODE]}}]},{className:"template-variable",begin:/\{\{/,end:/\}\}/,keywords:t}]}}},function(e,t){e.exports=function(e){var t={variants:[e.COMMENT("--","$"),e.COMMENT("{-","-}",{contains:["self"]})]},a={className:"meta",begin:"{-#",end:"#-}"},n={className:"meta",begin:"^#",end:"$"},r={className:"type",begin:"\\b[A-Z][\\w']*",relevance:0},i={begin:"\\(",end:"\\)",illegal:'"',contains:[a,n,{className:"type",begin:"\\b[A-Z][\\w]*(\\((\\.\\.|,|\\w+)\\))?"},e.inherit(e.TITLE_MODE,{begin:"[_a-z][\\w']*"}),t]};return{aliases:["hs"],keywords:"let in if then else case of where do module import hiding qualified type data newtype deriving class instance as default infix infixl infixr foreign export ccall stdcall cplusplus jvm dotnet safe unsafe family forall mdo proc rec",contains:[{beginKeywords:"module",end:"where",keywords:"module where",contains:[i,t],illegal:"\\W\\.|;"},{begin:"\\bimport\\b",end:"$",keywords:"import qualified as hiding",contains:[i,t],illegal:"\\W\\.|;"},{className:"class",begin:"^(\\s*)?(class|instance)\\b",end:"where",keywords:"class family instance where",contains:[r,i,t]},{className:"class",begin:"\\b(data|(new)?type)\\b",end:"$",keywords:"data family type newtype deriving",contains:[a,r,i,{begin:"{",end:"}",contains:i.contains},t]},{beginKeywords:"default",end:"$",contains:[r,i,t]},{beginKeywords:"infix infixl infixr",end:"$",contains:[e.C_NUMBER_MODE,t]},{begin:"\\bforeign\\b",end:"$",keywords:"foreign import export ccall stdcall cplusplus jvm dotnet safe unsafe",contains:[r,e.QUOTE_STRING_MODE,t]},{className:"meta",begin:"#!\\/usr\\/bin\\/env runhaskell",end:"$"},a,n,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,r,e.inherit(e.TITLE_MODE,{begin:"^[_a-z][\\w']*"}),t,{begin:"->|<-"}]}}},function(e,t){e.exports=function(e){return{aliases:["hx"],keywords:{keyword:"break case cast catch continue default do dynamic else enum extern for function here if import in inline never new override package private get set public return static super switch this throw trace try typedef untyped using var while Int Float String Bool Dynamic Void Array ",built_in:"trace this",literal:"true false null _"},contains:[{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{className:"subst",begin:"\\$\\{",end:"\\}"},{className:"subst",begin:"\\$",end:"\\W}"}]},e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,{className:"meta",begin:"@:",end:"$"},{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elseif end error"}},{className:"type",begin:":[ \t]*",end:"[^A-Za-z0-9_ \t\\->]",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:":[ \t]*",end:"\\W",excludeBegin:!0,excludeEnd:!0},{className:"type",begin:"new *",end:"\\W",excludeBegin:!0,excludeEnd:!0},{className:"class",beginKeywords:"enum",end:"\\{",contains:[e.TITLE_MODE]},{className:"class",beginKeywords:"abstract",end:"[\\{$]",contains:[{className:"type",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"type",begin:"from +",end:"\\W",excludeBegin:!0,excludeEnd:!0},{className:"type",begin:"to +",end:"\\W",excludeBegin:!0,excludeEnd:!0},e.TITLE_MODE],keywords:{keyword:"abstract from to"}},{className:"class",begin:"\\b(class|interface) +",end:"[\\{$]",excludeEnd:!0,keywords:"class interface",contains:[{className:"keyword",begin:"\\b(extends|implements) +",keywords:"extends implements",contains:[{className:"type",begin:e.IDENT_RE,relevance:0}]},e.TITLE_MODE]},{className:"function",beginKeywords:"function",end:"\\(",excludeEnd:!0,illegal:"\\S",contains:[e.TITLE_MODE]}],illegal:/<\//}}},function(e,t){e.exports=function(e){var t="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",a={className:"number",begin:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0};return{aliases:["jsp"],keywords:t,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface",end:/[{;=]/,excludeEnd:!0,keywords:"class interface",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:t,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:t,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},a,{className:"meta",begin:"@[A-Za-z]+"}]}}},function(e,t){e.exports=function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",a={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},n={className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:e.C_NUMBER_RE}],relevance:0},r={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},i={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,r]};r.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,n,e.REGEXP_MODE];var o=r.contains.concat([e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx"],keywords:a,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{begin:/[{,]\s*/,relevance:0,contains:[{begin:t+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:t,relevance:0}]}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+t+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:o}]}]},{begin:/</,end:/(\/\w+|\w+\/)>/,subLanguage:"xml",contains:[{begin:/<\w+\s*\/>/,skip:!0},{begin:/<\w+/,end:/(\/\w+|\w+\/)>/,skip:!0,contains:[{begin:/<\w+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:t}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:o}],illegal:/\[|%/},{begin:/\$[(.]/},e.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}}},function(e,t){e.exports=function(e){var t={literal:"true false null"},a=[e.QUOTE_STRING_MODE,e.C_NUMBER_MODE],n={end:",",endsWithParent:!0,excludeEnd:!0,contains:a,keywords:t},r={begin:"{",end:"}",contains:[{className:"attr",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE],illegal:"\\n"},e.inherit(n,{begin:/:/})],illegal:"\\S"},i={begin:"\\[",end:"\\]",contains:[e.inherit(n)],illegal:"\\S"};return a.splice(a.length,0,r,i),{contains:a,keywords:t,illegal:"\\S"}}},function(e,t){e.exports=function(e){var t={keyword:"in isa where baremodule begin break catch ccall const continue do else elseif end export false finally for function global if import importall let local macro module quote return true try using while type immutable abstract bitstype typealias ",literal:"true false ARGS C_NULL DevNull ENDIAN_BOM ENV I Inf Inf16 Inf32 Inf64 InsertionSort JULIA_HOME LOAD_PATH MergeSort NaN NaN16 NaN32 NaN64 PROGRAM_FILE QuickSort RoundDown RoundFromZero RoundNearest RoundNearestTiesAway RoundNearestTiesUp RoundToZero RoundUp STDERR STDIN STDOUT VERSION catalan e|0 eu|0 eulergamma golden im nothing pi γ π φ ",built_in:"ANY AbstractArray AbstractChannel AbstractFloat AbstractMatrix AbstractRNG AbstractSerializer AbstractSet AbstractSparseArray AbstractSparseMatrix AbstractSparseVector AbstractString AbstractUnitRange AbstractVecOrMat AbstractVector Any ArgumentError Array AssertionError Associative Base64DecodePipe Base64EncodePipe Bidiagonal BigFloat BigInt BitArray BitMatrix BitVector Bool BoundsError BufferStream CachingPool CapturedException CartesianIndex CartesianRange Cchar Cdouble Cfloat Channel Char Cint Cintmax_t Clong Clonglong ClusterManager Cmd CodeInfo Colon Complex Complex128 Complex32 Complex64 CompositeException Condition ConjArray ConjMatrix ConjVector Cptrdiff_t Cshort Csize_t Cssize_t Cstring Cuchar Cuint Cuintmax_t Culong Culonglong Cushort Cwchar_t Cwstring DataType Date DateFormat DateTime DenseArray DenseMatrix DenseVecOrMat DenseVector Diagonal Dict DimensionMismatch Dims DirectIndexString Display DivideError DomainError EOFError EachLine Enum Enumerate ErrorException Exception ExponentialBackOff Expr Factorization FileMonitor Float16 Float32 Float64 Function Future GlobalRef GotoNode HTML Hermitian IO IOBuffer IOContext IOStream IPAddr IPv4 IPv6 IndexCartesian IndexLinear IndexStyle InexactError InitError Int Int128 Int16 Int32 Int64 Int8 IntSet Integer InterruptException InvalidStateException Irrational KeyError LabelNode LinSpace LineNumberNode LoadError LowerTriangular MIME Matrix MersenneTwister Method MethodError MethodTable Module NTuple NewvarNode NullException Nullable Number ObjectIdDict OrdinalRange OutOfMemoryError OverflowError Pair ParseError PartialQuickSort PermutedDimsArray Pipe PollingFileWatcher ProcessExitedException Ptr QuoteNode RandomDevice Range RangeIndex Rational RawFD ReadOnlyMemoryError Real ReentrantLock Ref Regex RegexMatch RemoteChannel RemoteException RevString RoundingMode RowVector SSAValue SegmentationFault SerializationState Set SharedArray SharedMatrix SharedVector Signed SimpleVector Slot SlotNumber SparseMatrixCSC SparseVector StackFrame StackOverflowError StackTrace StepRange StepRangeLen StridedArray StridedMatrix StridedVecOrMat StridedVector String SubArray SubString SymTridiagonal Symbol Symmetric SystemError TCPSocket Task Text TextDisplay Timer Tridiagonal Tuple Type TypeError TypeMapEntry TypeMapLevel TypeName TypeVar TypedSlot UDPSocket UInt UInt128 UInt16 UInt32 UInt64 UInt8 UndefRefError UndefVarError UnicodeError UniformScaling Union UnionAll UnitRange Unsigned UpperTriangular Val Vararg VecElement VecOrMat Vector VersionNumber Void WeakKeyDict WeakRef WorkerConfig WorkerPool "},a="[A-Za-z_\\u00A1-\\uFFFF][A-Za-z_0-9\\u00A1-\\uFFFF]*",n={lexemes:a,keywords:t,illegal:/<\//},r={className:"number",begin:/(\b0x[\d_]*(\.[\d_]*)?|0x\.\d[\d_]*)p[-+]?\d+|\b0[box][a-fA-F0-9][a-fA-F0-9_]*|(\b\d[\d_]*(\.[\d_]*)?|\.\d[\d_]*)([eEfF][-+]?\d+)?/,relevance:0},i={className:"string",begin:/'(.|\\[xXuU][a-zA-Z0-9]+)'/},o={className:"subst",begin:/\$\(/,end:/\)/,keywords:t},s={className:"variable",begin:"\\$"+a},l={className:"string",contains:[e.BACKSLASH_ESCAPE,o,s],variants:[{begin:/\w*"""/,end:/"""\w*/,relevance:10},{begin:/\w*"/,end:/"\w*/}]},u={className:"string",contains:[e.BACKSLASH_ESCAPE,o,s],begin:"`",end:"`"},d={className:"meta",begin:"@"+a},c={className:"comment",variants:[{begin:"#=",end:"=#",relevance:10},{begin:"#",end:"$"}]};return n.contains=[r,i,l,u,d,c,e.HASH_COMMENT_MODE,{className:"keyword",begin:"\\b(((abstract|primitive)\\s+)type|(mutable\\s+)?struct)\\b"},{begin:/<:/}],o.contains=n.contains,n}},function(e,t){e.exports=function(e){var t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit initinterface annotation data sealed internal infix operator out by constructor super trait volatile transient native default",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},a={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:"\\${",end:"}",contains:[e.APOS_STRING_MODE,e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""',contains:[i,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,r]}]},s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"meta-string"})]}]};return{keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,n,s,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,illegal:/fun\s+(<.*>)?[^\s\(]+(\s+[^\s\(]+)\s*=/,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],relevance:0},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,s,l,o,e.C_NUMBER_MODE]},e.C_BLOCK_COMMENT_MODE]},{className:"class",beginKeywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,]|$/,excludeBegin:!0,returnEnd:!0},s,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},e.C_NUMBER_MODE]}}},function(e,t){e.exports=function(e){var t="([\\w-]+|@{[\\w-]+})",a=[],n=[],r=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},i=function(e,t,a){return{className:e,begin:t,relevance:a}},o={begin:"\\(",end:"\\)",contains:n,relevance:0};n.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r("'"),r('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},i("number","#[0-9A-Fa-f]+\\b"),o,i("variable","@@?[\\w-]+",10),i("variable","@{[\\w-]+}"),i("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},{className:"meta",begin:"!important"});var s=n.concat({begin:"{",end:"}",contains:a}),l={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(n)},u={begin:t+"\\s*:",returnBegin:!0,end:"[;}]",relevance:0,contains:[{className:"attribute",begin:t,end:":",excludeEnd:!0,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:n}}]},d={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",returnEnd:!0,contains:n,relevance:0}},c={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:s}},f={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:t,end:"{"}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l,i("keyword","all\\b"),i("variable","@{[\\w-]+}"),i("selector-tag",t+"%?",0),i("selector-id","#"+t),i("selector-class","\\."+t,0),i("selector-tag","&",0),{className:"selector-attr",begin:"\\[",end:"\\]"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"\\(",end:"\\)",contains:s},{begin:"!important"}]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,d,c,u,f),{case_insensitive:!0,illegal:"[=>'/<($\"]",contains:a}}},function(e,t){e.exports=function(e){var t="[a-zA-Z_\\-\\+\\*\\/\\<\\=\\>\\&\\#][a-zA-Z0-9_\\-\\+\\*\\/\\<\\=\\>\\&\\#!]*",a="(\\-|\\+)?\\d+(\\.\\d+|\\/\\d+)?((d|e|f|l|s|D|E|F|L|S)(\\+|\\-)?\\d+)?",n={className:"meta",begin:"^#!",end:"$"},r={className:"literal",begin:"\\b(t{1}|nil)\\b"},i={className:"number",variants:[{begin:a,relevance:0},{begin:"#(b|B)[0-1]+(/[0-1]+)?"},{begin:"#(o|O)[0-7]+(/[0-7]+)?"},{begin:"#(x|X)[0-9a-fA-F]+(/[0-9a-fA-F]+)?"},{begin:"#(c|C)\\("+a+" +"+a,end:"\\)"}]},o=e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),s=e.COMMENT(";","$",{relevance:0}),l={begin:"\\*",end:"\\*"},u={className:"symbol",begin:"[:&]"+t},d={begin:t,relevance:0},c={begin:"\\|[^]*?\\|"},f={begin:"\\(",end:"\\)",contains:["self",r,o,i,d]},p={contains:[i,o,l,u,f,d],variants:[{begin:"['`]\\(",end:"\\)"},{begin:"\\(quote ",end:"\\)",keywords:{name:"quote"}},{begin:"'\\|[^]*?\\|"}]},h={variants:[{begin:"'"+t},{begin:"#'"+t+"(::"+t+")*"}]},m={begin:"\\(\\s*",end:"\\)"},g={endsWithParent:!0,relevance:0};return m.contains=[{className:"name",variants:[{begin:t},{begin:"\\|[^]*?\\|"}]},g],g.contains=[p,h,m,r,i,o,s,l,u,c,d],{illegal:/\S/,contains:[i,n,r,o,s,p,h,m,d]}}},function(e,t){e.exports=function(e){var t={begin:"\\[=*\\[",end:"\\]=*\\]",contains:["self"]},a=[e.COMMENT("--(?!\\[=*\\[)","$"),e.COMMENT("--\\[=*\\[","\\]=*\\]",{contains:[t],relevance:10})];return{lexemes:e.UNDERSCORE_IDENT_RE,keywords:{literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstringmodule next pairs pcall print rawequal rawget rawset require select setfenvsetmetatable tonumber tostring type unpack xpcall arg selfcoroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"\\[=*\\[",end:"\\]=*\\]",contains:[t],relevance:5}])}}},function(e,t){e.exports=function(e){var t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t]},r={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*[:+?]?=",illegal:"\\n",returnBegin:!0,contains:[{begin:"^"+e.UNDERSCORE_IDENT_RE,end:"[:+?]?=",excludeEnd:!0}]},i={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{"meta-keyword":".PHONY"},lexemes:/[\.\w]+/},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{aliases:["mk","mak"],keywords:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",lexemes:/[\w-]+/,contains:[e.HASH_COMMENT_MODE,t,a,n,r,i,o]}}},function(e,t){e.exports=function(e){return{aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"quote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"^```w*s*$",end:"^```s*$"},{begin:"`.+?`"},{begin:"^( {4}|\t)",end:"$",relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",returnBegin:!0,contains:[{className:"string",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}},function(e,t){e.exports=function(e){var t=[e.C_NUMBER_MODE,{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{begin:"''"}]}],a={relevance:0,contains:[{begin:/'['\.]*/}]};return{keywords:{keyword:"break case catch classdef continue else elseif end enumerated events for function global if methods otherwise parfor persistent properties return spmd switch try while",built_in:"sin sind sinh asin asind asinh cos cosd cosh acos acosd acosh tan tand tanh atan atand atan2 atanh sec secd sech asec asecd asech csc cscd csch acsc acscd acsch cot cotd coth acot acotd acoth hypot exp expm1 log log1p log10 log2 pow2 realpow reallog realsqrt sqrt nthroot nextpow2 abs angle complex conj imag real unwrap isreal cplxpair fix floor ceil round mod rem sign airy besselj bessely besselh besseli besselk beta betainc betaln ellipj ellipke erf erfc erfcx erfinv expint gamma gammainc gammaln psi legendre cross dot factor isprime primes gcd lcm rat rats perms nchoosek factorial cart2sph cart2pol pol2cart sph2cart hsv2rgb rgb2hsv zeros ones eye repmat rand randn linspace logspace freqspace meshgrid accumarray size length ndims numel disp isempty isequal isequalwithequalnans cat reshape diag blkdiag tril triu fliplr flipud flipdim rot90 find sub2ind ind2sub bsxfun ndgrid permute ipermute shiftdim circshift squeeze isscalar isvector ans eps realmax realmin pi i inf nan isnan isinf isfinite j why compan gallery hadamard hankel hilb invhilb magic pascal rosser toeplitz vander wilkinson"},illegal:'(//|"|#|/\\*|\\s+/\\w+)',contains:[{className:"function",beginKeywords:"function",end:"$",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",variants:[{begin:"\\(",end:"\\)"},{begin:"\\[",end:"\\]"}]}]},{begin:/[a-zA-Z_][a-zA-Z_0-9]*'['\.]*/,returnBegin:!0,relevance:0,contains:[{begin:/[a-zA-Z_][a-zA-Z_0-9]*/,relevance:0},a.contains[0]]},{begin:"\\[",end:"\\]",contains:t,relevance:0,starts:a},{begin:"\\{",end:/}/,contains:t,relevance:0,starts:a},{begin:/\)/,relevance:0,starts:a},e.COMMENT("^\\s*\\%\\{\\s*$","^\\s*\\%\\}\\s*$"),e.COMMENT("\\%","$")].concat(t)}}},function(e,t){e.exports=function(e){var t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},a={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],keywords:a,lexemes:n,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"'",end:"[^\\\\]'",illegal:"[^\\\\][^']"}]},{className:"meta",begin:"#",end:"$",contains:[{className:"meta-string",variants:[{begin:'"',end:'"'},{begin:"<",end:">"}]}]},{className:"class",begin:"("+r.split(" ").join("|")+")\\b",end:"({|$)",excludeEnd:!0,keywords:r,lexemes:n,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}},function(e,t){e.exports=function(e){return{aliases:["ml"],keywords:{keyword:"and as assert asr begin class constraint do done downto else end exception external for fun function functor if in include inherit! inherit initializer land lazy let lor lsl lsr lxor match method!|10 method mod module mutable new object of open! open or private rec sig struct then to try type val! val virtual when while with parser value",built_in:"array bool bytes char exn|5 float int int32 int64 list lazy_t|5 nativeint|5 string unit in_channel out_channel ref",literal:"true false"},illegal:/\/\/|>>/,lexemes:"[a-z_]\\w*!?",contains:[{className:"literal",begin:"\\[(\\|\\|)?\\]|\\(\\)",relevance:0},e.COMMENT("\\(\\*","\\*\\)",{contains:["self"]}),{className:"symbol",begin:"'[A-Za-z_](?!')[\\w']*"},{className:"type",begin:"`[A-Z][\\w']*"},{className:"type",begin:"\\b[A-Z][\\w']*",relevance:0},{begin:"[a-z_]\\w*'[\\w']*",relevance:0},e.inherit(e.APOS_STRING_MODE,{className:"string",relevance:0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),{className:"number",begin:"\\b(0[xX][a-fA-F0-9_]+[Lln]?|0[oO][0-7_]+[Lln]?|0[bB][01_]+[Lln]?|[0-9][0-9_]*([Lln]|(\\.[0-9_]*)?([eE][-+]?[0-9_]+)?)?)",relevance:0},{begin:/[-=]>/}]}}},function(e,t){e.exports=function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:t},n={begin:"->{",end:"}"},r={variants:[{begin:/\$\d/},{begin:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{begin:/[\$%@][^\s\w{]/,relevance:0}]},i=[e.BACKSLASH_ESCAPE,a,r],o=[r,e.HASH_COMMENT_MODE,e.COMMENT("^\\=\\w","\\=cut",{endsWithParent:!0}),n,{className:"string",contains:i,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[e.BACKSLASH_ESCAPE],relevance:0}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=o,n.contains=o,{aliases:["pl","pm"],lexemes:/[\w\.]+/,keywords:t,contains:o}}},function(e,t){e.exports=function(e){var t={begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},a={className:"meta",begin:/<\?(php)?|\?>/},n={className:"string",contains:[e.BACKSLASH_ESCAPE,a],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},r={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]};return{aliases:["php3","php4","php5","php6"],case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[e.HASH_COMMENT_MODE,e.COMMENT("//","$",{contains:[a]}),e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler",lexemes:e.UNDERSCORE_IDENT_RE}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[e.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},a,{className:"keyword",begin:/\$this\b/},t,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",t,e.C_BLOCK_COMMENT_MODE,n,r]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},n,r]}}},function(e,t){e.exports=function(e){var t={begin:"`[\\s\\S]",relevance:0},a={className:"variable",variants:[{begin:/\$[\w\d][\w\d_:]*/}]},n={className:"literal",begin:/\$(null|true|false)\b/},r={className:"string",variants:[{begin:/"/,end:/"/},{begin:/@"/,end:/^"@/}],contains:[t,a,{className:"variable",begin:/\$[A-z]/,end:/[^A-z]/}]},i={className:"string",variants:[{begin:/'/,end:/'/},{begin:/@'/,end:/^'@/}]},o={className:"doctag",variants:[{begin:/\.(synopsis|description|example|inputs|outputs|notes|link|component|role|functionality)/},{begin:/\.(parameter|forwardhelptargetname|forwardhelpcategory|remotehelprunspace|externalhelp)\s+\S+/}]},s=e.inherit(e.COMMENT(null,null),{variants:[{begin:/#/,end:/$/},{begin:/<#/,end:/#>/}],contains:[o]});return{aliases:["ps"],lexemes:/-?[A-z\.\-]+/,case_insensitive:!0,keywords:{keyword:"if else foreach return function do while until elseif begin for trap data dynamicparam end break throw param continue finally in switch exit filter try process catch",built_in:"Add-Computer Add-Content Add-History Add-JobTrigger Add-Member Add-PSSnapin Add-Type Checkpoint-Computer Clear-Content Clear-EventLog Clear-History Clear-Host Clear-Item Clear-ItemProperty Clear-Variable Compare-Object Complete-Transaction Connect-PSSession Connect-WSMan Convert-Path ConvertFrom-Csv ConvertFrom-Json ConvertFrom-SecureString ConvertFrom-StringData ConvertTo-Csv ConvertTo-Html ConvertTo-Json ConvertTo-SecureString ConvertTo-Xml Copy-Item Copy-ItemProperty Debug-Process Disable-ComputerRestore Disable-JobTrigger Disable-PSBreakpoint Disable-PSRemoting Disable-PSSessionConfiguration Disable-WSManCredSSP Disconnect-PSSession Disconnect-WSMan Disable-ScheduledJob Enable-ComputerRestore Enable-JobTrigger Enable-PSBreakpoint Enable-PSRemoting Enable-PSSessionConfiguration Enable-ScheduledJob Enable-WSManCredSSP Enter-PSSession Exit-PSSession Export-Alias Export-Clixml Export-Console Export-Counter Export-Csv Export-FormatData Export-ModuleMember Export-PSSession ForEach-Object Format-Custom Format-List Format-Table Format-Wide Get-Acl Get-Alias Get-AuthenticodeSignature Get-ChildItem Get-Command Get-ComputerRestorePoint Get-Content Get-ControlPanelItem Get-Counter Get-Credential Get-Culture Get-Date Get-Event Get-EventLog Get-EventSubscriber Get-ExecutionPolicy Get-FormatData Get-Host Get-HotFix Get-Help Get-History Get-IseSnippet Get-Item Get-ItemProperty Get-Job Get-JobTrigger Get-Location Get-Member Get-Module Get-PfxCertificate Get-Process Get-PSBreakpoint Get-PSCallStack Get-PSDrive Get-PSProvider Get-PSSession Get-PSSessionConfiguration Get-PSSnapin Get-Random Get-ScheduledJob Get-ScheduledJobOption Get-Service Get-TraceSource Get-Transaction Get-TypeData Get-UICulture Get-Unique Get-Variable Get-Verb Get-WinEvent Get-WmiObject Get-WSManCredSSP Get-WSManInstance Group-Object Import-Alias Import-Clixml Import-Counter Import-Csv Import-IseSnippet Import-LocalizedData Import-PSSession Import-Module Invoke-AsWorkflow Invoke-Command Invoke-Expression Invoke-History Invoke-Item Invoke-RestMethod Invoke-WebRequest Invoke-WmiMethod Invoke-WSManAction Join-Path Limit-EventLog Measure-Command Measure-Object Move-Item Move-ItemProperty New-Alias New-Event New-EventLog New-IseSnippet New-Item New-ItemProperty New-JobTrigger New-Object New-Module New-ModuleManifest New-PSDrive New-PSSession New-PSSessionConfigurationFile New-PSSessionOption New-PSTransportOption New-PSWorkflowExecutionOption New-PSWorkflowSession New-ScheduledJobOption New-Service New-TimeSpan New-Variable New-WebServiceProxy New-WinEvent New-WSManInstance New-WSManSessionOption Out-Default Out-File Out-GridView Out-Host Out-Null Out-Printer Out-String Pop-Location Push-Location Read-Host Receive-Job Register-EngineEvent Register-ObjectEvent Register-PSSessionConfiguration Register-ScheduledJob Register-WmiEvent Remove-Computer Remove-Event Remove-EventLog Remove-Item Remove-ItemProperty Remove-Job Remove-JobTrigger Remove-Module Remove-PSBreakpoint Remove-PSDrive Remove-PSSession Remove-PSSnapin Remove-TypeData Remove-Variable Remove-WmiObject Remove-WSManInstance Rename-Computer Rename-Item Rename-ItemProperty Reset-ComputerMachinePassword Resolve-Path Restart-Computer Restart-Service Restore-Computer Resume-Job Resume-Service Save-Help Select-Object Select-String Select-Xml Send-MailMessage Set-Acl Set-Alias Set-AuthenticodeSignature Set-Content Set-Date Set-ExecutionPolicy Set-Item Set-ItemProperty Set-JobTrigger Set-Location Set-PSBreakpoint Set-PSDebug Set-PSSessionConfiguration Set-ScheduledJob Set-ScheduledJobOption Set-Service Set-StrictMode Set-TraceSource Set-Variable Set-WmiInstance Set-WSManInstance Set-WSManQuickConfig Show-Command Show-ControlPanelItem Show-EventLog Sort-Object Split-Path Start-Job Start-Process Start-Service Start-Sleep Start-Transaction Start-Transcript Stop-Computer Stop-Job Stop-Process Stop-Service Stop-Transcript Suspend-Job Suspend-Service Tee-Object Test-ComputerSecureChannel Test-Connection Test-ModuleManifest Test-Path Test-PSSessionConfigurationFile Trace-Command Unblock-File Undo-Transaction Unregister-Event Unregister-PSSessionConfiguration Unregister-ScheduledJob Update-FormatData Update-Help Update-List Update-TypeData Use-Transaction Wait-Event Wait-Job Wait-Process Where-Object Write-Debug Write-Error Write-EventLog Write-Host Write-Output Write-Progress Write-Verbose Write-Warning Add-MDTPersistentDrive Disable-MDTMonitorService Enable-MDTMonitorService Get-MDTDeploymentShareStatistics Get-MDTMonitorData Get-MDTOperatingSystemCatalog Get-MDTPersistentDrive Import-MDTApplication Import-MDTDriver Import-MDTOperatingSystem Import-MDTPackage Import-MDTTaskSequence New-MDTDatabase Remove-MDTMonitorData Remove-MDTPersistentDrive Restore-MDTPersistentDrive Set-MDTMonitorData Test-MDTDeploymentShare Test-MDTMonitorData Update-MDTDatabaseSchema Update-MDTDeploymentShare Update-MDTLinkedDS Update-MDTMedia Update-MDTMedia Add-VamtProductKey Export-VamtData Find-VamtManagedMachine Get-VamtConfirmationId Get-VamtProduct Get-VamtProductKey Import-VamtData Initialize-VamtData Install-VamtConfirmationId Install-VamtProductActivation Install-VamtProductKey Update-VamtProduct",nomarkup:"-ne -eq -lt -gt -ge -le -not -like -notlike -match -notmatch -contains -notcontains -in -notin -replace"},contains:[t,e.NUMBER_MODE,r,i,n,a,s]}}},function(e,t){e.exports=function(e){var t={keyword:"and case default else elsif false if in import enherits node or true undef unless main settings $string ",literal:"alias audit before loglevel noop require subscribe tag owner ensure group mode name|0 changes context force incl lens load_path onlyif provider returns root show_diff type_check en_address ip_address realname command environment hour monute month monthday special target weekday creates cwd ogoutput refresh refreshonly tries try_sleep umask backup checksum content ctime force ignore links mtime purge recurse recurselimit replace selinux_ignore_defaults selrange selrole seltype seluser source souirce_permissions sourceselect validate_cmd validate_replacement allowdupe attribute_membership auth_membership forcelocal gid ia_load_module members system host_aliases ip allowed_trunk_vlans description device_url duplex encapsulation etherchannel native_vlan speed principals allow_root auth_class auth_type authenticate_user k_of_n mechanisms rule session_owner shared options device fstype enable hasrestart directory present absent link atboot blockdevice device dump pass remounts poller_tag use message withpath adminfile allow_virtual allowcdrom category configfiles flavor install_options instance package_settings platform responsefile status uninstall_options vendor unless_system_user unless_uid binary control flags hasstatus manifest pattern restart running start stop allowdupe auths expiry gid groups home iterations key_membership keys managehome membership password password_max_age password_min_age profile_membership profiles project purge_ssh_keys role_membership roles salt shell uid baseurl cost descr enabled enablegroups exclude failovermethod gpgcheck gpgkey http_caching include includepkgs keepalive metadata_expire metalink mirrorlist priority protect proxy proxy_password proxy_username repo_gpgcheck s3_enabled skip_if_unavailable sslcacert sslclientcert sslclientkey sslverify mounted",built_in:"architecture augeasversion blockdevices boardmanufacturer boardproductname boardserialnumber cfkey dhcp_servers domain ec2_ ec2_userdata facterversion filesystems ldom fqdn gid hardwareisa hardwaremodel hostname id|0 interfaces ipaddress ipaddress_ ipaddress6 ipaddress6_ iphostnumber is_virtual kernel kernelmajversion kernelrelease kernelversion kernelrelease kernelversion lsbdistcodename lsbdistdescription lsbdistid lsbdistrelease lsbmajdistrelease lsbminordistrelease lsbrelease macaddress macaddress_ macosx_buildversion macosx_productname macosx_productversion macosx_productverson_major macosx_productversion_minor manufacturer memoryfree memorysize netmask metmask_ network_ operatingsystem operatingsystemmajrelease operatingsystemrelease osfamily partitions path physicalprocessorcount processor processorcount productname ps puppetversion rubysitedir rubyversion selinux selinux_config_mode selinux_config_policy selinux_current_mode selinux_current_mode selinux_enforced selinux_policyversion serialnumber sp_ sshdsakey sshecdsakey sshrsakey swapencrypted swapfree swapsize timezone type uniqueid uptime uptime_days uptime_hours uptime_seconds uuid virtual vlans xendomains zfs_version zonenae zones zpool_version"},a=e.COMMENT("#","$"),n=e.inherit(e.TITLE_MODE,{begin:"([A-Za-z_]|::)(\\w|::)*"}),r={className:"variable",begin:"\\$([A-Za-z_]|::)(\\w|::)*"},i={className:"string",contains:[e.BACKSLASH_ESCAPE,r],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/}]};return{aliases:["pp"],contains:[a,r,i,{beginKeywords:"class",end:"\\{|;",illegal:/=/,contains:[n,a]},{beginKeywords:"define",end:/\{/,contains:[{className:"section",begin:e.IDENT_RE,endsParent:!0}]},{begin:e.IDENT_RE+"\\s+\\{",returnBegin:!0,end:/\S/,contains:[{className:"keyword",begin:e.IDENT_RE},{begin:/\{/,end:/\}/,keywords:t,relevance:0,contains:[i,a,{begin:"[a-zA-Z_]+\\s*=>",returnBegin:!0,end:"=>",contains:[{className:"attr",begin:e.IDENT_RE}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},r]}],relevance:0}]}}},function(e,t){e.exports=function(e){var t={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},a={className:"meta",begin:/^(>>>|\.\.\.) /},n={className:"subst",begin:/\{/,end:/\}/,keywords:t,illegal:/#/},r={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[a],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[a],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[a,n]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[a,n]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[n]},{begin:/(fr|rf|f)"/,end:/"/,contains:[n]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},i={className:"number",relevance:0,variants:[{begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},o={className:"params",begin:/\(/,end:/\)/,contains:["self",a,i,r]};return n.contains=[r,i,a],{aliases:["py","gyp"],keywords:t,illegal:/(<\/|->|\?)|=>/,contains:[a,i,r,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,o,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},function(e,t){e.exports=function(e){var t="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{contains:[e.HASH_COMMENT_MODE,{begin:t,lexemes:t,keywords:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},relevance:0},{className:"number",begin:"0[xX][0-9a-fA-F]+[Li]?\\b",relevance:0},{className:"number",begin:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",relevance:0},{className:"number",begin:"\\d+\\.(?!\\d)(?:i\\b)?",relevance:0},{className:"number",begin:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{className:"number",begin:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{begin:"`",end:"`",relevance:0},{className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:'"',end:'"'},{begin:"'",end:"'"}]}]}}},function(e,t){e.exports=function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",a={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},n={className:"doctag",begin:"@[A-Za-z]+"},r={begin:"#<",end:">"},i=[e.COMMENT("#","$",{contains:[n]}),e.COMMENT("^\\=begin","^\\=end",{contains:[n],relevance:10}),e.COMMENT("^__END__","\\n$")],o={className:"subst",begin:"#\\{",end:"}",keywords:a},s={className:"string",contains:[e.BACKSLASH_ESCAPE,o],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{begin:/<<(-?)\w+$/,end:/^\s*\w+$/}]},l={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:a},u=[s,r,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[e.inherit(e.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{begin:"<\\s*",contains:[{begin:"("+e.IDENT_RE+"::)?"+e.IDENT_RE}]}].concat(i)},{className:"function",beginKeywords:"def",end:"$|;",contains:[e.inherit(e.TITLE_MODE,{begin:t}),l].concat(i)},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[s,{begin:t}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{className:"params",begin:/\|/,end:/\|/,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[r,{className:"regexp",contains:[e.BACKSLASH_ESCAPE,o],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(i),relevance:0}].concat(i);o.contains=u,l.contains=u;var d=[{begin:/^\s*=>/,starts:{end:"$",contains:u}},{className:"meta",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{end:"$",contains:u}}];return{aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:i.concat(d).concat(u)}}},function(e,t){e.exports=function(e){var t="([ui](8|16|32|64|128|size)|f(32|64))?",a="drop i8 i16 i32 i64 i128 isize u8 u16 u32 u64 u128 usize f32 f64 str char bool Box Option Result String Vec Copy Send Sized Sync Drop Fn FnMut FnOnce ToOwned Clone Debug PartialEq PartialOrd Eq Ord AsRef AsMut Into From Default Iterator Extend IntoIterator DoubleEndedIterator ExactSizeIterator SliceConcatExt ToString assert! assert_eq! bitflags! bytes! cfg! col! concat! concat_idents! debug_assert! debug_assert_eq! env! panic! file! format! format_args! include_bin! include_str! line! local_data_key! module_path! option_env! print! println! select! stringify! try! unimplemented! unreachable! vec! write! writeln! macro_rules! assert_ne! debug_assert_ne!";return{aliases:["rs"],keywords:{keyword:"alignof as be box break const continue crate do else enum extern false fn for if impl in let loop match mod mut offsetof once priv proc pub pure ref return self Self sizeof static struct super trait true type typeof unsafe unsized use virtual while where yield move default",literal:"true false Some None Ok Err",built_in:a},lexemes:e.IDENT_RE+"!?",illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+t},{begin:"\\b0o([0-7_]+)"+t},{begin:"\\b0x([A-Fa-f0-9_]+)"+t},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+t}],relevance:0},{className:"function",beginKeywords:"fn",end:"(\\(|<)",excludeEnd:!0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"meta",begin:"#\\!?\\[",end:"\\]",contains:[{className:"meta-string",begin:/"/,end:/"/}]},{className:"class",beginKeywords:"type",end:";",contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{endsParent:!0})],illegal:"\\S"},{className:"class",beginKeywords:"trait enum struct union",end:"{",contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{endsParent:!0})],illegal:"[\\w\\d]"},{begin:e.IDENT_RE+"::",keywords:{built_in:a}},{begin:"->"}]}}},function(e,t){e.exports=function(e){var t={className:"meta",begin:"@[A-Za-z]+"},a={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"},{begin:"\\${",end:"}"}]},n={className:"string",variants:[{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'"""',end:'"""',relevance:10},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,a]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[a],relevance:10}]},r={className:"symbol",begin:"'\\w[\\w\\d_]*(?!')"},i={className:"type",begin:"\\b[A-Z][A-Za-z0-9_]*",relevance:0},o={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},s={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[i]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[i]},o]},l={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[o]};return{keywords:{literal:"true false null",keyword:"type yield lazy override def with val var sealed abstract private trait object if forSome for while throw finally protected extends import final return else break new catch super class case package default try this match continue throws implicit"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,r,i,l,s,e.C_NUMBER_MODE,t]}}},function(e,t){e.exports=function(e){var t="[^\\(\\)\\[\\]\\{\\}\",'`;#|\\\\\\s]+",a={"builtin-name":"case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules ' * + , ,@ - ... / ; < <= = => > >= ` abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"},n={className:"meta",begin:"^#!",end:"$"},r={className:"literal",begin:"(#t|#f|#\\\\"+t+"|#\\\\.)"},i={className:"number",variants:[{begin:"(\\-|\\+)?\\d+([./]\\d+)?",relevance:0},{begin:"(\\-|\\+)?\\d+([./]\\d+)?[+\\-](\\-|\\+)?\\d+([./]\\d+)?i",relevance:0},{begin:"#b[0-1]+(/[0-1]+)?"},{begin:"#o[0-7]+(/[0-7]+)?"},{begin:"#x[0-9a-f]+(/[0-9a-f]+)?"}]},o=e.QUOTE_STRING_MODE,s=[e.COMMENT(";","$",{relevance:0}),e.COMMENT("#\\|","\\|#")],l={begin:t,relevance:0},u={className:"symbol",begin:"'"+t},d={endsWithParent:!0,relevance:0},c={variants:[{begin:/'/},{begin:"`"}],contains:[{begin:"\\(",end:"\\)",contains:["self",r,o,i,l,u]}]},f={className:"name",begin:t,lexemes:t,keywords:a},p={begin:/lambda/,endsWithParent:!0,returnBegin:!0,contains:[f,{begin:/\(/,end:/\)/,endsParent:!0,contains:[l]}]},h={variants:[{begin:"\\(",end:"\\)"},{begin:"\\[",end:"\\]"}],contains:[p,f,d]};return d.contains=[r,i,o,l,u,c,h].concat(s),{illegal:/\S/,contains:[n,i,o,u,c,h].concat(s)}}},function(e,t){e.exports=function(e){var t={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},a={className:"number",begin:"#[0-9A-Fa-f]+"};e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE;return{case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"\\#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"selector-attr",begin:"\\[",end:"\\]",illegal:"$"},{className:"selector-tag",begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{className:"attribute",begin:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",illegal:"[^\\s]"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[t,a,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"meta",begin:"!important"}]},{begin:"@",end:"[{;]",keywords:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",contains:[t,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,a,e.CSS_NUMBER_MODE,{begin:"\\s[A-Za-z0-9_.-]+",relevance:0}]}]}}},function(e,t){e.exports=function(e){var t={className:"string",begin:"\\$.{1}"},a={className:"symbol",begin:"#"+e.UNDERSCORE_IDENT_RE};return{aliases:["st"],keywords:"self super nil true false thisContext",contains:[e.COMMENT('"','"'),e.APOS_STRING_MODE,{className:"type",begin:"\\b[A-Z][A-Za-z0-9_]*",relevance:0},{begin:"[a-z][a-zA-Z0-9_]*:",relevance:0},e.C_NUMBER_MODE,a,t,{begin:"\\|[ ]*[a-z][a-zA-Z0-9_]*([ ]+[a-z][a-zA-Z0-9_]*)*[ ]*\\|",returnBegin:!0,end:/\|/,illegal:/\S/,contains:[{begin:"(\\|[ ]*)?[a-z][a-zA-Z0-9_]*"}]},{begin:"\\#\\(",end:"\\)",contains:[e.APOS_STRING_MODE,t,e.C_NUMBER_MODE,a]}]}}},function(e,t){e.exports=function(e){var t=e.COMMENT("--","$");return{case_insensitive:!0,illegal:/[<>{}*#]/,contains:[{beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",end:/;/,endsWithParent:!0,lexemes:/[\w\.]+/,keywords:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[e.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t]},e.C_BLOCK_COMMENT_MODE,t]}}},function(e,t){e.exports=function(e){var t={className:"variable",begin:"\\$"+e.IDENT_RE},a={className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},n=["charset","css","debug","extend","font-face","for","import","include","media","mixin","page","warn","while"],r=["after","before","first-letter","first-line","active","first-child","focus","hover","lang","link","visited"],i=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],o="[\\.\\s\\n\\[\\:,]",s=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-ligatures","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"];return{aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+o,returnBegin:!0,contains:[{className:"selector-class",begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"}]},{begin:"\\#[a-zA-Z][a-zA-Z0-9_-]*"+o,returnBegin:!0,contains:[{className:"selector-id",begin:"\\#[a-zA-Z][a-zA-Z0-9_-]*"}]},{begin:"\\b("+i.join("|")+")"+o,returnBegin:!0,contains:[{className:"selector-tag",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"}]},{begin:"&?:?:\\b("+r.join("|")+")"+o},{begin:"@("+n.join("|")+")\\b"},t,e.CSS_NUMBER_MODE,e.NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[a,t,e.APOS_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.QUOTE_STRING_MODE]}]},{className:"attribute",begin:"\\b("+s.reverse().join("|")+")\\b",starts:{end:/;|$/,contains:[a,t,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.C_BLOCK_COMMENT_MODE],illegal:/\./,relevance:0}}]}}},function(e,t){e.exports=function(e){var t={keyword:"__COLUMN__ __FILE__ __FUNCTION__ __LINE__ as as! as? associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},a={className:"type",begin:"\\b[A-Z][\\wÀ-ʸ']*",relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r={className:"subst",begin:/\\\(/,end:"\\)",keywords:t,contains:[]},i={className:"number",begin:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0},o=e.inherit(e.QUOTE_STRING_MODE,{contains:[r,e.BACKSLASH_ESCAPE]});return r.contains=[i],{keywords:t,contains:[o,e.C_LINE_COMMENT_MODE,n,a,i,{className:"function",beginKeywords:"func",end:"{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{begin:/</,end:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,contains:["self",i,o,e.C_BLOCK_COMMENT_MODE,{begin:":"}],illegal:/["']/}],illegal:/\[|%/},{className:"class",beginKeywords:"struct protocol class extension enum",keywords:t,end:"\\{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{className:"meta",begin:"(@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain)"},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,n]}]}}},function(e,t){e.exports=function(e){var t={className:"tag",begin:/\\/,relevance:0,contains:[{className:"name",variants:[{begin:/[a-zA-Zа-яА-я]+[*]?/},{begin:/[^a-zA-Zа-яА-я0-9]/}],starts:{endsWithParent:!0,relevance:0,contains:[{className:"string",variants:[{begin:/\[/,end:/\]/},{begin:/\{/,end:/\}/}]},{begin:/\s*=\s*/,endsWithParent:!0,relevance:0,contains:[{className:"number",begin:/-?\d*\.?\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?/}]}]}}]};return{contains:[t,{className:"formula",contains:[t],relevance:0,variants:[{begin:/\$\$/,end:/\$\$/},{begin:/\$/,end:/\$/}]},e.COMMENT("%","$",{relevance:0})]}}},function(e,t){e.exports=function(e){return{aliases:["vb"],case_insensitive:!0,keywords:{keyword:"addhandler addressof alias and andalso aggregate ansi as assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into is isfalse isnot istrue join key let lib like loop me mid mod module mustinherit mustoverride mybase myclass namespace narrowing new next not notinheritable notoverridable of off on operator option optional or order orelse overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim rem removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly xor",built_in:"boolean byte cbool cbyte cchar cdate cdec cdbl char cint clng cobj csbyte cshort csng cstr ctype date decimal directcast double gettype getxmlnamespace iif integer long object sbyte short single string trycast typeof uinteger ulong ushort",literal:"true false nothing"},illegal:"//|{|}|endif|gosub|variant|wend",contains:[e.inherit(e.QUOTE_STRING_MODE,{contains:[{begin:'""'}]}),e.COMMENT("'","$",{returnBegin:!0,contains:[{className:"doctag",begin:"'''|\x3c!--|--\x3e",contains:[e.PHRASAL_WORDS_MODE]},{className:"doctag",begin:"</?",end:">",contains:[e.PHRASAL_WORDS_MODE]}]}),e.C_NUMBER_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elseif end region externalsource"}}]}}},function(e,t){e.exports=function(e){return{aliases:["vbs"],case_insensitive:!0,keywords:{keyword:"call class const dim do loop erase execute executeglobal exit for each next function if then else on error option explicit new private property let get public randomize redim rem select case set stop sub while wend with end to elseif is or xor and not class_initialize class_terminate default preserve in me byval byref step resume goto",built_in:"lcase month vartype instrrev ubound setlocale getobject rgb getref string weekdayname rnd dateadd monthname now day minute isarray cbool round formatcurrency conversions csng timevalue second year space abs clng timeserial fixs len asc isempty maths dateserial atn timer isobject filter weekday datevalue ccur isdate instr datediff formatdatetime replace isnull right sgn array snumeric log cdbl hex chr lbound msgbox ucase getlocale cos cdate cbyte rtrim join hour oct typename trim strcomp int createobject loadpicture tan formatnumber mid scriptenginebuildversion scriptengine split scriptengineminorversion cint sin datepart ltrim sqr scriptenginemajorversion time derived eval date formatpercent exp inputbox left ascw chrw regexp server response request cstr err",literal:"true false null nothing empty"},illegal:"//",contains:[e.inherit(e.QUOTE_STRING_MODE,{contains:[{begin:'""'}]}),e.COMMENT(/'/,/$/,{relevance:0}),e.C_NUMBER_MODE]}}},function(e,t){e.exports=function(e){return{aliases:["v","sv","svh"],case_insensitive:!1,keywords:{keyword:"accept_on alias always always_comb always_ff always_latch and assert assign assume automatic before begin bind bins binsof bit break buf|0 bufif0 bufif1 byte case casex casez cell chandle checker class clocking cmos config const constraint context continue cover covergroup coverpoint cross deassign default defparam design disable dist do edge else end endcase endchecker endclass endclocking endconfig endfunction endgenerate endgroup endinterface endmodule endpackage endprimitive endprogram endproperty endspecify endsequence endtable endtask enum event eventually expect export extends extern final first_match for force foreach forever fork forkjoin function generate|5 genvar global highz0 highz1 if iff ifnone ignore_bins illegal_bins implements implies import incdir include initial inout input inside instance int integer interconnect interface intersect join join_any join_none large let liblist library local localparam logic longint macromodule matches medium modport module nand negedge nettype new nexttime nmos nor noshowcancelled not notif0 notif1 or output package packed parameter pmos posedge primitive priority program property protected pull0 pull1 pulldown pullup pulsestyle_ondetect pulsestyle_onevent pure rand randc randcase randsequence rcmos real realtime ref reg reject_on release repeat restrict return rnmos rpmos rtran rtranif0 rtranif1 s_always s_eventually s_nexttime s_until s_until_with scalared sequence shortint shortreal showcancelled signed small soft solve specify specparam static string strong strong0 strong1 struct super supply0 supply1 sync_accept_on sync_reject_on table tagged task this throughout time timeprecision timeunit tran tranif0 tranif1 tri tri0 tri1 triand trior trireg type typedef union unique unique0 unsigned until until_with untyped use uwire var vectored virtual void wait wait_order wand weak weak0 weak1 while wildcard wire with within wor xnor xor",literal:"null",built_in:"$finish $stop $exit $fatal $error $warning $info $realtime $time $printtimescale $bitstoreal $bitstoshortreal $itor $signed $cast $bits $stime $timeformat $realtobits $shortrealtobits $rtoi $unsigned $asserton $assertkill $assertpasson $assertfailon $assertnonvacuouson $assertoff $assertcontrol $assertpassoff $assertfailoff $assertvacuousoff $isunbounded $sampled $fell $changed $past_gclk $fell_gclk $changed_gclk $rising_gclk $steady_gclk $coverage_control $coverage_get $coverage_save $set_coverage_db_name $rose $stable $past $rose_gclk $stable_gclk $future_gclk $falling_gclk $changing_gclk $display $coverage_get_max $coverage_merge $get_coverage $load_coverage_db $typename $unpacked_dimensions $left $low $increment $clog2 $ln $log10 $exp $sqrt $pow $floor $ceil $sin $cos $tan $countbits $onehot $isunknown $fatal $warning $dimensions $right $high $size $asin $acos $atan $atan2 $hypot $sinh $cosh $tanh $asinh $acosh $atanh $countones $onehot0 $error $info $random $dist_chi_square $dist_erlang $dist_exponential $dist_normal $dist_poisson $dist_t $dist_uniform $q_initialize $q_remove $q_exam $async$and$array $async$nand$array $async$or$array $async$nor$array $sync$and$array $sync$nand$array $sync$or$array $sync$nor$array $q_add $q_full $psprintf $async$and$plane $async$nand$plane $async$or$plane $async$nor$plane $sync$and$plane $sync$nand$plane $sync$or$plane $sync$nor$plane $system $display $displayb $displayh $displayo $strobe $strobeb $strobeh $strobeo $write $readmemb $readmemh $writememh $value$plusargs $dumpvars $dumpon $dumplimit $dumpports $dumpportson $dumpportslimit $writeb $writeh $writeo $monitor $monitorb $monitorh $monitoro $writememb $dumpfile $dumpoff $dumpall $dumpflush $dumpportsoff $dumpportsall $dumpportsflush $fclose $fdisplay $fdisplayb $fdisplayh $fdisplayo $fstrobe $fstrobeb $fstrobeh $fstrobeo $swrite $swriteb $swriteh $swriteo $fscanf $fread $fseek $fflush $feof $fopen $fwrite $fwriteb $fwriteh $fwriteo $fmonitor $fmonitorb $fmonitorh $fmonitoro $sformat $sformatf $fgetc $ungetc $fgets $sscanf $rewind $ftell $ferror"},lexemes:/[\w\$]+/,contains:[e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE,e.QUOTE_STRING_MODE,{className:"number",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"\\b((\\d+'(b|h|o|d|B|H|O|D))[0-9xzXZa-fA-F_]+)"},{begin:"\\B(('(b|h|o|d|B|H|O|D))[0-9xzXZa-fA-F_]+)"},{begin:"\\b([0-9_])+",relevance:0}]},{className:"variable",variants:[{begin:"#\\((?!parameter).+\\)"},{begin:"\\.\\w+",relevance:0}]},{className:"meta",begin:"`",end:"$",keywords:{"meta-keyword":"define __FILE__ __LINE__ begin_keywords celldefine default_nettype define else elsif end_keywords endcelldefine endif ifdef ifndef include line nounconnected_drive pragma resetall timescale unconnected_drive undef undefineall"},relevance:0}]}}},function(e,t){e.exports=function(e){var t={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],case_insensitive:!0,contains:[{className:"meta",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{begin:/<\?(php)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0}]},{className:"tag",begin:"<style(?=\\s|>|$)",end:">",keywords:{name:"style"},contains:[t],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>|$)",end:">",keywords:{name:"script"},contains:[t],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars","xml"]}},{className:"meta",variants:[{begin:/<\?xml/,end:/\?>/,relevance:10},{begin:/<\?\w+/,end:/\?>/}]},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},t]}]}}},function(e,t){e.exports=function(e){var t="[a-zA-Z_][\\w\\-]*",a={className:"attr",variants:[{begin:"^[ \\-]*"+t+":"},{begin:'^[ \\-]*"'+t+'":'},{begin:"^[ \\-]*'"+t+"':"}]},n={className:"template-variable",variants:[{begin:"{{",end:"}}"},{begin:"%{",end:"}"}]},r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,n]};return{case_insensitive:!0,aliases:["yml","YAML","yaml"],contains:[a,{className:"meta",begin:"^---s*$",relevance:10},{className:"string",begin:"[\\|>] *$",returnEnd:!0,contains:r.contains,end:a.variants[0].begin},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!!"+e.UNDERSCORE_IDENT_RE},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"^ *-",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:"true false yes no null",keywords:{literal:"true false yes no null"}},e.C_NUMBER_MODE,r]}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(215),v=a(214),b=a(171),_=a(1155),y=n(_),E=a(12),w=n(E),C=w.default.ActionTypes,x=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleDelete=a.handleDelete.bind(a),a.handleToggle=a.handleToggle.bind(a),a.handleHide=a.handleHide.bind(a),a.state={show:!1,post:null,commentCount:0,error:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){y.default.addModalListener(C.TOGGLE_DELETE_POST_MODAL,this.handleToggle)}},{key:"componentWillUnmount",value:function(){y.default.removeModalListener(C.TOGGLE_DELETE_POST_MODAL,this.handleToggle)}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.show&&!t.show&&setTimeout(function(){a.deletePostBtn&&a.deletePostBtn.focus()},200)}},{key:"handleDelete",value:function(){var e=this;(0,b.deletePost)(this.state.post.channel_id,this.state.post,function(){e.handleHide()},function(t){e.setState({error:t.message})})}},{key:"handleToggle",value:function(e,t){this.setState({show:e,post:t.post,commentCount:t.commentCount,error:""})}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this;if(!this.state.post)return null;var t=null;this.state.error&&(t=m.default.createElement("div",{className:"form-group has-error"},m.default.createElement("label",{className:"control-label"},this.state.error)));var a="";this.state.commentCount>0&&(a=m.default.createElement(v.FormattedMessage,{id:"delete_post.warning",defaultMessage:"This post has {count, number} {count, plural, one {comment} other {comments}} on it.",values:{count:this.state.commentCount}}));var n=this.state.post.root_id?m.default.createElement(v.FormattedMessage,{id:"delete_post.comment",defaultMessage:"Comment"}):m.default.createElement(v.FormattedMessage,{id:"delete_post.post",defaultMessage:"Post"});return m.default.createElement(g.Modal,{show:this.state.show,onHide:this.handleHide},m.default.createElement(g.Modal.Header,{closeButton:!0},m.default.createElement(g.Modal.Title,null,m.default.createElement(v.FormattedMessage,{id:"delete_post.confirm",defaultMessage:"Confirm {term} Delete",values:{term:n}}))),m.default.createElement(g.Modal.Body,null,m.default.createElement(v.FormattedMessage,{id:"delete_post.question",defaultMessage:"Are you sure you want to delete this {term}?",values:{term:n}}),m.default.createElement("br",null),m.default.createElement("br",null),a,t),m.default.createElement(g.Modal.Footer,null,m.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleHide},m.default.createElement(v.FormattedMessage,{id:"delete_post.cancel",defaultMessage:"Cancel"})),m.default.createElement("button",{ref:function(t){e.deletePostBtn=t},type:"button",autoFocus:!0,className:"btn btn-danger",onClick:this.handleDelete},m.default.createElement(v.FormattedMessage,{id:"delete_post.del",defaultMessage:"Delete"}))))}}]),t}(m.default.Component);t.default=x},function(e,t,a){"use strict";function n(e){return{ctrlSend:(0,d.getBool)(e,l.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:(0,u.getConfig)(e),editingPost:(0,p.getEditingPost)(e)}}function r(e){return{actions:(0,o.bindActionCreators)({addMessageIntoHistory:s.addMessageIntoHistory,editPost:f.editPost,hideEditPostModal:c.hideEditPostModal},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(146),l=a(18),u=a(122),d=a(89),c=a(171),f=a(1691),p=a(1692),h=a(1693),m=function(e){return e&&e.__esModule?e:{default:e}}(h);t.default=(0,i.connect)(n,r)(m.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this;return function(){var a=(0,d.default)(o.default.mark(function a(n,r){var i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.editPost(e)(n,r);case 2:return i=t.sent,i.error&&h.default.handleServerAction({type:m.ActionTypes.RECEIVED_ERROR,err:(0,l.default)({id:i.error.server_error_id},i.error)}),t.abrupt("return",i);case 5:case"end":return t.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var i=a(67),o=n(i),s=a(28),l=n(s),u=a(68),d=n(u);t.editPost=r;var c=a(146),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(c),p=a(49),h=n(p),m=a(12)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditingPost=void 0;var n=a(28),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a(71),o=a(145);t.getEditingPost=(0,i.createSelector)(function(e){return e.views.posts.editingPost&&e.views.posts.editingPost.postId?(0,o.getPost)(e,e.views.posts.editingPost.postId):null},function(e){return e.views.posts.editingPost},function(e,t){return(0,r.default)({},t,{post:e})})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(67),o=r(i),s=a(68),l=r(s),u=a(34),d=r(u),c=a(30),f=r(c),p=a(31),h=r(p),m=a(35),g=r(m),v=a(36),b=r(v),_=a(0),y=r(_),E=a(215),w=a(214),C=a(27),x=r(C),M=a(145),S=n(M),k=a(142),T=n(k),P=a(40),N=r(P),O=a(12),I=r(O),R=a(169),A=n(R),L=a(47),D=n(L),F=a(1180),U=r(F),j=a(1192),H=r(j),B=a(1221),q=r(B),z=I.default.KeyCodes,G=N.default.getState,W=function(e){function t(e){var a=this;(0,f.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.getContainer=function(){return n.refs.editModalBody},n.toggleEmojiPicker=function(){n.setState({showEmojiPicker:!n.state.showEmojiPicker})},n.hideEmojiPicker=function(){n.setState({showEmojiPicker:!1})},n.handleEmojiClick=function(e){var t=e&&(e.name||e.aliases&&e.aliases[0]);if(t){if(""===n.state.editText)n.setState({editText:":"+t+": "});else{var a=/\s+$/.test(n.state.editText)?n.state.editText+":"+t+": ":n.state.editText+" :"+t+": ";n.setState({editText:a})}n.setState({showEmojiPicker:!1}),n.refs.editbox.focus()}},n.getEditPostControls=function(){return n.refs.editPostEmoji},n.handlePostError=function(e){n.state.postError!==e&&n.setState({postError:e})},n.handleEdit=(0,l.default)(o.default.mark(function e(){var t,r,i,s,l,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.actions,i=t.editingPost,s={message:n.state.editText,id:i.postId,channel_id:i.post.channel_id},!n.state.postError){e.next=6;break}return n.setState({errorClass:"animation--highlight"}),setTimeout(function(){n.setState({errorClass:null})},I.default.ANIMATION_TIMEOUT),e.abrupt("return");case 6:if(s.message!==(i.post.message_source||i.post.message)){e.next=9;break}return n.handleHide(),e.abrupt("return");case 9:if(l=i.post.file_ids&&i.post.file_ids.length>0,0!==s.message.trim().length||l){e.next=14;break}return n.handleHide(),T.showDeletePostModal(S.getPost(G(),i.postId),i.commentsCount),e.abrupt("return");case 14:return r.addMessageIntoHistory(s.message),e.next=17,r.editPost(s);case 17:u=e.sent,u&&window.scrollTo(0,0),n.handleHide();case 20:case"end":return e.stop()}},e,a)})),n.handleChange=function(e){var t=e.target.value;n.setState({editText:t})},n.handleEditKeyPress=function(e){A.isMobile()||n.props.ctrlSend||e.which!==z.ENTER||e.shiftKey||e.altKey?n.props.ctrlSend&&e.ctrlKey&&e.which===z.ENTER&&(e.preventDefault(),n.refs.editbox.blur(),n.handleEdit()):(e.preventDefault(),n.refs.editbox.blur(),n.handleEdit())},n.handleKeyDown=function(e){n.props.ctrlSend&&e.keyCode===z.ENTER&&!0===e.ctrlKey&&n.handleEdit()},n.handleHide=function(){n.props.actions.hideEditPostModal()},n.handleEntered=function(){n.refs.editbox.focus(),n.refs.editbox.recalculateSize()},n.handleExit=function(){n.refs.editbox.hidePreview()},n.handleExited=function(){var e=n.props.editingPost.refocusId;e&&setTimeout(function(){var t=document.getElementById(e);t&&t.focus()}),n.setState({editText:"",postError:"",errorClass:null,showEmojiPicker:!1})},n.state={editText:"",postError:"",errorClass:null,showEmojiPicker:!1},n}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentWillUpdate",value:function(e){!this.props.editingPost.show&&e.editingPost.show&&this.setState({editText:e.editingPost.post.message_source||e.editingPost.post.message})}},{key:"render",value:function(){var e="edit-post-footer"+(this.state.postError?" has-error":""),t=null;if(this.state.postError){var a="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");t=y.default.createElement("label",{className:a},this.state.postError)}var n=null;return"true"===this.props.config.EnableEmojiPicker&&(n=y.default.createElement("span",{className:"emoji-picker__container"},y.default.createElement(U.default,{show:this.state.showEmojiPicker,container:this.getContainer,target:this.getEditPostControls,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:50,topOffset:-20}),y.default.createElement(H.default,{className:"icon icon--emoji",onClick:this.toggleEmojiPicker}))),y.default.createElement(E.Modal,{dialogClassName:"edit-modal",show:this.props.editingPost.show,onKeyDown:this.handleKeyDown,onHide:this.handleHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited},y.default.createElement(E.Modal.Header,{closeButton:!0},y.default.createElement(E.Modal.Title,null,y.default.createElement(w.FormattedMessage,{id:"edit_post.edit",defaultMessage:"Edit {title}",values:{title:this.props.editingPost.title}}))),y.default.createElement(E.Modal.Body,{bsClass:"modal-body edit-modal-body",ref:"editModalBody"},y.default.createElement(q.default,{onChange:this.handleChange,onKeyPress:this.handleEditKeyPress,onKeyDown:this.handleKeyDown,handlePostError:this.handlePostError,value:this.state.editText,channelId:this.props.editingPost.post&&this.props.editingPost.post.channel_id,emojiEnabled:"true"===this.props.config.EnableEmojiPicker,createMessage:D.localizeMessage("edit_post.editPost","Edit the post..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"edit_textbox",ref:"editbox"}),y.default.createElement("span",{ref:"editPostEmoji",className:"edit-post__actions"},n),y.default.createElement("div",{className:e},t)),y.default.createElement(E.Modal.Footer,null,y.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleHide},y.default.createElement(w.FormattedMessage,{id:"edit_post.cancel",defaultMessage:"Cancel"})),y.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleEdit},y.default.createElement(w.FormattedMessage,{id:"edit_post.save",defaultMessage:"Save"}))))}}]),t}(y.default.PureComponent);W.propTypes={ctrlSend:x.default.bool,config:x.default.object.isRequired,editingPost:x.default.shape({post:x.default.object,postId:x.default.string,refocusId:x.default.string,show:x.default.bool.isRequired,title:x.default.string}).isRequired,actions:x.default.shape({addMessageIntoHistory:x.default.func.isRequired,editPost:x.default.func.isRequired,hideEditPostModal:x.default.func.isRequired}).isRequired},t.default=W},function(e,t,a){"use strict";function n(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:(0,u.getEmojiMap)(e)}}function r(e){return{actions:(0,o.bindActionCreators)({getCustomEmojis:s.getCustomEmojis,searchCustomEmojis:s.searchCustomEmojis,incrementEmojiPickerPage:l.incrementEmojiPickerPage},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(309),l=a(1260),u=a(471),d=a(1695),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.filename||e.id}Object.defineProperty(t,"__esModule",{value:!0});var o=a(219),s=r(o),l=a(28),u=r(l),d=a(217),c=r(d),f=a(70),p=r(f),h=a(216),m=r(h),g=a(55),v=r(g),b=a(67),_=r(b),y=a(68),E=r(y),w=a(34),C=r(w),x=a(30),M=r(x),S=a(31),k=r(S),T=a(35),P=r(T),N=a(36),O=r(N),I=a(27),R=r(I),A=a(0),L=r(A),D=a(1325),F=r(D),U=a(306),j=r(U),H=a(466),B=n(H),q=a(47),z=n(q),G=a(1700),W=r(G),V=a(1701),$=r(V),K=a(1702),Y=r(K),X=a(1703),Z=r(X),J={height:300},Q=135,ee=100,te={recent:{name:"recent",className:"fa fa-clock-o",id:"emoji_picker.recent",message:"Recently Used",offset:0},people:{name:"people",className:"fa fa-smile-o",id:"emoji_picker.people",message:"People",offset:0},nature:{name:"nature",className:"fa fa-leaf",id:"emoji_picker.nature",message:"Nature",offset:0},foods:{name:"foods",className:"fa fa-cutlery",id:"emoji_picker.foods",message:"Foods",offset:0},activity:{name:"activity",className:"fa fa-futbol-o",id:"emoji_picker.activity",message:"Activity",offset:0},places:{name:"places",className:"fa fa-plane",id:"emoji_picker.places",message:"Places",offset:0},objects:{name:"objects",className:"fa fa-lightbulb-o",id:"emoji_picker.objects",message:"Objects",offset:0},symbols:{name:"symbols",className:"fa fa-heart-o",id:"emoji_picker.symbols",message:"Symbols",offset:0},flags:{name:"flags",className:"fa fa-flag-o",id:"emoji_picker.flags",message:"Flags",offset:0},custom:{name:"custom",className:"fa fa-at",id:"emoji_picker.custom",message:"Custom",offset:0}},ae=200,ne=function(e){function t(e){var a=this;(0,M.default)(this,t);var n=(0,P.default)(this,(t.__proto__||(0,C.default)(t)).call(this,e));return n.loadMoreCustomEmojis=(0,E.default)(_.default.mark(function e(){var t,r;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.customEmojisEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.props.actions.getCustomEmojis(n.props.customEmojiPage,ae);case 4:if(t=e.sent,r=t.data){e.next=8;break}return e.abrupt("return");case 8:if(!(r.length<ae)){e.next=11;break}return n.missingPages=!1,e.abrupt("return");case 11:n.props.actions.incrementEmojiPickerPage();case 12:case"end":return e.stop()}},e,a)})),n.lastVisibleEmojiRef=function(e){n.lastVisibleEmoji=e},n.emojiPickerContainerRef=function(e){n.emojiPickerContainer=e},n.emojiSearchInput=function(e){n.searchInput=e},n.emojiCurrentResultsItems=function(e,t,a){var r=n.state,i=r.cursor,o=r.emojisToShow,s=a;return t.map(function(t,a){s++;var r=void 0;return s===o&&(r=n.lastVisibleEmojiRef),s>=o?L.default.createElement("div",{key:s,className:"emoji-picker__item",ref:r},L.default.createElement("img",{src:"/static/images/img_trans.gif",className:"emojisprite"})):L.default.createElement($.default,{key:t.filename+":"+t.id,emoji:t,onItemOver:n.handleItemOver,onItemClick:n.handleItemClick,onItemUnmount:t,category:t.category,isSelected:i[0]===e&&i[1]===a,categoryIndex:e,emojiIndex:a,containerRef:n.emojiPickerContainer,containerTop:n.state.divTopOffset,containerBottom:n.state.divTopOffset+n.divHeight})})},n.handleCategoryClick=n.handleCategoryClick.bind(n),n.handleFilterChange=n.handleFilterChange.bind(n),n.handleItemOver=n.handleItemOver.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleScrollThrottle=(0,F.default)(n.handleScroll,ee,{leading:!1,trailing:!0}),n.updateCategoryOffset=n.updateCategoryOffset.bind(n),n.divHeight=0,n.missingPages=!0,n.state={allEmojis:{},categories:te,filter:"",cursor:[0,0],divTopOffset:0,emojisToShow:Q},n}return(0,O.default)(t,e),(0,k.default)(t,[{key:"componentWillMount",value:function(){0===this.props.customEmojiPage&&this.loadMoreCustomEmojis(),this.getEmojis()}},{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame(function(){e.searchInput.focus()}),this.divHeight=this.emojiPickerContainer.offsetHeight}},{key:"componentWillUpdate",value:function(e,t){if(this.state.divTopOffset!==t.divTopOffset){if(this.lastVisibleEmoji){var a=this.lastVisibleEmoji.offsetTop-(t.divTopOffset+300+75);if(a<=0){var n=Q+Math.ceil(a/27*9*-1);this.setState(function(e){return{emojisToShow:e.emojisToShow+n}})}}if(this.missingPages&&this.emojiPickerContainer){this.emojiPickerContainer.scrollHeight-t.divTopOffset-this.emojiPickerContainer.clientHeight<=500&&this.loadMoreCustomEmojis()}}}},{key:"componentWillReceiveProps",value:function(e){this.props.emojiMap!==e.emojiMap&&this.getEmojis(e)}},{key:"handleCategoryClick",value:function(e){this.emojiPickerContainer.scrollTop=this.state.categories[e].offset}},{key:"handleFilterChange",value:function(e){e.preventDefault();var t=e.target.value.toLowerCase();this.props.customEmojisEnabled&&t&&""!==t.trim()&&this.props.actions.searchCustomEmojis(t),this.setState(function(){return{filter:t,cursor:[0,0]}})}},{key:"handleItemOver",value:function(e,t){this.setState({cursor:[e,t]})}},{key:"handleItemClick",value:function(e){this.props.onEmojiClick(e)}},{key:"handleKeyDown",value:function(e){switch(e.key){case"ArrowRight":e.preventDefault(),this.selectNextEmoji();break;case"ArrowLeft":e.preventDefault(),this.selectPrevEmoji();break;case"ArrowUp":e.preventDefault(),this.selectPrevEmoji(9);break;case"ArrowDown":e.preventDefault(),this.selectNextEmoji(9);break;case"Enter":e.preventDefault(),this.getCurrentEmojiByCursor(this.state.cursor)&&this.props.onEmojiClick(this.getCurrentEmojiByCursor(this.state.cursor))}}},{key:"handleScroll",value:function(){this.setState({divTopOffset:this.emojiPickerContainer.scrollTop})}},{key:"selectNextEmoji",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.cursor,a=[t[0],t[1]+e];if(this.getCurrentEmojiByCursor(a))return void this.setState({cursor:a});a=[t[0]+1,0],this.getCurrentEmojiByCursor(a)&&this.setState({cursor:a})}},{key:"selectPrevEmoji",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.cursor,a=[t[0],t[1]-e];if(this.getCurrentEmojiByCursor(a))return void this.setState({cursor:a});if(0!==t[0]){var n=this.getCategoryByIndex(t[0]-1),r=this.state.categories[n.name].emojiIds.length-1;a=[t[0]-1,r],this.getCurrentEmojiByCursor(a)&&this.setState({cursor:a})}}},{key:"getCategoryByIndex",value:function(e){return this.state.filter&&0!==e?null:this.getCategoriesByKey((0,v.default)(this.state.categories)[e])}},{key:"getCurrentEmojiByCursor",value:function(e){var t=this.getCategoryByIndex(e[0]);return t?this.getEmojisByCategory(t)[e[1]]:null}},{key:"getCategoriesByKey",value:function(e){return this.state.filter?{id:"searchResults",name:"searchResults"}:this.state.categories[e]}},{key:"getEmojisByCategory",value:function(e){var t=this;return this.state.filter?(0,m.default)(this.state.allEmojis).filter(function(e){for(var a=0;a<e.aliases.length;a++)if(e.aliases[a].toLowerCase().includes(t.state.filter))return!0;return!1}):this.state.categories[e.name].emojiIds.map(function(e){return t.state.allEmojis[e]})}},{key:"getEmojis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.state,a=t.categories,n=t.allEmojis,r=e.emojiMap,o=r.customEmojis,s=!0,l=!1,d=void 0;try{for(var f,h=(0,p.default)((0,v.default)(a));!(s=(f=h.next()).done);s=!0){var m=f.value,g=[];if("recent"===m){g=[].concat((0,c.default)(j.default.getRecentEmojis())).reverse().filter(function(e){return r.has(e)}).map(function(e){return r.get(e)})}else{g=(B.EmojiIndicesByCategory.get(m)||[]).map(function(e){return B.Emojis[e]}),"custom"===m&&(g=g.concat([].concat((0,c.default)(o.values()))))}a[m].emojiIds=g.map(function(e){return i(e)});for(var b=0;b<g.length;b++){var _=g[b],y=i(_);n[y]=(0,u.default)({},_,{visible:!1,offset:null}),_.filename||(n[y]=(0,u.default)({},n[y],{aliases:[_.name],category:"custom",filename:y}))}}}catch(e){l=!0,d=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw d}}this.setState({categories:a,allEmojis:n})}},{key:"getCurrentEmojiCategoryName",value:function(){for(var e=(0,v.default)(this.state.categories),t="",a=e.length-1;a>=0;a--){var n=this.state.categories[e[a]];if(this.state.divTopOffset>n.offset-20){t=e[a];break}}return t}},{key:"emojiCategories",value:function(){var e=this,t=this.state.categories,a=(0,v.default)(t),n=this.state.filter?a[0]:this.getCurrentEmojiCategoryName(),r=a.map(function(a){var r=t[a];return L.default.createElement(W.default,{key:"header-"+r.name,category:r.name,icon:L.default.createElement("i",{className:r.className,title:z.localizeMessage(r.id,r.message)}),onCategoryClick:e.handleCategoryClick,selected:n===r.name,enable:!e.state.filter})});return L.default.createElement("div",{className:"emoji-picker__categories"},r)}},{key:"emojiSearch",value:function(){return L.default.createElement("div",{className:"emoji-picker__search-container"},L.default.createElement("span",{className:"fa fa-search emoji-picker__search-icon"}),L.default.createElement("input",{ref:this.emojiSearchInput,className:"emoji-picker__search",type:"text",onChange:this.handleFilterChange,onKeyDown:this.handleKeyDown,placeholder:z.localizeMessage("emoji_picker.search","search")}))}},{key:"emojiCurrentResults",value:function(){for(var e=this.state.filter,t=e?["searchResults"]:(0,v.default)(this.state.categories),a=0,n=[],r=0;r<t.length;r++){var i=this.getCategoriesByKey(t[r]),o=this.getEmojisByCategory(i),s=this.emojiCurrentResultsItems(r,o,a);a+=s.length,n=[].concat((0,c.default)(n),[L.default.createElement(Y.default,{key:i.id,categoryName:i.name,updateCategoryOffset:this.updateCategoryOffset},s)])}return L.default.createElement("div",{ref:this.emojiPickerContainerRef,onScroll:this.handleScrollThrottle,className:"emoji-picker__items",style:J},L.default.createElement("div",{className:"emoji-picker__container"},n))}},{key:"updateCategoryOffset",value:function(e,t){"searchResults"!==e&&this.setState(function(a){return{categories:(0,u.default)({},a.categories,(0,s.default)({},e,(0,u.default)({},a.categories[e],{offset:t})))}})}},{key:"render",value:function(){var e=void 0;return this.props.style&&0!==this.props.style.left&&0!==this.props.style.top&&(e="top"===this.props.placement||"bottom"===this.props.placement?{top:this.props.style.top,bottom:this.props.style.bottom,right:this.props.rightOffset}:(0,u.default)({},this.props.style)),e&&e.top&&(e.top+=this.props.topOffset),L.default.createElement("div",{className:"emoji-picker",style:e},this.emojiCategories(),this.emojiSearch(),this.emojiCurrentResults(),L.default.createElement(Z.default,{emoji:this.getCurrentEmojiByCursor(this.state.cursor)}))}}]),t}(L.default.PureComponent);ne.propTypes={style:R.default.object,rightOffset:R.default.number,topOffset:R.default.number,placement:R.default.oneOf(["top","bottom","left"]),onEmojiClick:R.default.func.isRequired,customEmojisEnabled:R.default.bool,emojiMap:R.default.object.isRequired,customEmojiPage:R.default.number.isRequired,actions:R.default.shape({getCustomEmojis:R.default.func.isRequired,searchCustomEmojis:R.default.func.isRequired,incrementEmojiPickerPage:R.default.func.isRequired}).isRequired},ne.defaultProps={rightOffset:0,topOffset:0,customEmojiPage:0,customEmojisEnabled:!1},t.default=ne},function(e,t,a){var n=a(1156),r=function(){return n.Date.now()};e.exports=r},function(e,t,a){function n(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var a=u.test(e);return a||d.test(e)?c(e.slice(2),a?2:8):l.test(e)?o:+e}var r=a(1166),i=a(1220),o=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=n},function(e,t,a){function n(e){var t=o.call(e,l),a=e[l];try{e[l]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[l]=a:delete e[l]),r}var r=a(1203),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,l=r?r.toStringTag:void 0;e.exports=n},function(e,t){function a(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e){return e.selected!==this.props.selected||e.enable!==this.props.enable}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.onCategoryClick(this.props.category)}},{key:"render",value:function(){var e="emoji-picker__category";return this.props.selected&&(e+=" emoji-picker__category--selected"),this.props.enable||(e+=" disable"),v.default.createElement("a",{className:e,href:"#",onClick:this.handleClick},this.props.icon)}}]),t}(v.default.Component);b.propTypes={category:m.default.string.isRequired,icon:m.default.node.isRequired,onCategoryClick:m.default.func.isRequired,selected:m.default.bool.isRequired,enable:m.default.bool.isRequired},t.default=b},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1262),_=n(b),y=a(306),E=n(y),w=150,C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.emojiItemRef=function(e){a.emojiItem=e},a.handleMouseOver=a.handleMouseOver.bind(a),a.handleClick=a.handleClick.bind(a),a.handleMouseOverThrottle=(0,_.default)(a.handleMouseOver,w,{leading:!0,trailing:!0}),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e){return e.isSelected!==this.props.isSelected}},{key:"componentWillReceiveProps",value:function(e){if(!this.props.isSelected&&e.isSelected){var t=this.emojiItem.offsetTop,a=t+this.emojiItem.offsetHeight,n=e.containerRef,r=e.containerTop,i=e.containerBottom;t<r?n.scrollTop=t-10:a>i&&(n.scrollTop=a-n.offsetHeight+10)}}},{key:"handleMouseOver",value:function(){this.props.isSelected||this.props.onItemOver(this.props.categoryIndex,this.props.emojiIndex)}},{key:"handleClick",value:function(){this.props.onItemClick(this.props.emoji)}},{key:"render",value:function(){var e=this.props.emoji,t="emoji-picker__item";t+=this.props.isSelected?" selected":"";var a="emojisprite";return a+=" emoji-category-"+e.category+"-"+e.batch,a+=" emoji-"+e.filename,e.category&&e.batch?v.default.createElement("div",{className:t,ref:this.emojiItemRef},v.default.createElement("img",{src:"/static/images/img_trans.gif",className:a,onMouseOver:this.handleMouseOverThrottle,onClick:this.handleClick})):v.default.createElement("div",{className:t,ref:this.emojiItemRef},v.default.createElement("img",{src:E.default.getEmojiImageUrl(e),className:a,onMouseOver:this.handleMouseOver,onClick:this.handleClick}))}}]),t}(v.default.Component);C.propTypes={emoji:m.default.object.isRequired,onItemOver:m.default.func.isRequired,onItemClick:m.default.func.isRequired,category:m.default.string.isRequired,isSelected:m.default.bool,categoryIndex:m.default.number.isRequired,emojiIndex:m.default.number.isRequired,containerRef:m.default.any,containerTop:m.default.number.isRequired,containerBottom:m.default.number.isRequired},t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.divRef=function(e){n.div=e},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.updateCategoryOffset(this.props.categoryName,this.div.offsetTop)}},{key:"render",value:function(){return v.default.createElement("div",{ref:this.divRef},v.default.createElement("div",{className:"emoji-picker-items__container"},v.default.createElement("div",{className:"emoji-picker__category-header",id:"emojipickercat-"+this.props.categoryName},v.default.createElement(b.FormattedMessage,{id:"emoji_picker."+this.props.categoryName}))),v.default.createElement("div",{className:"emoji-picker-items__container"},this.props.children))}}]),t}(v.default.PureComponent);_.propTypes={categoryName:m.default.string.isRequired,children:m.default.any,updateCategoryOffset:m.default.func.isRequired},t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(306),y=n(_),E=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.emoji;if(e){var t=void 0,a=void 0,n=void 0;return e.aliases&&e.category&&e.batch?(t=e.aliases[0],a=e.aliases,n=v.default.createElement("span",{className:"sprite-preview"},v.default.createElement("img",{src:"/static/images/img_trans.gif",className:"emojisprite-preview emoji-category-"+e.category+"-"+e.batch+" emoji-"+e.filename}))):(t=e.name,a=[e.name],n=v.default.createElement("img",{className:"emoji-picker__preview-image",src:y.default.getEmojiImageUrl(e)})),v.default.createElement("div",{className:"emoji-picker__preview"},v.default.createElement("div",{className:"emoji-picker__preview-image-box"},n),v.default.createElement("div",{className:"emoji-picker__preview-image-label-box"},v.default.createElement("span",{className:"emoji-picker__preview-name"},t),v.default.createElement("span",{className:"emoji-picker__preview-aliases"},":"+a[0]+":")))}return v.default.createElement("div",{className:"emoji-picker__preview emoji-picker__preview-placeholder"},v.default.createElement(b.FormattedMessage,{id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}))}}]),t}(v.default.Component);E.propTypes={emoji:m.default.object},t.default=E},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(459),i=n(r),o=a(175),s=n(o),l=a(28),u=n(l),d=a(34),c=n(d),f=a(30),p=n(f),h=a(31),m=n(h),g=a(35),v=n(g),b=a(36),_=n(b),y=a(27),E=n(y),w=a(0),C=n(w),x=function(e){function t(e){(0,p.default)(this,t);var a=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.recalculateSize=function(){var e=a.refs.reference.scrollHeight;if(e>0&&e!==a.height){var t=a.refs.textarea,n=getComputedStyle(t),r=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10);t.style.height=String(e+r)+"px",a.height=e,a.props.onHeightChange&&a.props.onHeightChange(e,parseInt(n.maxHeight,10))}},a.getDOMNode=function(){return a.refs.textarea},a.handleChange=function(e){a.props.onChange&&a.props.onChange(e)},a.height=0,a}return(0,_.default)(t,e),(0,m.default)(t,[{key:"focus",value:function(){this.refs.textarea.focus()}},{key:"blur",value:function(){this.refs.textarea.blur()}},{key:"componentDidUpdate",value:function(){this.recalculateSize()}},{key:"render",value:function(){var e=(0,u.default)({},this.props);(0,s.default)(e,"onHeightChange"),(0,s.default)(e,"providers"),(0,s.default)(e,"channelId");var t=e.value,a=e.defaultValue,n=e.placeholder,r=e.id,o=(0,i.default)(e,["value","defaultValue","placeholder","id"]),l={};return this.height<=0?l.rows=1:l.height=this.height,C.default.createElement("div",null,C.default.createElement("textarea",(0,u.default)({ref:"textarea",id:r+"-textarea"},l,o,{placeholder:n,onChange:this.handleChange,value:t,defaultValue:a})),C.default.createElement("div",{style:M.container},C.default.createElement("textarea",(0,u.default)({ref:"reference",id:r+"-reference",style:M.reference,disabled:!0,placeholder:n,rows:"1"},o,{value:t||a}))))}},{key:"value",get:function(){return this.refs.textarea.value},set:function(e){this.refs.textarea.value=e}}]),t}(C.default.Component);x.propTypes={value:E.default.string,defaultValue:E.default.string,placeholder:E.default.string,onChange:E.default.func,onHeightChange:E.default.func},t.default=x;var M={container:{height:0,overflow:"hidden"},reference:{height:"auto",width:"100%"}}},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(88),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(460),w=n(E),C=a(1142),x=n(C),M=a(1706),S=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=(0,o.default)({siteURL:this.props.siteURL,mentionKeys:this.props.mentionKeys,atMentions:!0,channelNamesMap:this.props.channelNamesMap,team:this.props.team},this.props.options);if(this.props.post){var t=(0,M.renderSystemMessage)(this.props.post,e);if(t)return y.default.createElement("div",null,t)}var a=x.formatText(this.props.message,e);return y.default.createElement("span",null,w.messageHtmlToComponent(a,this.props.isRHS))}}]),t}(y.default.PureComponent);S.propTypes={channelNamesMap:b.default.object.isRequired,isRHS:b.default.bool,mentionKeys:b.default.arrayOf(b.default.object).isRequired,message:b.default.string.isRequired,options:b.default.object,post:b.default.object,siteURL:b.default.string.isRequired,team:b.default.object.isRequired},S.defaultProps={options:{},isRHS:!1},t.default=S},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return i(e,(0,C.default)({},t,{markdown:!1}))}function i(e,t){return M.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,L.formatText)(e,t)}})}function o(e,t){var a=r(e.props.username,t);return M.default.createElement(S.FormattedMessage,{id:"api.channel.join_channel.post_and_forget",defaultMessage:"{username} joined the channel.",values:{username:a}})}function s(e,t){var a=r(e.props.username,t);return M.default.createElement(S.FormattedMessage,{id:"api.channel.leave.left",defaultMessage:"{username} has left the channel.",values:{username:a}})}function l(e,t){var a=r(e.props.username,t),n=r(e.props.addedUsername,t);return M.default.createElement(S.FormattedMessage,{id:"api.channel.add_member.added",defaultMessage:"{addedUsername} added to the channel by {username}.",values:{username:a,addedUsername:n}})}function u(e,t){var a=r(e.props.removedUsername,t);return M.default.createElement(S.FormattedMessage,{id:"api.channel.remove_member.removed",defaultMessage:"{removedUsername} was removed from the channel",values:{removedUsername:a}})}function d(e,t){var a=r(e.props.username,t);return M.default.createElement(S.FormattedMessage,{id:"api.team.join_team.post_and_forget",defaultMessage:"{username} joined the team.",values:{username:a}})}function c(e,t){var a=r(e.props.username,t);return M.default.createElement(S.FormattedMessage,{id:"api.team.leave.left",defaultMessage:"{username} left the team.",values:{username:a}})}function f(e,t){var a=r(e.props.username,t),n=r(e.props.addedUsername,t);return M.default.createElement(S.FormattedMessage,{id:"api.team.add_member.added",defaultMessage:"{addedUsername} added to the team by {username}.",values:{username:a,addedUsername:n}})}function p(e,t){var a=r(e.props.removedUsername,t);return M.default.createElement(S.FormattedMessage,{id:"api.team.remove_user_from_team.removed",defaultMessage:"{removedUsername} was removed from the team.",values:{removedUsername:a}})}function h(e,t){if(!e.props.username)return null;var a=(0,C.default)({},t,{singleline:!0}),n=r(e.props.username,t),o=e.props.old_header?i(e.props.old_header,a):null,s=e.props.new_header?i(e.props.new_header,a):null;return e.props.new_header?e.props.old_header?M.default.createElement(S.FormattedMessage,{id:"api.channel.post_update_channel_header_message_and_forget.updated_from",defaultMessage:"{username} updated the channel header from: {old} to: {new}",values:{username:n,old:o,new:s}}):M.default.createElement(S.FormattedMessage,{id:"api.channel.post_update_channel_header_message_and_forget.updated_to",defaultMessage:"{username} updated the channel header to: {new}",values:{username:n,new:s}}):e.props.old_header?M.default.createElement(S.FormattedMessage,{id:"api.channel.post_update_channel_header_message_and_forget.removed",defaultMessage:"{username} removed the channel header (was: {old})",values:{username:n,old:o}}):null}function m(e,t){if(!(e.props.username&&e.props.old_displayname&&e.props.new_displayname))return null;var a=r(e.props.username,t),n=e.props.old_displayname,i=e.props.new_displayname;return M.default.createElement(S.FormattedMessage,{id:"api.channel.post_update_channel_displayname_message_and_forget.updated_from",defaultMessage:"{username} updated the channel display name from: {old} to: {new}",values:{username:a,old:n,new:i}})}function g(e,t){if(!e.props.username)return null;var a=r(e.props.username,t),n=e.props.old_purpose,i=e.props.new_purpose;return e.props.new_purpose?e.props.old_purpose?M.default.createElement(S.FormattedMessage,{id:"app.channel.post_update_channel_purpose_message.updated_from",defaultMessage:"{username} updated the channel purpose from: {old} to: {new}",values:{username:a,old:n,new:i}}):M.default.createElement(S.FormattedMessage,{id:"app.channel.post_update_channel_purpose_message.updated_to",defaultMessage:"{username} updated the channel purpose to: {new}",values:{username:a,new:i}}):e.props.old_purpose?M.default.createElement(S.FormattedMessage,{id:"app.channel.post_update_channel_purpose_message.removed",defaultMessage:"{username} removed the channel purpose (was: {old})",values:{username:a,old:n}}):null}function v(e,t){if(!e.props.username)return null;var a=r(e.props.username,t);return M.default.createElement(S.FormattedMessage,{id:"api.channel.delete_channel.archived",defaultMessage:"{username} has archived the channel.",values:{username:a}})}function b(e,t){if(e.props&&e.props.add_channel_member){var a=N.default.getCurrent(),n=T.default.isSystemAdminForCurrentUser(),r=I.default.isTeamAdminForCurrentTeam(),i=N.default.isChannelAdminForCurrentChannel(),o=(0,R.canManageMembers)(a,i,r,n),s=F.isPostEphemeral(e);if((a.type===A.Constants.PRIVATE_CHANNEL||a.type===A.Constants.OPEN_CHANNEL)&&o&&s){var u=e.props.add_channel_member;return M.default.createElement(j.default,{postId:u.post_id,userIds:u.user_ids,usernames:u.usernames})}return null}return H[e.type]?H[e.type](e,t):e.type===A.PostTypes.EPHEMERAL_ADD_TO_CHANNEL?l(e,t):null}Object.defineProperty(t,"__esModule",{value:!0});var _,y=a(219),E=n(y),w=a(28),C=n(w);t.renderSystemMessage=b;var x=a(0),M=n(x),S=a(214),k=a(42),T=n(k),P=a(48),N=n(P),O=a(59),I=n(O),R=a(304),A=a(12),L=a(1142),D=a(47),F=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(D),U=a(1707),j=n(U),H=(_={},(0,E.default)(_,A.PostTypes.JOIN_CHANNEL,o),(0,E.default)(_,A.PostTypes.LEAVE_CHANNEL,s),(0,E.default)(_,A.PostTypes.ADD_TO_CHANNEL,l),(0,E.default)(_,A.PostTypes.REMOVE_FROM_CHANNEL,u),(0,E.default)(_,A.PostTypes.JOIN_TEAM,d),(0,E.default)(_,A.PostTypes.LEAVE_TEAM,c),(0,E.default)(_,A.PostTypes.ADD_TO_TEAM,f),(0,E.default)(_,A.PostTypes.REMOVE_FROM_TEAM,p),(0,E.default)(_,A.PostTypes.HEADER_CHANGE,h),(0,E.default)(_,A.PostTypes.DISPLAYNAME_CHANGE,m),(0,E.default)(_,A.PostTypes.PURPOSE_CHANGE,g),(0,E.default)(_,A.PostTypes.CHANNEL_DELETED,v),_)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,p.getCurrentChannelId)(e);return(0,s.default)({},t,{team:(0,h.getCurrentTeam)(e),channel:(0,p.getChannel)(e,a),currentUser:(0,m.getCurrentUser)(e)})}function i(e){return{actions:(0,l.bindActionCreators)({addChannelMember:d.addChannelMember,getPost:f.getPost,removePost:c.removePost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(11),u=a(141),d=a(90),c=a(146),f=a(145),p=a(144),h=a(170),m=a(69),g=a(1708),v=n(g);t.default=(0,u.connect)(r,i)(v.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(217),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(81),w=a(40),C=n(w),x=a(142),M=a(12),S=a(481),k=n(S),T=C.default.getState,P=function(e){function t(){var e,a,n,r;(0,u.default)(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return a=n=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),n.handleAddChannelMember=function(){var e=n.props,t=e.currentUser,a=e.team,r=e.channel,i=e.postId,o=e.userIds,s=e.usernames,l=n.props.actions.getPost(T(),i)||{};l.channel_id===r.id&&(o.forEach(function(e,a){n.props.actions.addChannelMember(r.id,e),(0,x.sendAddToChannelEphemeralPost)(t,s[a],r.id,l.root_id)}),n.props.actions.removePost(l)),E.browserHistory.push("/"+a.name+"/channels/"+r.name)},r=a,(0,p.default)(n,r)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"generateAtMentions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(1===e.length)return _.default.createElement(k.default,{mentionName:e[0]});if(e.length>1){var t=function(e){return _.default.createElement(y.FormattedMessage,{key:e,id:"post_body.check_for_out_of_channel_mentions.link.and",defaultMessage:" and "})},a=function(e){return _.default.createElement("span",{key:e},", ")};return _.default.createElement("span",null,e.map(function(e){return _.default.createElement(k.default,{key:e,mentionName:e})}).reduce(function(e,n,r,o){return 0===r?[n]:r===o.length-1?[].concat((0,i.default)(e),[t(r),n]):[].concat((0,i.default)(e),[a(r),n])},[]))}return""}},{key:"render",value:function(){var e=this.props,t=e.channel,a=e.usernames,n=void 0,r=void 0;t.type===M.Constants.PRIVATE_CHANNEL?(n="post_body.check_for_out_of_channel_mentions.link.private",r="add them to this private channel"):t.type===M.Constants.OPEN_CHANNEL&&(n="post_body.check_for_out_of_channel_mentions.link.public",r="add them to the channel");var i=void 0,o=void 0;1===a.length?(i="post_body.check_for_out_of_channel_mentions.message.one",o="was mentioned but is not in the channel. Would you like to "):a.length>1&&(i="post_body.check_for_out_of_channel_mentions.message.multiple",o="were mentioned but they are not in the channel. Would you like to ");var s=this.generateAtMentions(a);return _.default.createElement("p",null,s," ",_.default.createElement(y.FormattedMessage,{id:i,defaultMessage:o}),_.default.createElement("a",{id:"add_channel_member_link",onClick:this.handleAddChannelMember},_.default.createElement(y.FormattedMessage,{id:n,defaultMessage:r})),_.default.createElement(y.FormattedMessage,{id:"post_body.check_for_out_of_channel_mentions.message_last",defaultMessage:"? They will have access to all message history."}))}}]),t}(_.default.PureComponent);P.propTypes={currentUser:v.default.object.isRequired,team:v.default.object.isRequired,channel:v.default.object.isRequired,postId:v.default.string.isRequired,userIds:v.default.array.isRequired,usernames:v.default.array.isRequired,actions:v.default.shape({addChannelMember:v.default.func.isRequired,getPost:v.default.func.isRequired,removePost:v.default.func.isRequired}).isRequired},t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(55),s=n(o),l=a(70),u=n(l),d=a(88),c=n(d),f=a(34),p=n(f),h=a(30),m=n(h),g=a(31),v=n(g),b=a(35),_=n(b),y=a(36),E=n(y),w=a(0),C=n(w),x=a(214),M=a(1261),S=n(M),k=a(168),T=a(49),P=n(T),N=a(42),O=n(N),I=a(12),R=a(47),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(R),L=a(1183),D=n(L),F=a(1167),U=n(F),j=function(e){function t(){return(0,m.default)(this,t),(0,_.default)(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props.isSelection,t=this.props.item,a=void 0,n=void 0,r=void 0;"all"===t.username?(a="all",n=C.default.createElement(x.FormattedMessage,{id:"suggestion.mention.all",defaultMessage:"CAUTION: This mentions everyone in channel"}),r=C.default.createElement("i",{className:"mention__image fa fa-users fa-2x"})):"channel"===t.username?(a="channel",n=C.default.createElement(x.FormattedMessage,{id:"suggestion.mention.channel",defaultMessage:"Notifies everyone in the channel"}),r=C.default.createElement("i",{className:"mention__image fa fa-users fa-2x"})):"here"===t.username?(a="here",n=C.default.createElement(x.FormattedMessage,{id:"suggestion.mention.here",defaultMessage:"Notifies everyone in the channel and online"}),r=C.default.createElement("i",{className:"mention__image fa fa-users fa-2x"})):(a=t.username,(t.first_name||t.last_name)&&t.nickname?n="- "+A.getFullName(t)+" ("+t.nickname+")":t.nickname?n="- ("+t.nickname+")":(t.first_name||t.last_name)&&(n="- "+A.getFullName(t)),r=C.default.createElement("img",{className:"mention__image",src:A.imageURLForUser(t)}));var i="mentions__name";return e&&(i+=" suggestion--selected"),C.default.createElement("div",{className:i,onClick:this.handleClick},C.default.createElement("div",{className:"pull-left"},r),C.default.createElement("div",{className:"pull-left mention--align"},C.default.createElement("span",null,"@"+a),C.default.createElement("span",{className:"mention__fullname"}," ",n)))}}]),t}(U.default),H=function(e){function t(e){(0,m.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,p.default)(t)).call(this));return a.channelId=e,a}return(0,E.default)(t,e),(0,v.default)(t,[{key:"handlePretextChanged",value:function(e,t){var a=this,n=S.default.cache("(?:^|\\W)@([\\pL\\d\\-_.]*)$","i").exec(t.toLowerCase());if(!n)return!1;var r=n[1];return this.startNewRequest(e,r),(0,k.autocompleteUsersInChannel)(r,this.channelId,function(o){if(!a.shouldCancelDispatch(r)){var l=(0,c.default)([],o.users),d=!0,f=!1,p=void 0;try{for(var h,m=(0,u.default)((0,s.default)(l));!(d=(h=m.next()).done);d=!0){var g=h.value;l[g]=(0,i.default)({},l[g],{type:I.Constants.MENTION_MEMBERS})}}catch(e){f=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw p}}var v=o.out_of_channel||[],b=!0,_=!1,y=void 0;try{for(var E,w=(0,u.default)((0,s.default)(v));!(b=(E=w.next()).done);b=!0){var C=E.value;v[C]=(0,i.default)({},v[C],{type:I.Constants.MENTION_NONMEMBERS})}}catch(e){_=!0,y=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw y}}var x=[];t.startsWith("/msg")||(x=["here","channel","all"].filter(function(e){return e.startsWith(r)}).map(function(e){return{username:e,type:I.Constants.MENTION_SPECIAL}}));var M=l.concat(x).concat(v),S=O.default.getCurrentUser();M=M.filter(function(e){return e.id!==S.id});var k=M.map(function(e){return"@"+e.username});P.default.handleServerAction({type:I.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:e,matchedPretext:"@"+n[1],terms:k,items:M,component:j})}}),!0}}]),t}(D.default);t.default=H},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(172),v=a(49),b=n(v),_=a(48),y=n(_),E=a(1222),w=n(E),C=a(12),x=a(304),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(1183),k=n(S),T=a(1167),P=n(T),N=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.isSelection,t=this.props.item,a=t.channel.display_name,n=t.channel.purpose,r="mentions__name";e&&(r+=" suggestion--selected");var i="(~"+t.channel.name+")";return m.default.createElement("div",{className:r,onClick:this.handleClick},m.default.createElement("div",{className:"mention__align"},m.default.createElement("span",null,a),m.default.createElement("span",{className:"mention__channelname"}," ",i)),m.default.createElement("div",{className:"mention__purpose"},n))}}]),t}(P.default),O=function(e){function t(){(0,s.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.lastPrefixWithNoResults="",e.lastCompletedWord="",e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"handlePretextChanged",value:function(e,t){var a=this,n=/(^|\s)(~([^~\r\n]*))$/i.exec(t.toLowerCase());if(!n)return!1;var r=n[3];if(this.lastPrefixWithNoResults&&r.startsWith(this.lastPrefixWithNoResults))return!1;if(this.lastCompletedWord&&n[0].startsWith(this.lastCompletedWord))return!1;this.lastCompletedWord="",this.startNewRequest(e,r),w.default.clearSuggestions(e);var i=r.toLowerCase().split(/\s+/),o={},s=[];y.default.getAll().forEach(function(e){if(!("O"!==e.type||e.delete_at>0)){for(var t=e.name.toLowerCase().split(/\s+/).concat(e.display_name.toLowerCase().split(/\s+/)),a=!0,n=0;a&&n<i.length;n++)if(i[n]){for(var r=!1,l=0;l<t.length;l++)if(t[l].startsWith(i[n])){r=!0;break}if(!r){a=!1;break}}a&&(o[e.id]=!0,s.push({type:C.Constants.MENTION_CHANNELS,channel:e}))}}),s=s.sort(function(e,t){return M.sortChannelsByDisplayName(e.channel,t.channel)});var l=s.map(function(e){return"~"+e.channel.name});return l.length>0&&w.default.addSuggestions(e,l,s,N,n[2]),w.default.addSuggestions(e,[""],[{type:C.Constants.MENTION_MORE_CHANNELS,loading:!0}],N,n[2]),(0,g.autocompleteChannels)(r,function(t){if(!a.shouldCancelDispatch(r)){0===t.length&&(a.lastPrefixWithNoResults=r);var i=[],l=[];t.forEach(function(e){if(y.default.get(e.id))return void(o[e.id]||(o[e.id]=!0,s.push({type:C.Constants.MENTION_CHANNELS,channel:e})));i.push({type:C.Constants.MENTION_MORE_CHANNELS,channel:e}),l.push(e)}),s=s.sort(function(e,t){return M.sortChannelsByDisplayName(e.channel,t.channel)});var u=s.concat(i),d=u.map(function(e){return"~"+e.channel.name});b.default.handleServerAction({type:C.ActionTypes.RECEIVED_MORE_CHANNELS,channels:l}),b.default.handleServerAction({type:C.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:e,matchedPretext:n[2],terms:d,items:u,component:N})}}),!0}},{key:"handleCompleteWord",value:function(e){this.lastCompletedWord=e,this.lastPrefixWithNoResults=""}}]),t}(k.default);t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(1328),v=a(1167),b=n(v),_=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSelection,n="command";return a&&(n+=" suggestion--selected"),m.default.createElement("div",{className:n,onClick:this.handleClick},m.default.createElement("div",{className:"command__title"},m.default.createElement("string",null,t.suggestion," ",t.hint)),m.default.createElement("div",{className:"command__desc"},t.description))}}]),t}(b.default),y=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"handlePretextChanged",value:function(e,t){return!!t.startsWith("/")&&((0,g.getSuggestedCommands)(t.toLowerCase(),e,_,t.toLowerCase()),!0)}}]),e}();t.default=y},function(e,t,a){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function a(){this.off(e,a),t.apply(this,arguments)}return a.fn=t,this.on(e,a),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),a=this._callbacks["$"+e];if(a){a=a.slice(0);for(var n=0,r=a.length;n<r;++n)a[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,a){"use strict";function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}var i=a(1330);e.exports=n,n.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(e){return this._parser=e,this},n.prototype.responseType=function(e){return this._responseType=e,this},n.prototype.serialize=function(e){return this._serializer=e,this},n.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},n.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];n.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var a=this._retryCallback(e,t);if(!0===a)return!0;if(!1===a)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(e,t){if(!this._fullfilledPromise){var a=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){a.end(function(a,n){a?t(a):e(n)})})}return this._fullfilledPromise.then(e,t)},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype.use=function(e){return e(this),this},n.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},n.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},n.prototype.get=function(e){return this._header[e.toLowerCase()]},n.prototype.getHeader=n.prototype.get,n.prototype.set=function(e,t){if(i(e)){for(var a in e)this.set(a,e[a]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var a in e)this.field(a,e[a]);return this}if(Array.isArray(t)){for(var n in t)this.field(e,t[n]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},n.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype._auth=function(e,t,a,n){switch(a.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},n.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},n.prototype.redirects=function(e){return this._maxRedirects=e,this},n.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(e){var t=i(e),a=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(a||this.type("form"),a=this._header["content-type"],this._data="application/x-www-form-urlencoded"==a?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(a||this.type("json"),this)},n.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},n.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var a=this.url.substring(t+1).split("&");"function"==typeof this._sort?a.sort(this._sort):a.sort(),this.url=this.url.substring(0,t)+"?"+a.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(e,t,a){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=a,this.timedout=!0,this.abort(),this.callback(n)}},n.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,a){"use strict";function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}var i=a(1715);e.exports=n,n.prototype.get=function(e){return this.header[e.toLowerCase()]},n.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var a=i.params(t);for(var n in a)this[n]=a[n];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},n.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t,a){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var a=t.split(/ *= */),n=a.shift(),r=a.shift();return n&&r&&(e[n]=r),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var a=t.split(/ *; */),n=a[0].slice(1,-1);return e[a[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function a(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){a.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),a.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(177),i=n(r),o=a(55),s=n(o),l=a(70),u=n(l),d=a(34),c=n(d),f=a(30),p=n(f),h=a(31),m=n(h),g=a(35),v=n(g),b=a(36),_=n(b),y=a(0),E=n(y),w=a(176),C=a(306),x=n(C),M=a(40),S=n(M),k=a(1222),T=n(k),P=a(472),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(P),O=a(1167),I=n(O),R=["skintone"],A=function(e){function t(){return(0,p.default)(this,t),(0,v.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.term,t=this.props.item.emoji,a="emoticon-suggestion";return this.props.isSelection&&(a+=" suggestion--selected"),E.default.createElement("div",{className:a,onClick:this.handleClick},E.default.createElement("div",{className:"pull-left"},E.default.createElement("img",{alt:e,className:"emoticon-suggestion__image",src:x.default.getEmojiImageUrl(t),title:e})),E.default.createElement("div",{className:"pull-left"},e))}}]),t}(I.default),L=function(){function e(){(0,p.default)(this,e)}return(0,m.default)(e,[{key:"handlePretextChanged",value:function(e,t){var a=!1,n=/(^|\s|^\+|^-)(:([^:\s]*))$/g.exec(t);if(n){var r=n[1],o=n[2],l=n[3];if(l.length<2)return T.default.clearSuggestions(e),!1;if("-"!==r&&"+"!==r){var d=!0,c=!1,f=void 0;try{for(var p,h=(0,u.default)((0,s.default)(N.emoticonPatterns));!(d=(p=h.next()).done);d=!0){var m=p.value;if(N.emoticonPatterns[m].test(o))return!1}}catch(e){c=!0,f=e}finally{try{!d&&h.return&&h.return()}finally{if(c)throw f}}}var g=[],v=!0,b=!1,_=void 0;try{for(var y,E=(0,u.default)(new C.EmojiMap((0,w.getCustomEmojisByName)(S.default.getState())));!(v=(y=E.next()).done);v=!0){var x=(0,i.default)(y.value,2),M=x[0],k=x[1];if(k.aliases){var P=!0,O=!1,I=void 0;try{for(var L,D=(0,u.default)(k.aliases);!(P=(L=D.next()).done);P=!0){var F=L.value;if(!R.includes(k.category)&&-1!==F.indexOf(l)){g.push({name:F,emoji:k});break}}}catch(e){O=!0,I=e}finally{try{!P&&D.return&&D.return()}finally{if(O)throw I}}}else-1!==M.indexOf(l)&&g.push({name:M,emoji:k})}}catch(e){b=!0,_=e}finally{try{!v&&E.return&&E.return()}finally{if(b)throw _}}g.sort(function(e,t){var a=e.name,n=t.name,r=a.startsWith(l);return r===n.startsWith(l)?a.localeCompare(n):r?-1:1});var U=g.map(function(e){return":"+e.name+":"});T.default.clearSuggestions(e),U.length>0&&(T.default.addSuggestions(e,U,g,A,o),a=!0)}return!!a&&(T.default.clearSelection(e),!0)}}]),e}();t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,l.getCurrentTeam)(e)||{},n=(0,u.getSiteURL)()+"/"+a.name;return(0,o.default)({},t,{currentTeamUrl:n})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(170),u=a(143),d=a(1719),c=n(d);t.default=(0,s.connect)(r)(c.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(27),v=n(g),b=a(1155),_=n(b),y=a(12),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(1264),M=n(x),S=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleToggle=a.handleToggle.bind(a),a.hide=a.hide.bind(a),a.state={show:!1,post:{}},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){_.default.addModalListener(E.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL,this.handleToggle)}},{key:"componentWillUnmount",value:function(){_.default.removeModalListener(E.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL,this.handleToggle)}},{key:"handleToggle",value:function(e,t){this.setState({show:e,post:t.post})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this.props.currentTeamUrl+"/pl/"+this.state.post.id;return m.default.createElement(M.default,{show:this.state.show,onHide:this.hide,title:C.localizeMessage("get_post_link_modal.title","Copy Permalink"),helpText:C.localizeMessage("get_post_link_modal.help","The link below allows authorized users to see your post."),link:e})}}]),t}(m.default.PureComponent);S.propTypes={currentTeamUrl:v.default.string.isRequired},t.default=S},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{currentTeam:(0,l.getCurrentTeam)(e),config:(0,u.getConfig)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(170),u=a(122),d=a(1721),c=n(d);t.default=(0,s.connect)(r)(c.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(27),v=n(g),b=a(1155),_=n(b),y=a(12),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(143),M=a(1264),S=n(M),k=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleToggle=function(e){a.setState({show:e})},a.onHide=function(){a.handleToggle(!1)},a.state={show:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){_.default.addModalListener(E.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL,this.handleToggle)}},{key:"componentWillUnmount",value:function(){_.default.removeModalListener(E.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL,this.handleToggle)}},{key:"render",value:function(){var e=(0,x.getSiteURL)()+"/signup_user_complete/?id="+this.props.currentTeam.invite_id,t=void 0;return t="true"===this.props.config.EnableUserCreation?C.localizeMessage("get_team_invite_link_modal.help","Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it's regenerated in Team Settings by a Team Admin."):C.localizeMessage("get_team_invite_link_modal.helpDisabled","User creation has been disabled for your team. Please ask your team administrator for details."),m.default.createElement(S.default,{show:this.state.show,onHide:this.onHide,title:C.localizeMessage("get_team_invite_link_modal.title","Team Invite Link"),helpText:t,link:e})}}]),t}(m.default.PureComponent);k.propTypes={currentTeam:v.default.object.isRequired,config:v.default.object.isRequired},k.defaultProps={currentTeam:{}},t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{link:f.getFilePublicLink(e).link})}function i(e){return{actions:(0,u.bindActionCreators)({getFilePublicLink:d.getFilePublicLink},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(1265),c=a(1266),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(c),p=a(1723),h=n(p);t.default=(0,l.connect)(r,i)(h.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(27),v=n(g),b=a(1155),_=n(b),y=a(12),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(1264),M=n(x),S=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleToggle=function(e,t){a.setState({show:e,fileId:t.fileId})},a.onHide=function(){a.setState({show:!1})},a.state={show:!1,fileId:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillUnmount",value:function(){_.default.removeModalListener(E.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}},{key:"componentDidMount",value:function(){_.default.addModalListener(E.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}},{key:"componentDidUpdate",value:function(e,t){this.state.show&&!t.show&&this.props.actions.getFilePublicLink(this.state.fileId)}},{key:"render",value:function(){return m.default.createElement(M.default,{show:this.state.show,onHide:this.onHide,title:C.localizeMessage("get_public_link_modal.title","Copy Public Link"),helpText:C.localizeMessage("get_public_link_modal.help","The link below allows anyone to see this file without being registered on this server."),link:this.props.link})}}]),t}(m.default.PureComponent);S.propTypes={link:v.default.string,actions:v.default.shape({getFilePublicLink:v.default.func.isRequired}).isRequired},S.defaultProps={link:""},t.default=S},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(0),g=r(m),v=a(215),b=a(39),_=r(b),y=a(214),E=a(142),w=n(E),C=a(1147),x=a(48),M=r(x),S=a(1155),k=r(S),T=a(59),P=r(T),N=a(42),O=r(N),I=a(12),R=r(I),A=a(47),L=n(A),D=a(1144),F=r(D),U=R.default.ActionTypes,j=(0,y.defineMessages)({emailError:{id:"invite_member.emailError",defaultMessage:"Please enter a valid email address"},firstname:{id:"invite_member.firstname",defaultMessage:"First name"},lastname:{id:"invite_member.lastname",defaultMessage:"Last name"},modalTitle:{id:"invite_member.modalTitle",defaultMessage:"Discard Invitations?"},modalMessage:{id:"invite_member.modalMessage",defaultMessage:"You have unsent invitations, are you sure you want to discard them?"},modalButton:{id:"invite_member.modalButton",defaultMessage:"Yes, Discard"}}),H=function(t){function a(t){(0,l.default)(this,a);var n=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,t));n.hideConfirmModal=function(){n.setState({showConfirmModal:!1})},n.teamChange=n.teamChange.bind(n),n.handleToggle=n.handleToggle.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleHide=n.handleHide.bind(n),n.addInviteFields=n.addInviteFields.bind(n),n.clearFields=n.clearFields.bind(n),n.removeInviteFields=n.removeInviteFields.bind(n),n.showGetTeamInviteLinkModal=n.showGetTeamInviteLinkModal.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n);var r=P.default.getCurrent();return n.state={show:!1,inviteIds:[0],idCount:0,emailErrors:{},firstNameErrors:{},lastNameErrors:{},emailEnabled:"true"===e.window.mm_config.SendEmailNotifications,userCreationEnabled:"true"===e.window.mm_config.EnableUserCreation,showConfirmModal:!1,isSendingEmails:!1,teamType:r?r.type:null},n}return(0,h.default)(a,t),(0,d.default)(a,[{key:"teamChange",value:function(){var e=P.default.getCurrent(),t=e?e.type:null;this.setState({teamType:t})}},{key:"componentDidMount",value:function(){k.default.addModalListener(U.TOGGLE_INVITE_MEMBER_MODAL,this.handleToggle),P.default.addChangeListener(this.teamChange)}},{key:"componentWillUnmount",value:function(){k.default.removeModalListener(U.TOGGLE_INVITE_MEMBER_MODAL,this.handleToggle),P.default.removeChangeListener(this.teamChange)}},{key:"handleToggle",value:function(e){this.setState({show:e,serverError:null})}},{key:"handleSubmit",value:function(){var e=this;if(this.state.emailEnabled){for(var t=this.state.inviteIds,a=t.length,n=[],r=this.state.emailErrors,i=this.state.firstNameErrors,o=this.state.lastNameErrors,s=!0,l=0;l<a;l++){var u={},d=t[l];u.email=_.default.findDOMNode(this.refs["email"+d]).value.trim(),u.firstName=_.default.findDOMNode(this.refs["first_name"+d]).value.trim(),u.lastName=_.default.findDOMNode(this.refs["last_name"+d]).value.trim(),""===u.email&&0!==d||(u.email&&L.isEmail(u.email)?r[d]="":(r[d]=this.props.intl.formatMessage(j.emailError),s=!1),n.push(u))}if(this.setState({emailErrors:r,firstNameErrors:i,lastNameErrors:o}),s&&0!==n.length){var c={};c.invites=n,this.setState({isSendingEmails:!0}),(0,C.inviteMembers)(c,function(){e.handleHide(!1),e.setState({isSendingEmails:!1})},function(t){"api.team.invite_members.already.app_error"===t.id?(r[t.detailed_error]=t.message,e.setState({emailErrors:r})):e.setState({serverError:t.message}),e.setState({isSendingEmails:!1})})}}}},{key:"handleHide",value:function(e){if(e){for(var t=!1,a=0;a<this.state.inviteIds.length;a++){var n=this.state.inviteIds[a];if(""!==_.default.findDOMNode(this.refs["email"+n]).value.trim()){t=!0;break}}if(t)return void this.setState({showConfirmModal:!0})}this.clearFields(),this.setState({show:!1,showConfirmModal:!1})}},{key:"addInviteFields",value:function(){var e=this.state.idCount+1,t=this.state.inviteIds;t.push(e),this.setState({inviteIds:t,idCount:e})}},{key:"clearFields",value:function(){for(var e=this.state.inviteIds,t=0;t<e.length;t++){var a=e[t];_.default.findDOMNode(this.refs["email"+a]).value="",_.default.findDOMNode(this.refs["first_name"+a]).value="",_.default.findDOMNode(this.refs["last_name"+a]).value=""}this.setState({inviteIds:[0],idCount:0,emailErrors:{},firstNameErrors:{},lastNameErrors:{}})}},{key:"removeInviteFields",value:function(e){var t=this.state.idCount,a=this.state.inviteIds,n=a.indexOf(e);n>-1&&a.splice(n,1),a.length||a.push(++t),this.setState({inviteIds:a,idCount:t})}},{key:"showGetTeamInviteLinkModal",value:function(){this.handleHide(!1),w.showGetTeamInviteLinkModal()}},{key:"handleKeyDown",value:function(e){e.keyCode===R.default.KeyCodes.ENTER&&(e.preventDefault(),this.handleSubmit())}},{key:"render",value:function(){var e=O.default.getCurrentUser(),t=this.props.intl.formatMessage;if(null!=e&&null!=this.state.teamType){for(var a=[],n=this.state.inviteIds,r=0;r<n.length;r++){var i=n[r],o=null;this.state.emailErrors[i]&&(o=g.default.createElement("label",{className:"control-label"},this.state.emailErrors[i]));var s=null;this.state.firstNameErrors[i]&&(s=g.default.createElement("label",{className:"control-label"},this.state.firstNameErrors[i]));var l=null;this.state.lastNameErrors[i]&&(l=g.default.createElement("label",{className:"control-label"},this.state.lastNameErrors[i]));var u=null;i&&(u=g.default.createElement("div",null,g.default.createElement("button",{type:"button",className:"btn btn-link remove__member",onClick:this.removeInviteFields.bind(this,i)},g.default.createElement("span",{className:"fa fa-trash"}))));var d="form-group invite";o&&(d+=" has-error");var c=null,f="form-group";s&&(f+=" has-error");var p="form-group";l&&(p+=" has-error"),c=g.default.createElement("div",{className:"row row--invite"},g.default.createElement("div",{className:"col-sm-6"},g.default.createElement("div",{className:f},g.default.createElement("input",{onKeyDown:this.handleKeyDown,type:"text",className:"form-control",ref:"first_name"+i,placeholder:t(j.firstname),maxLength:"64",disabled:!this.state.emailEnabled||!this.state.userCreationEnabled,spellCheck:"false"}),s)),g.default.createElement("div",{className:"col-sm-6"},g.default.createElement("div",{className:p},g.default.createElement("input",{onKeyDown:this.handleKeyDown,type:"text",className:"form-control",ref:"last_name"+i,placeholder:t(j.lastname),maxLength:"64",disabled:!this.state.emailEnabled||!this.state.userCreationEnabled,spellCheck:"false"}),l))),a[i]=g.default.createElement("div",{key:"key"+i},u,g.default.createElement("div",{className:d},g.default.createElement("input",{onKeyUp:this.displayNameKeyUp,onKeyDown:this.handleKeyDown,type:"text",ref:"email"+i,className:"form-control",placeholder:"email@domain.com",maxLength:"64",disabled:!this.state.emailEnabled||!this.state.userCreationEnabled,spellCheck:"false",autoFocus:!0}),o),c)}var h=null;this.state.serverError&&(h=g.default.createElement("div",{className:"form-group has-error"},g.default.createElement("label",{className:"control-label"},this.state.serverError)));var m=null,b=null,_="";if(M.default.getByName(R.default.DEFAULT_CHANNEL)&&(_=M.default.getByName(R.default.DEFAULT_CHANNEL).display_name),this.state.emailEnabled&&this.state.userCreationEnabled){m=g.default.createElement("div",null,h,g.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.addInviteFields},g.default.createElement(y.FormattedMessage,{id:"invite_member.addAnother",defaultMessage:"Add another"})),g.default.createElement("br",null),g.default.createElement("br",null),g.default.createElement("span",null,g.default.createElement(y.FormattedHTMLMessage,{id:"invite_member.autoJoin",defaultMessage:"People invited automatically join the <strong>{channel}</strong> channel.",values:{channel:_}})));var E=g.default.createElement(y.FormattedMessage,{id:"invite_member.send",defaultMessage:"Send Invitation"});this.state.isSendingEmails?E=g.default.createElement("span",null,g.default.createElement("i",{className:"fa fa-spinner fa-spin"}),g.default.createElement(y.FormattedMessage,{id:"invite_member.sending",defaultMessage:" Sending"})):this.state.inviteIds.length>1&&(E=g.default.createElement(y.FormattedMessage,{id:"invite_member.send2",defaultMessage:"Send Invitations"})),b=g.default.createElement("button",{onClick:this.handleSubmit,type:"button",className:"btn btn-primary",disabled:this.state.isSendingEmails},E)}else if(this.state.userCreationEnabled){var w=null;if(e&&"O"===this.state.teamType){var C=g.default.createElement("button",{className:"color--link style--none",onClick:this.showGetTeamInviteLinkModal},g.default.createElement(y.FormattedMessage,{id:"invite_member.inviteLink",defaultMessage:"Team Invite Link"}));w=g.default.createElement("p",null,g.default.createElement(y.FormattedMessage,{id:"invite_member.teamInviteLink",defaultMessage:"You can also invite people using the {link}.",values:{link:C}}))}m=g.default.createElement("div",null,g.default.createElement("p",null,g.default.createElement(y.FormattedMessage,{id:"invite_member.content",defaultMessage:"Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations."})),w)}else m=g.default.createElement("div",null,g.default.createElement("p",null,g.default.createElement(y.FormattedMessage,{id:"invite_member.disabled",defaultMessage:"User creation has been disabled for your team. Please ask your Team Administrator for details."})));return g.default.createElement("div",null,g.default.createElement(v.Modal,{dialogClassName:"modal-invite-member",show:this.state.show,onHide:this.handleHide.bind(this,!0),enforceFocus:!this.state.showConfirmModal,backdrop:!this.state.isSendingEmails||"static"},g.default.createElement(v.Modal.Header,{closeButton:!this.state.isSendingEmails},g.default.createElement(v.Modal.Title,null,g.default.createElement(y.FormattedMessage,{id:"invite_member.newMember",defaultMessage:"Send Email Invite"}))),g.default.createElement(v.Modal.Body,{ref:"modalBody"},g.default.createElement("form",{role:"form"},a),m),g.default.createElement(v.Modal.Footer,null,g.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleHide.bind(this,!0),disabled:this.state.isSendingEmails},g.default.createElement(y.FormattedMessage,{id:"invite_member.cancel",defaultMessage:"Cancel"})),b)),g.default.createElement(F.default,{title:t(j.modalTitle),message:t(j.modalMessage),confirmButtonText:t(j.modalButton),show:this.state.showConfirmModal,onConfirm:this.handleHide.bind(this,!1),onCancel:this.hideConfirmModal}))}return null}}]),a}(g.default.Component);H.propTypes={intl:y.intlShape.isRequired},t.default=(0,y.injectIntl)(H)}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(215),v=a(214),b=a(142),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),y=a(1155),E=n(y),w=a(42),C=n(w),x=a(461),M=n(x),S=a(12),k=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleToggle=a.handleToggle.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleHide=a.handleHide.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a),a.state={show:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){E.default.addModalListener(S.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL,this.handleToggle),document.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){E.default.removeModalListener(S.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL,this.handleToggle),document.removeEventListener("keypress",this.handleKeyPress)}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.state.show&&this.handleSubmit(e)}},{key:"handleToggle",value:function(e){this.setState({show:e})}},{key:"handleSubmit",value:function(e){if(this.setState({show:!1}),M.default.isBusy())return M.default.emitChanged({action:S.WebrtcActionTypes.IN_PROGRESS}),void e.preventDefault();_.emitLeaveTeam(),_.toggleSideBarRightMenuAction()}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){return null!=C.default.getCurrentUser()?m.default.createElement(g.Modal,{className:"modal-confirm",show:this.state.show,onHide:this.handleHide},m.default.createElement(g.Modal.Header,{closeButton:!1},m.default.createElement(g.Modal.Title,null,m.default.createElement(v.FormattedMessage,{id:"leave_team_modal.title",defaultMessage:"Leave the team?"}))),m.default.createElement(g.Modal.Body,null,m.default.createElement(v.FormattedMessage,{id:"leave_team_modal.desc",defaultMessage:"You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?"})),m.default.createElement(g.Modal.Footer,null,m.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleHide},m.default.createElement(v.FormattedMessage,{id:"leave_team_modal.no",defaultMessage:"No"})),m.default.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.handleSubmit},m.default.createElement(v.FormattedMessage,{id:"leave_team_modal.yes",defaultMessage:"Yes"})))):null}}]),t}(m.default.Component);k.propTypes={intl:v.intlShape.isRequired},t.default=(0,v.injectIntl)(k)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(214),v=a(172),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(v),_=a(1155),y=n(_),E=a(12),w=n(E),C=a(1144),x=n(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleToggle=a.handleToggle.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleHide=a.handleHide.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a),a.state={show:!1,channel:null},a.mounted=!1,a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,y.default.addModalListener(w.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,y.default.removeModalListener(w.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.state.show&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this.state.channel.id;this.setState({show:!1,channel:null}),b.leaveChannel(e)}},{key:"handleToggle",value:function(e){this.setState({channel:e,show:null!==e})}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e="",t="";this.state.channel&&(e=m.default.createElement(g.FormattedMessage,{id:"leave_private_channel_modal.title",defaultMessage:"Leave Private Channel {channel}",values:{channel:m.default.createElement("b",null,this.state.channel.display_name)}}),t=m.default.createElement(g.FormattedMessage,{id:"leave_private_channel_modal.message",defaultMessage:"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.",values:{channel:m.default.createElement("b",null,this.state.channel.display_name)}}));var a=m.default.createElement(g.FormattedMessage,{id:"leave_private_channel_modal.leave",defaultMessage:"Yes, leave channel"});return m.default.createElement(x.default,{show:this.state.show,title:e,message:t,confirmButtonClass:"btn btn-danger",confirmButtonText:a,onConfirm:this.handleSubmit,onCancel:this.handleHide})}}]),t}(m.default.Component);M.propTypes={intl:g.intlShape.isRequired},t.default=(0,g.injectIntl)(M)},function(e,t,a){"use strict";function n(e){return{isPinnedPosts:(0,l.getRhsState)(e)===u.RHSStates.PIN}}function r(e){return{actions:(0,o.bindActionCreators)({closeRightHandSide:s.closeRightHandSide,updateRhsState:s.updateRhsState,showPinnedPosts:s.showPinnedPosts},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(305),l=a(307),u=a(12),d=a(1728),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(167),b=r(v),_=a(27),y=r(_),E=a(0),w=r(E),C=a(214),x=a(457),M=a(1267),S=r(M),k=a(1331),T=r(k),P=a(172),N=n(P),O=a(142),I=n(O),R=a(312),A=n(R),L=a(49),D=r(L),F=a(48),U=r(F),j=a(1155),H=r(j),B=a(120),q=r(B),z=a(59),G=r(z),W=a(42),V=r(W),$=a(461),K=r($),Y=a(304),X=n(Y),Z=a(12),J=a(47),Q=n(J),ee=a(1332),te=r(ee),ae=a(1225),ne=r(ae),re=a(1271),ie=r(re),oe=a(1336),se=r(oe),le=a(1339),ue=r(le),de=a(1765),ce=r(de),fe=a(1766),pe=r(fe),he=a(1340),me=r(he),ge=a(1204),ve=r(ge),be=a(1272),_e=r(be),ye=a(1341),Ee=r(ye),we=a(1226),Ce=r(we),xe=a(1342),Me=r(xe),Se=a(464),ke=r(Se),Te=a(1772),Pe=r(Te),Ne=function(t){function a(e){(0,d.default)(this,a);var t=(0,h.default)(this,(a.__proto__||(0,l.default)(a)).call(this,e));return t.getStateFromStores=function(){var e=U.default.getCurrent(),t=null;return e&&"D"===e.type&&(t=Q.getUserIdFromChannelName(e)),{channel:e,member:U.default.getCurrentMember(),users:[],userCount:U.default.getCurrentStats().member_count,currentUser:V.default.getCurrentUser(),isFavorite:e&&X.isFavoriteChannel(e),contactId:t,isBusy:K.default.isBusy()}},t.isStateValid=function(){return t.state.channel&&t.state.member&&t.state.users&&t.state.currentUser},t.handleLeave=function(){t.state.channel.type===Z.Constants.PRIVATE_CHANNEL?I.showLeavePrivateChannelModal(t.state.channel):N.leaveChannel(t.state.channel.id)},t.hideSidebars=function(e){(0,b.default)(window).outerWidth()<=768&&(t.props.actions.closeRightHandSide(),"navbar-toggle"!==e.target.className&&"icon-bar"!==e.target.className&&((0,b.default)(".app__body .inner-wrap").removeClass("move--right move--left move--left-small"),(0,b.default)(".app__body .sidebar--left").removeClass("move--right"),(0,b.default)(".multi-teams .team-sidebar").removeClass("move--right"),(0,b.default)(".app__body .sidebar--right").removeClass("move--left"),(0,b.default)(".app__body .sidebar--menu").removeClass("move--left")))},t.toggleLeftSidebar=function(){(0,b.default)(".app__body .inner-wrap").toggleClass("move--right"),(0,b.default)(".app__body .sidebar--left").toggleClass("move--right"),(0,b.default)(".multi-teams .team-sidebar").toggleClass("move--right")},t.toggleRightSidebar=function(){(0,b.default)(".app__body .inner-wrap").toggleClass("move--left-small"),(0,b.default)(".app__body .sidebar--menu").toggleClass("move--left")},t.showSearch=function(){t.props.actions.updateRhsState(Z.RHSStates.SEARCH)},t.onChange=function(){t.setState(t.getStateFromStores())},t.showEditChannelHeaderModal=function(){t.setState({showEditChannelHeaderModal:!0})},t.hideEditChannelHeaderModal=function(){t.setState({showEditChannelHeaderModal:!1})},t.showChannelNotificationsModal=function(e){e.preventDefault(),t.setState({showChannelNotificationsModal:!0})},t.hideChannelNotificationsModal=function(){t.setState({showChannelNotificationsModal:!1})},t.showChannelPurposeModal=function(){t.setState({showEditChannelPurposeModal:!0})},t.hideChannelPurposeModal=function(){t.setState({showEditChannelPurposeModal:!1})},t.showRenameChannelModal=function(){t.setState({showRenameChannelModal:!0})},t.hideRenameChannelModal=function(){t.setState({showRenameChannelModal:!1})},t.showMembersModal=function(e){e.preventDefault(),t.setState({showMembersModal:!0})},t.hideMembersModal=function(){t.setState({showMembersModal:!1})},t.handleQuickSwitchKeyPress=function(e){Q.cmdOrCtrlPressed(e)&&!e.shiftKey&&e.keyCode===Z.Constants.KeyCodes.K&&(e.altKey||(e.preventDefault(),t.toggleQuickSwitchModal("channel")))},t.toggleQuickSwitchModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"channel";t.state.showQuickSwitchModal?t.setState({showQuickSwitchModal:!1,quickSwitchMode:"channel"}):t.setState({showQuickSwitchModal:!0,quickSwitchMode:e})},t.hideQuickSwitchModal=function(){t.setState({showQuickSwitchModal:!1,quickSwitchMode:"channel"})},t.openDirectMessageModal=function(){D.default.handleViewAction({type:Z.ActionTypes.TOGGLE_DM_MODAL,value:!0,channelId:t.state.channel.id})},t.getPinnedPosts=function(e){e.preventDefault(),t.props.isPinnedPosts?I.emitCloseRightHandSide():t.props.actions.showPinnedPosts(t.state.channel.id)},t.toggleFavorite=function(e){e.preventDefault(),t.state.isFavorite?N.unmarkFavorite(t.state.channel.id):N.markFavorite(t.state.channel.id)},t.onBusy=function(e){t.setState({isBusy:e})},t.initWebrtc=function(){t.isContactNotAvailable()||(I.emitCloseRightHandSide(),A.initWebrtc(t.state.contactId,!0))},t.hideHeaderOverlay=function(){t.refs.headerOverlay&&t.refs.headerOverlay.hide()},t.createDropdown=function(e,a,n,r,i,o,s){if(e){var l=void 0,u=void 0,d=void 0,c=void 0,f=void 0,p=void 0,h=void 0,m=void 0,g=void 0,v=void 0,b=void 0;o?(p=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showEditChannelHeaderModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.channelHeader",defaultMessage:"Edit Channel Header"}))),u=t.generateWebrtcDropdown()):s?(p=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showEditChannelHeaderModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.channelHeader",defaultMessage:"Edit Channel Header"}))),m=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showChannelNotificationsModal},w.default.createElement(C.FormattedMessage,{id:"navbar.preferences",defaultMessage:"Notification Preferences"}))),c=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.openDirectMessageModal},w.default.createElement(C.FormattedMessage,{id:"navbar.addMembers",defaultMessage:"Add Members"})))):(l=w.default.createElement("li",{role:"presentation"},w.default.createElement(Me.default,{role:"menuitem",modalId:Z.ModalIdentifiers.CHANNEL_INFO,dialogType:te.default,dialogProps:{channel:e}},w.default.createElement(C.FormattedMessage,{id:"navbar.viewInfo",defaultMessage:"View Info"}))),d=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.getPinnedPosts},w.default.createElement(C.FormattedMessage,{id:"navbar.viewPinnedPosts",defaultMessage:"View Pinned Posts"}))),U.default.isDefault(e)?f=w.default.createElement("li",{key:"view_members",role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showMembersModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.viewMembers",defaultMessage:"View Members"}))):(c=w.default.createElement("li",{role:"presentation"},w.default.createElement(Ce.default,{ref:"channelInviteModalButton",role:"menuitem",dialogType:ne.default,dialogProps:{channel:e,currentUser:t.state.currentUser}},w.default.createElement(C.FormattedMessage,{id:"navbar.addMembers",defaultMessage:"Add Members"}))),f=X.canManageMembers(e,i,r,n)?w.default.createElement("li",{key:"manage_members",role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showMembersModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.manageMembers",defaultMessage:"Manage Members"}))):w.default.createElement("li",{key:"view_members",role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showMembersModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.viewMembers",defaultMessage:"View Members"})))),m=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showChannelNotificationsModal},w.default.createElement(C.FormattedMessage,{id:"navbar.preferences",defaultMessage:"Notification Preferences"}))),X.showManagementOptions(e,i,r,n)&&(p=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showEditChannelHeaderModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.setHeader",defaultMessage:"Edit Channel Header"}))),h=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showChannelPurposeModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.setPurpose",defaultMessage:"Edit Channel Purpose"}))),g=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.showRenameChannelModal},w.default.createElement(C.FormattedMessage,{id:"channel_header.rename",defaultMessage:"Rename Channel"})))),X.showDeleteOptionForCurrentUser(e,i,r,n)&&(v=w.default.createElement("li",{role:"presentation"},w.default.createElement(Ce.default,{role:"menuitem",dialogType:ue.default,dialogProps:{channel:e}},w.default.createElement(C.FormattedMessage,{id:"channel_header.delete",defaultMessage:"Delete Channel"})))),U.default.isDefault(e)||(b=w.default.createElement("li",{role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.handleLeave},w.default.createElement(C.FormattedMessage,{id:"channel_header.leave",defaultMessage:"Leave Channel"})))));var _=w.default.createElement("li",{key:"toggle_favorite",role:"presentation"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:t.toggleFavorite},t.state.isFavorite?w.default.createElement(C.FormattedMessage,{id:"channelHeader.removeFromFavorites",defaultMessage:"Remove from Favorites"}):w.default.createElement(C.FormattedMessage,{id:"channelHeader.addToFavorites",defaultMessage:"Add to Favorites"})));return w.default.createElement("div",{className:"navbar-brand"},w.default.createElement("div",{className:"dropdown"},t.generateWebrtcIcon(),w.default.createElement("a",{href:"#",className:"dropdown-toggle theme",type:"button","data-toggle":"dropdown","aria-expanded":"true"},w.default.createElement("span",{className:"heading"},w.default.createElement(ve.default,{status:t.getTeammateStatus()}),a," "),w.default.createElement("span",{className:"fa fa-angle-down header-dropdown__icon"})),w.default.createElement("ul",{className:"dropdown-menu",role:"menu"},l,u,d,m,c,f,p,h,g,v,b,_,w.default.createElement("div",{className:"close visible-xs-block",onClick:t.hideHeaderOverlay},"×"))))}return w.default.createElement("div",{className:"navbar-brand"},w.default.createElement(x.Link,{to:G.default.getCurrentTeamUrl()+"/channels/"+Z.Constants.DEFAULT_CHANNEL,className:"heading"},a))},t.createCollapseButtons=function(e){var a=[];return null==e?a.push(w.default.createElement("button",{key:"navbar-toggle-collapse",type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#navbar-collapse-1"},w.default.createElement("span",{className:"sr-only"},w.default.createElement(C.FormattedMessage,{id:"navbar.toggle1",defaultMessage:"Toggle sidebar"})),w.default.createElement("span",{className:"icon-bar"}),w.default.createElement("span",{className:"icon-bar"}),w.default.createElement("span",{className:"icon-bar"}))):(a.push(w.default.createElement("button",{key:"navbar-toggle-sidebar",type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:t.toggleLeftSidebar},w.default.createElement("span",{className:"sr-only"},w.default.createElement(C.FormattedMessage,{id:"navbar.toggle2",defaultMessage:"Toggle sidebar"})),w.default.createElement(_e.default,{className:"icon icon__menu icon--sidebarHeaderTextColor"}),w.default.createElement(ce.default,null))),a.push(w.default.createElement("button",{key:"navbar-toggle-menu",type:"button",className:"navbar-toggle navbar-right__icon menu-toggle pull-right","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:t.toggleRightSidebar},w.default.createElement(_e.default,null)))),a},t.getTeammateStatus=function(){if("D"===t.state.channel.type){var e=t.state.currentUser.id,a=t.state.users.find(function(t){return t.id!==e});if(a)return V.default.getStatus(a.id)}return null},t.showChannelInviteModalButton=function(){t.refs.channelInviteModalButton&&t.refs.channelInviteModalButton.show()},t.state=(0,o.default)({},t.getStateFromStores(),{showEditChannelPurposeModal:!1,showEditChannelHeaderModal:!1,showMembersModal:!1,showRenameChannelModal:!1,showQuickSwitchModal:!1,showChannelNotificationsModal:!1,quickSwitchMode:"channel"}),t}return(0,g.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){U.default.addChangeListener(this.onChange),U.default.addStatsChangeListener(this.onChange),V.default.addStatusesChangeListener(this.onChange),V.default.addChangeListener(this.onChange),q.default.addChangeListener(this.onChange),H.default.addModalListener(Z.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL,this.toggleQuickSwitchModal),H.default.addModalListener(Z.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL,this.showEditChannelHeaderModal),H.default.addModalListener(Z.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL,this.showChannelPurposeModal),H.default.addModalListener(Z.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,this.showRenameChannelModal),K.default.addChangedListener(this.onChange),K.default.addBusyListener(this.onBusy),document.addEventListener("keydown",this.handleQuickSwitchKeyPress),(0,b.default)(".inner-wrap").on("click",this.hideSidebars)}},{key:"componentWillUnmount",value:function(){U.default.removeChangeListener(this.onChange),U.default.removeStatsChangeListener(this.onChange),V.default.removeStatusesChangeListener(this.onChange),V.default.removeChangeListener(this.onChange),q.default.removeChangeListener(this.onChange),H.default.removeModalListener(Z.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL,this.toggleQuickSwitchModal),H.default.removeModalListener(Z.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL,this.showEditChannelHeaderModal),H.default.removeModalListener(Z.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL,this.showChannelPurposeModal),H.default.removeModalListener(Z.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,this.showRenameChannelModal),K.default.removeChangedListener(this.onChange),K.default.removeBusyListener(this.onBusy),document.removeEventListener("keydown",this.handleQuickSwitchKeyPress),(0,b.default)(".inner-wrap").off("click",this.hideSidebars)}},{key:"isContactNotAvailable",value:function(){var e=V.default.getStatus(this.state.contactId);return e===Z.UserStatuses.OFFLINE||e===Z.UserStatuses.DND||this.state.isBusy}},{key:"isWebrtcEnabled",value:function(){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,a=Z.Constants.PRE_RELEASE_FEATURES;return"true"===e.mm_config.EnableWebrtc&&t&&Q.isFeatureEnabled(a.WEBRTC_PREVIEW)}},{key:"generateWebrtcDropdown",value:function(){if(!this.isWebrtcEnabled())return null;var e="";return this.isContactNotAvailable()&&(e="disable-links"),w.default.createElement("li",{role:"presentation",className:"webrtc__option"},w.default.createElement("a",{role:"menuitem",href:"#",onClick:this.initWebrtc,className:e},w.default.createElement(C.FormattedMessage,{id:"navbar_dropdown.webrtc.call",defaultMessage:"Start Video Call"})))}},{key:"generateWebrtcIcon",value:function(){if(!this.isWebrtcEnabled())return null;var e="";return this.isContactNotAvailable()&&(e="offline"),w.default.createElement("div",{className:"pull-right description navbar-right__icon webrtc__button "+e},w.default.createElement("a",{onClick:this.initWebrtc},"WebRTC"))}},{key:"render",value:function(){if(!this.isStateValid())return null;var e=this.state.currentUser.id,t=this.state.channel,a=this.props.teamDisplayName,n=G.default.isTeamAdminForCurrentTeam(),r=V.default.isSystemAdminForCurrentUser(),i=!1,o=!1,s=!1,l=null,u=null,d=null,c=null,f=null,p=null;if(t){if(i=U.default.isChannelAdminForCurrentChannel(),a=t.display_name,t.type===Z.Constants.DM_CHANNEL){o=!0;var h=Q.getUserIdFromChannelName(t);a=e===h?w.default.createElement(C.FormattedMessage,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you) ",values:{displayname:Q.displayUsername(h)}}):Q.displayUsername(h)}else t.type===Z.Constants.GM_CHANNEL&&(s=!0);this.state.showEditChannelHeaderModal&&(l=w.default.createElement(S.default,{onHide:this.hideEditChannelHeaderModal,channel:t})),this.state.showEditChannelPurposeModal&&(u=w.default.createElement(T.default,{onModalDismissed:this.hideChannelPurposeModal,channel:t})),d=w.default.createElement(me.default,{show:this.state.showRenameChannelModal,onHide:this.hideRenameChannelModal,channel:t}),this.state.showMembersModal&&(c=w.default.createElement(ie.default,{onModalDismissed:this.hideMembersModal,showInviteModal:this.showChannelInviteModalButton,channel:t})),f=w.default.createElement(se.default,{show:this.state.showChannelNotificationsModal,onHide:this.hideChannelNotificationsModal,channel:t,channelMember:this.state.member,currentUser:this.state.currentUser}),p=w.default.createElement(pe.default,{show:this.state.showQuickSwitchModal,onHide:this.hideQuickSwitchModal,initialMode:this.state.quickSwitchMode})}var m=this.createCollapseButtons(e),g=w.default.createElement("button",{type:"button",className:"navbar-toggle navbar-right__icon navbar-search pull-right",onClick:this.showSearch},w.default.createElement(Ee.default,{className:"icon icon__search","aria-hidden":"true"})),v=this.createDropdown(t,a,r,n,i,o,s);return w.default.createElement("div",null,w.default.createElement("nav",{className:"navbar navbar-default navbar-fixed-top",role:"navigation"},w.default.createElement("div",{className:"container-fluid theme"},w.default.createElement("div",{className:"navbar-header"},m,g,w.default.createElement(Pe.default,{ref:"headerOverlay",channel:t,showEditChannelHeaderModal:this.showEditChannelHeaderModal}),w.default.createElement(ke.default,{pluggableName:"MobileChannelHeaderButton"}),v))),l,u,d,c,f,p)}}]),a}(w.default.Component);Ne.propTypes={teamDisplayName:y.default.string,isPinnedPosts:y.default.bool,actions:y.default.shape({closeRightHandSide:y.default.func,updateRhsState:y.default.func,showPinnedPosts:y.default.func})},Ne.defaultProps={teamDisplayName:""},t.default=Ne}).call(t,a(22))},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(0),g=r(m),v=a(39),b=r(v),_=a(27),y=r(_),E=a(215),w=a(214),C=a(18),x=a(1221),M=r(x),S=a(12),k=r(S),T=a(169),P=n(T),N=a(47),O=n(N),I=k.default.KeyCodes,R=(0,w.defineMessages)({error:{id:"edit_channel_header_modal.error",defaultMessage:"This channel header is too long, please enter a shorter one"}}),A=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChange=function(e){a.setState({header:e.target.value})},a.handleSave=function(){var e=a.props,t=e.channel,n=e.actions.patchChannel,r=a.state.header;n(t.id,{header:r})},a.onHide=function(){a.setState({show:!1})},a.focusTextbox=function(){O.isMobile()||a.refs.editChannelHeaderTextbox.focus()},a.handleEntering=function(){a.focusTextbox()},a.handleKeyDown=function(e){a.props.ctrlSend&&e.keyCode===I.ENTER&&!0===e.ctrlKey&&a.handleKeyPress(e)},a.handleKeyPress=function(e){var t=a.props.ctrlSend;!P.isMobile()&&(t&&e.ctrlKey||!t)&&(e.which!==I.ENTER||e.shiftKey||e.altKey||(e.preventDefault(),b.default.findDOMNode(a.refs.editChannelHeaderTextbox).blur(),a.handleSave(e)))},a.state={header:e.channel.header,show:!0,showError:!1},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.requestStatus,a=this.props.requestStatus;a!==t&&t===C.RequestStatus.FAILURE?this.setState({showError:!0}):a!==t&&t===C.RequestStatus.SUCCESS?this.onHide():this.setState({showError:!1})}},{key:"render",value:function(){var e=null;if(this.props.serverError&&this.state.showError){var t=void 0;t="model.channel.is_valid.header.app_error"===this.props.serverError.server_error_id?this.props.intl.formatMessage(R.error):this.props.serverError.message,e=g.default.createElement("div",{className:"form-group has-error"},g.default.createElement("br",null),g.default.createElement("label",{className:"control-label"},t))}var a=null;return a=this.props.channel.type===k.default.DM_CHANNEL?g.default.createElement(w.FormattedMessage,{id:"edit_channel_header_modal.title_dm",defaultMessage:"Edit Header"}):g.default.createElement(w.FormattedMessage,{id:"edit_channel_header_modal.title",defaultMessage:"Edit Header for {channel}",values:{channel:this.props.channel.display_name}}),g.default.createElement(E.Modal,{show:this.state.show,onHide:this.onHide,onEntering:this.handleEntering,onExited:this.props.onHide},g.default.createElement(E.Modal.Header,{closeButton:!0},g.default.createElement(E.Modal.Title,null,a)),g.default.createElement(E.Modal.Body,{bsClass:"modal-body edit-modal-body"},g.default.createElement("div",null,g.default.createElement("p",null,g.default.createElement(w.FormattedMessage,{id:"edit_channel_header_modal.description",defaultMessage:"Edit the text appearing next to the channel name in the channel header."})),g.default.createElement(M.default,{value:this.state.header,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,supportsCommands:!1,suggestionListStyle:"bottom",createMessage:O.localizeMessage("edit_channel_header.editHeader","Edit the Channel Header..."),previewMessageLink:O.localizeMessage("edit_channel_header.previewHeader","Edit Header"),handlePostError:this.handlePostError,id:"edit_textbox",ref:"editChannelHeaderTextbox",characterLimit:1024}),g.default.createElement("br",null),e)),g.default.createElement(E.Modal.Footer,null,g.default.createElement("button",{type:"button",className:"btn btn-default cancel-button",onClick:this.onHide},g.default.createElement(w.FormattedMessage,{id:"edit_channel_header_modal.cancel",defaultMessage:"Cancel"})),g.default.createElement("button",{disabled:this.props.requestStatus===C.RequestStatus.STARTED,type:"button",className:"btn btn-primary save-button",onClick:this.handleSave},g.default.createElement(w.FormattedMessage,{id:"edit_channel_header_modal.save",defaultMessage:"Save"}))))}}]),t}(g.default.PureComponent);A.propTypes={intl:w.intlShape.isRequired,onHide:y.default.func.isRequired,channel:y.default.object.isRequired,ctrlSend:y.default.bool.isRequired,serverError:y.default.object,requestStatus:y.default.string.isRequired,actions:y.default.shape({patchChannel:y.default.func.isRequired}).isRequired},t.default=(0,w.injectIntl)(A)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(18),E=a(12),w=n(E),C=a(47),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.setError=function(e){"api.context.invalid_param.app_error"===e.id?a.setState({serverError:x.localizeMessage("edit_channel_purpose_modal.error","This channel purpose is too long, please enter a shorter one")}):a.setState({serverError:e.message})},a.unsetError=function(){a.setState({serverError:""})},a.handleEntering=function(){x.placeCaretAtEnd(a.purpose)},a.handleHide=function(){a.setState({show:!1})},a.handleKeyDown=function(e){var t=a.props.ctrlSend;t&&e.keyCode===w.default.KeyCodes.ENTER&&e.ctrlKey?(e.preventDefault(),a.handleSave(e)):t||e.keyCode!==w.default.KeyCodes.ENTER||e.shiftKey||e.altKey||(e.preventDefault(),a.handleSave(e))},a.handleSave=function(){var e=a.props,t=e.channel,n=e.actions.patchChannel,r=a.state.purpose;t&&n(t.id,{purpose:r})},a.handleChange=function(e){e.preventDefault(),a.setState({purpose:e.target.value})},a.getPurpose=function(e){a.purpose=e},a.state={purpose:e.channel.purpose||"",serverError:"",show:!0,submitted:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.requestStatus,a=e.serverError,n=this.props.requestStatus;n!==t&&t===y.RequestStatus.SUCCESS&&this.handleHide(),n!==t&&t===y.RequestStatus.FAILURE?this.setError(a):this.unsetError()}},{key:"render",value:function(){var e=null;this.state.serverError&&(e=v.default.createElement("div",{className:"form-group has-error"},v.default.createElement("br",null),v.default.createElement("label",{className:"control-label"},this.state.serverError)));var t=v.default.createElement("span",null,v.default.createElement(_.FormattedMessage,{id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}));this.props.channel.display_name&&(t=v.default.createElement("span",null,v.default.createElement(_.FormattedMessage,{id:"edit_channel_purpose_modal.title2",defaultMessage:"Edit Purpose for "}),v.default.createElement("span",{className:"name"},this.props.channel.display_name)));var a=v.default.createElement(_.FormattedMessage,{id:"edit_channel_purpose_modal.body",defaultMessage:'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.'});return"P"===this.props.channel.type&&(a=v.default.createElement(_.FormattedMessage,{id:"edit_channel_private_purpose_modal.body",defaultMessage:'This text appears in the \\"View Info\\" modal of the private channel.'})),v.default.createElement(b.Modal,{className:"modal-edit-channel-purpose",ref:"modal",show:this.state.show,onHide:this.handleHide,onEntering:this.handleEntering,onExited:this.props.onModalDismissed},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,t)),v.default.createElement(b.Modal.Body,null,v.default.createElement("p",null,a),v.default.createElement("textarea",{ref:this.getPurpose,className:"form-control no-resize",rows:"6",maxLength:"250",value:this.state.purpose,onKeyDown:this.handleKeyDown,onChange:this.handleChange}),e),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{type:"button",className:"btn btn-default cancel-button",onClick:this.handleHide},v.default.createElement(_.FormattedMessage,{id:"edit_channel_purpose_modal.cancel",defaultMessage:"Cancel"})),v.default.createElement("button",{type:"button",className:"btn btn-primary save-button",disabled:this.props.requestStatus===y.RequestStatus.STARTED,onClick:this.handleSave},v.default.createElement(_.FormattedMessage,{id:"edit_channel_purpose_modal.save",defaultMessage:"Save"}))))}}]),t}(v.default.Component);M.propTypes={channel:m.default.object,ctrlSend:m.default.bool.isRequired,serverError:m.default.object,requestStatus:m.default.string.isRequired,onModalDismissed:m.default.func.isRequired,actions:m.default.shape({patchChannel:m.default.func.isRequired}).isRequired},t.default=M},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(215),y=a(214),E=a(1268),w=r(E),C=a(1269),x=r(C),M=a(12),S=r(M),k=a(1142),T=n(k),P=a(143),N=a(47),O=n(N),I=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.onHide=a.onHide.bind(a),a.state={show:!0},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"onHide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this.props.channel,t=void 0;if(!e){var a=O.localizeMessage("channel_info.notFound","No Channel Found");e={display_name:a,name:a,purpose:a,header:a,id:a}}"O"===e.type?t=b.default.createElement(w.default,{className:"icon icon__globe icon--body"}):"P"===e.type&&(t=b.default.createElement(x.default,{className:"icon icon__globe icon--body"}));var n=(0,P.getSiteURL)()+"/"+this.props.currentTeam.name+"/channels/"+e.name,r=void 0;e.purpose?r=e.purpose:e.name===S.default.DEFAULT_CHANNEL&&(r=b.default.createElement(y.FormattedMessage,{id:"default_channel.purpose",defaultMessage:"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team."}));var i=void 0;r&&(i=b.default.createElement("div",{className:"form-group"},b.default.createElement("div",{className:"info__label"},b.default.createElement(y.FormattedMessage,{id:"channel_info.purpose",defaultMessage:"Purpose:"})),b.default.createElement("div",{className:"info__value"},r)));var o=null;return e.header&&(o=b.default.createElement("div",{className:"form-group"},b.default.createElement("div",{className:"info__label"},b.default.createElement(y.FormattedMessage,{id:"channel_info.header",defaultMessage:"Header:"})),b.default.createElement("div",{className:"info__value",dangerouslySetInnerHTML:{__html:T.formatText(e.header,{singleline:!1,mentionHighlight:!1})}}))),b.default.createElement(_.Modal,{dialogClassName:"about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide},b.default.createElement(_.Modal.Header,{closeButton:!0},b.default.createElement(_.Modal.Title,null,b.default.createElement(y.FormattedMessage,{id:"channel_info.about",defaultMessage:"About"}),b.default.createElement("strong",null,t,e.display_name))),b.default.createElement(_.Modal.Body,{ref:"modalBody"},i,o,b.default.createElement("div",{className:"form-group"},b.default.createElement("div",{className:"info__label"},b.default.createElement(y.FormattedMessage,{id:"channel_info.url",defaultMessage:"URL:"})),b.default.createElement("div",{className:"info__value"},n)),b.default.createElement("div",{className:"about-modal__hash form-group padding-top x2"},b.default.createElement("p",null,b.default.createElement(y.FormattedMessage,{id:"channel_info.id",defaultMessage:"ID: "}),e.id))))}}]),t}(b.default.PureComponent);I.propTypes={onHide:g.default.func.isRequired,channel:g.default.object.isRequired,currentTeam:g.default.object.isRequired},t.default=I},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(214),w=a(69),C=a(23),x=a(168),M=a(172),S=a(48),k=n(S),T=a(40),P=n(T),N=a(59),O=n(N),I=a(42),R=n(I),A=a(12),L=n(A),D=a(47),F=a(1137),U=n(F),j=a(1157),H=n(j),B=a(1270),q=n(B),z=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));G.call(a),a.term="",a.searchTimeoutId=0;var n=k.default.getStats(e.channel.id),r=O.default.getCurrentStats();return a.state={users:(0,i.default)([],R.default.getProfileListNotInChannel(e.channel.id,!0)),total:r.active_member_count-n.member_count,values:[],show:!0,statusChange:!1,saving:!1},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){O.default.addStatsChangeListener(this.onChange),k.default.addStatsChangeListener(this.onChange),R.default.addNotInChannelChangeListener(this.onChange),R.default.addStatusesChangeListener(this.onStatusChange),this.props.actions.getProfilesNotInChannel(O.default.getCurrentId(),this.props.channel.id,0),this.props.actions.getTeamStats(O.default.getCurrentId())}},{key:"componentWillUnmount",value:function(){O.default.removeStatsChangeListener(this.onChange),k.default.removeStatsChangeListener(this.onChange),R.default.removeNotInChannelChangeListener(this.onChange),R.default.removeStatusesChangeListener(this.onStatusChange)}},{key:"render",value:function(){var e=null;this.state.inviteError&&(e=_.default.createElement("label",{className:"has-error control-label"},this.state.inviteError));var t=_.default.createElement(E.FormattedMessage,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:20-this.state.values.length}}),a=(0,D.localizeMessage)("multiselect.add","Add"),n=[];this.state.users&&(n=this.state.users.filter(function(e){return 0===e.delete_at}));var r=void 0;return r=this.state.loading?_.default.createElement(U.default,null):_.default.createElement(q.default,{key:"addUsersToChannelKey",options:n,optionRenderer:this.renderOption,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:20,numRemainingText:t,buttonSubmitText:a,saving:this.state.saving}),_.default.createElement(y.Modal,{dialogClassName:"more-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide},_.default.createElement(y.Modal.Header,{closeButton:!0},_.default.createElement(y.Modal.Title,null,_.default.createElement(E.FormattedMessage,{id:"channel_invite.addNewMembers",defaultMessage:"Add New Members to "}),_.default.createElement("span",{className:"name"},this.props.channel.display_name))),_.default.createElement(y.Modal.Body,null,e,r))}}]),t}(_.default.Component);z.propTypes={onHide:v.default.func.isRequired,channel:v.default.object.isRequired,actions:v.default.shape({getProfilesNotInChannel:v.default.func.isRequired,getTeamStats:v.default.func.isRequired}).isRequired};var G=function(){var e=this;this.addValue=function(t){var a=(0,i.default)([],e.state.values);-1===a.indexOf(t)&&a.push(t),e.setState({values:a})},this.onChange=function(){var t=void 0;t=e.term?(0,w.searchProfilesNotInCurrentChannel)(P.default.getState(),e.term,!0):R.default.getProfileListNotInChannel(e.props.channel.id,!0);var a=k.default.getStats(e.props.channel.id),n=O.default.getCurrentStats();e.setState({users:t,total:n.active_member_count-a.member_count})},this.onStatusChange=function(){e.setState({statusChange:!e.state.statusChange})},this.onHide=function(){e.setState({show:!1})},this.handleInviteError=function(t){t?e.setState({saving:!1,inviteError:t.message}):e.setState({saving:!1,inviteError:null})},this.handleDelete=function(t){e.setState({values:t})},this.handlePageChange=function(t,a){t>a&&e.props.actions.getProfilesNotInChannel(O.default.getCurrentId(),e.props.channel.id,t+1,50)},this.handleSubmit=function(t){t&&t.preventDefault();var a=e.state.values.map(function(e){return e.id});0!==a.length&&(e.setState({saving:!0}),a.forEach(function(t){(0,M.addUserToChannel)(e.props.channel.id,t,function(){e.handleInviteError(null)},function(t){e.handleInviteError(t)})}),e.onHide())},this.search=function(t){if(clearTimeout(e.searchTimeoutId),e.term=t,""===t)return void e.onChange();e.searchTimeoutId=setTimeout(function(){(0,x.searchUsers)(t,O.default.getCurrentId(),{not_in_channel_id:e.props.channel.id})},L.default.SEARCH_TIMEOUT_MILLISECONDS)},this.renderOption=function(e,t,a){var n="";return t&&(n="more-modal__row--selected"),_.default.createElement("div",{key:e.id,ref:t?"selected":e.id,className:"more-modal__row clickable "+n,onClick:function(){return a(e)}},_.default.createElement(H.default,{src:C.Client4.getProfilePictureUrl(e.id,e.last_picture_update),width:"32",height:"32"}),_.default.createElement("div",{className:"more-modal__details"},_.default.createElement("div",{className:"more-modal__name"},(0,D.displayEntireNameForUser)(e))),_.default.createElement("div",{className:"more-modal__actions"},_.default.createElement("div",{className:"more-modal__actions--round"},_.default.createElement("i",{className:"fa fa-plus"}))))},this.renderValue=function(e){return e.username}};t.default=z},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 12 12",style:v},m.default.createElement("path",{className:"away--icon",d:"M9.081,5.712C9.267,5.712 9.417,5.863 9.417,6.048L9.417,9.086L11.864,10.499C12.025,10.592 12.08,10.797 11.987,10.958L11.482,11.832C11.39,11.993 11.184,12.048 11.023,11.955L7.904,10.154C7.788,10.087 7.727,9.961 7.737,9.836C7.736,9.827 7.736,9.818 7.736,9.809L7.736,6.048C7.736,5.863 7.886,5.712 8.072,5.712L9.081,5.712ZM4.812,11.513L4.605,11.513C2.325,11.41 0.253,10.374 0.046,9.027C-0.058,8.923 0.046,8.509 0.046,8.405C0.15,7.576 0.357,6.437 0.771,5.815C0.978,5.401 2.015,5.297 2.015,5.297C2.015,5.297 2.015,7.369 4.605,7.369L5.019,7.369C4.915,7.784 4.812,8.198 4.812,8.612C4.812,9.648 5.226,10.581 5.848,11.41C5.537,11.513 5.123,11.513 4.812,11.513ZM4.605,0.117C6.034,0.117 7.195,1.277 7.195,2.707C7.195,4.136 6.034,5.297 4.605,5.297C3.175,5.297 2.015,4.136 2.015,2.707C2.015,1.277 3.175,0.117 4.605,0.117Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:v},m.default.createElement("path",{className:"away--icon",d:"M10,0C15.519,0 20,4.481 20,10C20,15.519 15.519,20 10,20C4.481,20 0,15.519 0,10C0,4.481 4.481,0 10,0ZM10.27,3C10.949,3 11.5,3.586 11.5,4.307L11.5,9.379L15.002,12.881C15.492,13.37 15.499,14.158 15.019,14.638L14.638,15.019C14.158,15.499 13.37,15.492 12.881,15.002L8.887,11.008C8.739,10.861 8.636,10.686 8.576,10.501C8.528,10.402 8.5,10.299 8.5,10.193L8.5,4.307C8.5,3.586 9.051,3 9.73,3L10.27,3Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",style:v},m.default.createElement("g",null,m.default.createElement("ellipse",{className:"dnd--icon",cx:"-294.6",cy:"394",rx:"2.5",ry:"2.5"}),m.default.createElement("path",{className:"dnd--icon",d:"M-293.8,399.4c0-0.4,0.1-0.7,0.2-1c-0.3,0.1-0.6,0.2-1,0.2c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0.7,0,1.4-0.1,2-0.3 C-293.3,401.5-293.8,400.5-293.8,399.4z"})),m.default.createElement("path",{className:"dnd--icon",d:"M-287,400c0,0.1-0.1,0.1-0.1,0.1l-4.9,0c-0.1,0-0.1-0.1-0.1-0.1v-1.6c0-0.1,0.1-0.1,0.1-0.1l4.9,0c0.1,0,0.1,0.1,0.1,0.1 V400z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={enableBackground:"new -299 391 12 12"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:v},m.default.createElement("path",{className:"dnd--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm5.25,8.5l-10.5,0c-0.414,0 -0.75,0.336 -0.75,0.75l0,1.5c0,0.414 0.336,0.75 0.75,0.75l10.5,0c0.414,0 0.75,-0.336 0.75,-0.75l0,-1.5c0,-0.414 -0.336,-0.75 -0.75,-0.75Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",style:v},m.default.createElement("g",null,m.default.createElement("g",null,m.default.createElement("ellipse",{className:"offline--icon",cx:"-294.5",cy:"394",rx:"2.5",ry:"2.5"}),m.default.createElement("path",{className:"offline--icon",d:"M-294.3,399.7c0-0.4,0.1-0.8,0.2-1.2c-0.1,0-0.2,0-0.4,0c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4h0.1h0.1c0.3,0,0.7,0,1-0.1C-293.9,401.6-294.3,400.7-294.3,399.7z"}))),m.default.createElement("g",null,m.default.createElement("path",{className:"offline--icon",d:"M-288.9,399.4l1.8-1.8c0.1-0.1,0.1-0.3,0-0.3l-0.7-0.7c-0.1-0.1-0.3-0.1-0.3,0l-1.8,1.8l-1.8-1.8c-0.1-0.1-0.3-0.1-0.3,0 l-0.7,0.7c-0.1,0.1-0.1,0.3,0,0.3l1.8,1.8l-1.8,1.8c-0.1,0.1-0.1,0.3,0,0.3l0.7,0.7c0.1,0.1,0.3,0.1,0.3,0l1.8-1.8l1.8,1.8 c0.1,0.1,0.3,0.1,0.3,0l0.7-0.7c0.1-0.1,0.1-0.3,0-0.3L-288.9,399.4z"}))))}}]),t}(m.default.PureComponent);t.default=g;var v={enableBackground:"new -299 391 12 12"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"100%",height:"100%",className:"offline--icon",viewBox:"0 0 20 20",style:v},m.default.createElement("path",{d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm0,2c4.415,0 8,3.585 8,8c0,4.415 -3.585,8 -8,8c-4.415,0 -8,-3.585 -8,-8c0,-4.415 3.585,-8 8,-8Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-243 245 12 12",style:v},m.default.createElement("g",null,m.default.createElement("path",{className:"online--icon",d:"M-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5z"}),m.default.createElement("ellipse",{className:"online--icon",cx:"-238.5",cy:"248",rx:"2.5",ry:"2.5"})),m.default.createElement("path",{className:"online--icon",d:"M-238.9,253.8c0-0.4,0.1-0.9,0.2-1.3c-2.2-0.2-2.2-2-2.2-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5c0,0.1-0.1,0.5,0,0.6 c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0C-238.7,255.7-238.9,254.8-238.9,253.8z"}),m.default.createElement("g",null,m.default.createElement("g",null,m.default.createElement("path",{className:"online--icon",d:"M-232.3,250.1l1.3,1.3c0,0,0,0.1,0,0.1l-4.1,4.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-2.7-2.7c0,0,0-0.1,0-0.1l1.2-1.2 c0,0,0.1,0,0.1,0l1.4,1.4l2.9-2.9C-232.4,250.1-232.3,250.1-232.3,250.1z"})))))}}]),t}(m.default.PureComponent);t.default=g;var v={enableBackground:"new -243 245 12 12"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:v},m.default.createElement("path",{className:"online--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm6.19,7.18c0,0.208 -0.075,0.384 -0.224,0.53l-5.782,5.64l-1.087,1.059c-0.149,0.146 -0.33,0.218 -0.543,0.218c-0.213,0 -0.394,-0.072 -0.543,-0.218l-1.086,-1.059l-2.891,-2.82c-0.149,-0.146 -0.224,-0.322 -0.224,-0.53c0,-0.208 0.075,-0.384 0.224,-0.53l1.086,-1.059c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l2.348,2.298l5.24,-5.118c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l1.086,1.059c0.149,0.146 0.224,0.322 0.224,0.53Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),c=n(d),f=a(1742),p=n(f),h={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},m=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],g=function(e){return m.forEach(function(t){return delete e[t]}),e},v=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},b=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),_=function(){return b?"_"+Math.random().toString(36).substr(2,12):void 0},y=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.inputRef=function(e){a.input=e,"function"==typeof a.props.inputRef&&a.props.inputRef(e)},a.placeHolderSizerRef=function(e){a.placeHolderSizer=e},a.sizerRef=function(e){a.sizer=e},a.state={inputWidth:e.minWidth,inputId:e.id||_()},a}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||_()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(v(e,this.sizer),this.placeHolderSizer&&v(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2;e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return b&&e?c.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=l({},this.props.style);t.display||(t.display="inline-block");var a=l({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),n=r(this.props,[]);return g(n),n.className=this.props.inputClassName,n.id=this.state.inputId,n.style=a,c.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),c.default.createElement("input",l({},n,{ref:this.inputRef})),c.default.createElement("div",{ref:this.sizerRef,style:h},e),this.props.placeholder?c.default.createElement("div",{ref:this.placeHolderSizerRef,style:h},this.props.placeholder):null)}}]),t}(d.Component);y.propTypes={className:p.default.string,defaultValue:p.default.any,extraWidth:p.default.oneOfType([p.default.number,p.default.string]),id:p.default.string,injectStyles:p.default.bool,inputClassName:p.default.string,inputRef:p.default.func,inputStyle:p.default.object,minWidth:p.default.oneOfType([p.default.number,p.default.string]),onAutosize:p.default.func,onChange:p.default.func,placeholder:p.default.string,placeholderIsMinWidth:p.default.bool,style:p.default.object,value:p.default.any},y.defaultProps={minWidth:1,injectStyles:!0},t.default=y},function(e,t,a){e.exports=a(1743)()},function(e,t,a){"use strict";var n=a(1744),r=a(1745),i=a(1746);e.exports=function(){function e(e,t,a,n,o,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";function n(e,t,a,n,i,o,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,n,i,o,s,l],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=n},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){e.exports=a(1748)()},function(e,t,a){"use strict";var n=a(1749),r=a(1750),i=a(1751);e.exports=function(){function e(e,t,a,n,o,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";function n(e,t,a,n,i,o,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,n,i,o,s,l],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=n},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(12),y=n(_),E=a(47),w=y.default.KeyCodes,C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.defaultOptionRenderer=a.defaultOptionRenderer.bind(a),a.handleArrowPress=a.handleArrowPress.bind(a),a.setSelected=a.setSelected.bind(a),a.toSelect=-1,a.state={selected:-1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleArrowPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleArrowPress)}},{key:"componentWillReceiveProps",value:function(e){this.setState({selected:this.toSelect});var t=e.options;t&&t.length>0&&this.toSelect>=0&&this.props.onSelect(t[this.toSelect])}},{key:"componentDidUpdate",value:function(){if(this.refs.list&&this.refs.selected){var e=this.refs.selected.getBoundingClientRect().top,t=this.refs.selected.getBoundingClientRect().bottom,a=this.refs.list.getBoundingClientRect().top;t>this.refs.list.getBoundingClientRect().bottom?this.refs.selected.scrollIntoView(!1):e<a&&this.refs.selected.scrollIntoView(!0)}}},{key:"setSelected",value:function(e){this.toSelect=e}},{key:"handleArrowPress",value:function(e){if(!(0,E.cmdOrCtrlPressed)(e)||!e.shiftKey){var t=this.props.options;if(0!==t.length){var a=void 0;switch(e.keyCode){case w.DOWN:if(-1===this.state.selected){a=0;break}a=Math.min(this.state.selected+1,t.length-1);break;case w.UP:if(-1===this.state.selected){a=0;break}a=Math.max(this.state.selected-1,0);break;default:return}e.preventDefault(),this.setState({selected:a}),this.props.onSelect(t[a])}}}},{key:"defaultOptionRenderer",value:function(e,t,a){var n="";return t&&(n="more-modal__row--selected"),v.default.createElement("div",{ref:t?"selected":e.value,className:n,key:"multiselectoption"+e.value,onClick:function(){return a(e)}},e.label)}},{key:"render",value:function(){var e=this,t=this.props.options;if(null==t||0===t.length)return v.default.createElement("div",{key:"no-users-found",className:"no-channel-message"},v.default.createElement("p",{className:"primary-message"},v.default.createElement(b.FormattedMessage,{id:"multiselect.list.notFound",defaultMessage:"No items found"})));var a=void 0;a=this.props.optionRenderer?this.props.optionRenderer:this.defaultOptionRenderer;var n=t.map(function(t,n){return a(t,e.state.selected===n,e.props.onAdd)});return v.default.createElement("div",{className:"more-modal__list"},v.default.createElement("div",{ref:"list"},n))}}]),t}(v.default.Component);t.default=C,C.defaultProps={options:[],perPage:50,onAction:function(){return null}},C.propTypes={options:m.default.arrayOf(m.default.object),optionRenderer:m.default.func,page:m.default.number,perPage:m.default.number,onPageChange:m.default.func,onAdd:m.default.func,onSelect:m.default.func}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(1754),E=n(y),w=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onHide=function(){a.setState({show:!1})},a.onClickManageChannelsButton=function(){a.props.showInviteModal(),a.onHide()},a.state={show:!0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return v.default.createElement("div",null,v.default.createElement(b.Modal,{dialogClassName:"more-modal more-modal--action",onExited:this.props.onModalDismissed,onHide:this.onHide,show:this.state.show},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,v.default.createElement("span",{className:"name"},this.props.channel.display_name),v.default.createElement(_.FormattedMessage,{id:"channel_members_modal.members",defaultMessage:" Members"})),this.props.canManageChannelMembers&&v.default.createElement("a",{id:"showInviteModal",className:"btn btn-md btn-primary",href:"#",onClick:this.onClickManageChannelsButton},v.default.createElement(_.FormattedMessage,{id:"channel_members_modal.addNew",defaultMessage:" Add New Members"}))),v.default.createElement(b.Modal.Body,null,v.default.createElement(E.default,{channel:this.props.channel}))))}}]),t}(v.default.PureComponent);w.propTypes={canManageChannelMembers:m.default.bool.isRequired,channel:m.default.shape({display_name:m.default.string.isRequired}).isRequired,onModalDismissed:m.default.func.isRequired,showInviteModal:m.default.func.isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return{actions:(0,i.bindActionCreators)({getChannelStats:o.getChannelStats},e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(11),o=a(90),s=a(1755),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(null,n)(l.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=r(i),s=a(88),l=r(s),u=a(34),d=r(u),c=a(30),f=r(c),p=a(31),h=r(p),m=a(35),g=r(m),v=a(36),b=r(v),_=a(27),y=r(_),E=a(0),w=r(E),C=a(69),x=a(168),M=a(48),S=r(M),k=a(40),T=r(k),P=a(59),N=r(P),O=a(42),I=r(O),R=a(12),A=r(R),L=a(169),D=n(L),F=a(47),U=n(F),j=a(1756),H=r(j),B=a(1334),q=r(B),z=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));a.onChange=a.onChange.bind(a),a.onStatsChange=a.onStatsChange.bind(a),a.handleSearch=a.handleSearch.bind(a),a.loadComplete=a.loadComplete.bind(a),a.searchTimeoutId=0,a.term="";var n=S.default.getCurrentStats();return a.state={users:I.default.getProfileListInChannel(S.default.getCurrentId(),!1,!0),teamMembers:(0,l.default)({},N.default.getMembersInTeam()),channelMembers:(0,l.default)({},S.default.getMembersInChannel()),total:n.member_count,loading:!0,actionUserProps:{},usersToDisplay:[]},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){I.default.addInChannelChangeListener(this.onChange),I.default.addStatusesChangeListener(this.onChange),N.default.addChangeListener(this.onChange),S.default.addChangeListener(this.onChange),S.default.addStatsChangeListener(this.onStatsChange),(0,x.loadProfilesAndTeamMembersAndChannelMembers)(0,A.default.PROFILE_CHUNK_SIZE,N.default.getCurrentId(),S.default.getCurrentId(),this.loadComplete),this.props.actions.getChannelStats(S.default.getCurrentId())}},{key:"componentWillUnmount",value:function(){I.default.removeInTeamChangeListener(this.onChange),I.default.removeStatusesChangeListener(this.onChange),N.default.removeChangeListener(this.onChange),S.default.removeChangeListener(this.onChange),S.default.removeStatsChangeListener(this.onStatsChange)}},{key:"shouldComponentUpdate",value:function(e,t){return t.loading!==this.state.loading||(t.total!==this.state.total||(!U.areObjectsEqual(t.usersToDisplay,this.state.usersToDisplay)||!U.areObjectsEqual(t.actionUserProps,this.state.actionUserProps)))}},{key:"componentWillUpdate",value:function(e,t){if(!t.loading){var a=t.users,n=t.teamMembers,r=t.channelMembers;this.setUsersDisplayAndActionProps(a,n,r)}}},{key:"setUsersDisplayAndActionProps",value:function(e,t,a){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i];if(t[s.id]&&a[s.id]&&0===s.delete_at){var l=I.default.getStatus(s.id);r.push((0,o.default)({},s,{status:l})),n[s.id]={channel:this.props.channel,teamMember:t[s.id],channelMember:a[s.id]}}}r.sort(U.sortUsersByStatusAndDisplayName),this.setState({usersToDisplay:r,actionUserProps:n})}},{key:"loadComplete",value:function(){this.setState({loading:!1})}},{key:"onChange",value:function(){var e=void 0;e=this.term?(0,C.searchProfilesInCurrentChannel)(T.default.getState(),this.term):I.default.getProfileListInChannel(S.default.getCurrentId(),!1,!0);var t=(0,l.default)({},N.default.getMembersInTeam()),a=(0,l.default)({},S.default.getMembersInChannel());this.setState({users:e,teamMembers:t,channelMembers:a}),this.setUsersDisplayAndActionProps(e,t,a)}},{key:"onStatsChange",value:function(){var e=S.default.getCurrentStats();this.setState({total:e.member_count})}},{key:"nextPage",value:function(e){(0,x.loadProfilesAndTeamMembersAndChannelMembers)(e+1,50)}},{key:"handleSearch",value:function(e){var t=this;if(clearTimeout(this.searchTimeoutId),this.term=e,""===e)return this.setState({loading:!1}),this.searchTimeoutId="",void this.onChange();var a=setTimeout(function(){(0,x.searchUsers)(e,"",{in_channel_id:S.default.getCurrentId()},function(e){a===t.searchTimeoutId&&(t.setState({loading:!0}),(0,x.loadTeamMembersAndChannelMembersForProfilesList)(e,N.default.getCurrentId(),S.default.getCurrentId(),t.loadComplete))})},A.default.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=a}},{key:"render",value:function(){return w.default.createElement(q.default,{users:this.state.usersToDisplay,usersPerPage:50,total:this.state.total,nextPage:this.nextPage,search:this.handleSearch,actions:[H.default],actionUserProps:this.state.actionUserProps,focusOnMount:!D.isMobile()})}}]),t}(w.default.Component);z.propTypes={channel:y.default.object.isRequired,actions:y.default.shape({getChannelStats:y.default.func.isRequired}).isRequired},t.default=z},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getChannelStats:d.getChannelStats},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(90),c=a(1757),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(172),y=a(48),E=n(y),w=a(59),C=n(w),x=a(42),M=n(x),S=a(304),k=a(12),T=a(47),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(T),N=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.handleRemoveFromChannel=t.handleRemoveFromChannel.bind(t),t.handleMakeChannelMember=t.handleMakeChannelMember.bind(t),t.handleMakeChannelAdmin=t.handleMakeChannelAdmin.bind(t),t.state={serverError:null,user:null,role:null,removing:!1},t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"handleRemoveFromChannel",value:function(){var e=this;this.state.removing||(this.setState({removing:!0}),(0,_.removeUserFromChannel)(this.props.channel.id,this.props.user.id,function(){e.props.actions.getChannelStats(e.props.channel.id)},function(t){e.setState({serverError:t.message,removing:!1})}))}},{key:"handleMakeChannelMember",value:function(){var e=this;(0,_.makeUserChannelMember)(this.props.channel.id,this.props.user.id,function(){e.props.actions.getChannelStats(e.props.channel.id)},function(t){e.setState({serverError:t.message})})}},{key:"handleMakeChannelAdmin",value:function(){var e=this;(0,_.makeUserChannelAdmin)(this.props.channel.id,this.props.user.id,function(){e.props.actions.getChannelStats(e.props.channel.id)},function(t){e.setState({serverError:t.message})})}},{key:"canChangeMemberRoles",value:function(){return!!M.default.isSystemAdminForCurrentUser()||(!!C.default.isTeamAdminForCurrentTeam()||!!E.default.isChannelAdminForCurrentChannel())}},{key:"canRemoveMember",value:function(){return(0,S.canManageMembers)(this.props.channel,E.default.isChannelAdminForCurrentChannel(),C.default.isTeamAdminForCurrentTeam(),M.default.isSystemAdminForCurrentUser())}},{key:"render",value:function(){var t="true"===e.mm_license.IsLicensed,a=t&&P.isChannelAdmin(this.props.channelMember.roles),n=null;if(this.state.serverError&&(n=v.default.createElement("div",{className:"has-error"},v.default.createElement("label",{className:"has-error control-label"},this.state.serverError))),this.props.user.id===M.default.getCurrentId())return null;if(this.canChangeMemberRoles()){var r=v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"});a&&(r=v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.channel_admin",defaultMessage:"Channel Admin"}));var i=null;this.canRemoveMember()&&this.props.channel.name!==k.Constants.DEFAULT_CHANNEL&&(i=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{id:"removeFromChannel",role:"menuitem",href:"#",onClick:this.handleRemoveFromChannel},v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.remove_from_channel",defaultMessage:"Remove From Channel"}))));var o=null;a&&(o=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{id:"makeChannelMember",role:"menuitem",href:"#",onClick:this.handleMakeChannelMember},v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.make_channel_member",defaultMessage:"Make Channel Member"}))));var s=null;if(t&&!a&&(s=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{id:"makeChannelAdmin",role:"menuitem",href:"#",onClick:this.handleMakeChannelAdmin},v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.make_channel_admin",defaultMessage:"Make Channel Admin"})))),(o||s)&&i)return v.default.createElement("div",{className:"dropdown member-drop"},v.default.createElement("button",{id:"channelMemberDropdown",className:"dropdown-toggle theme color--link style--none",type:"button","data-toggle":"dropdown","aria-expanded":"true"},v.default.createElement("span",null,r," "),v.default.createElement("span",{className:"fa fa-chevron-down"})),v.default.createElement("ul",{className:"dropdown-menu member-menu",role:"menu"},o,s,i),n)}return this.canRemoveMember()&&this.props.channel.name!==k.Constants.DEFAULT_CHANNEL?v.default.createElement("button",{id:"removeMember",type:"button",className:"btn btn-danger btn-message",onClick:this.handleRemoveFromChannel,disabled:this.state.removing},v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.remove_member",defaultMessage:"Remove Member"})):a?this.props.channel.name===k.Constants.DEFAULT_CHANNEL?v.default.createElement("div",null):v.default.createElement("div",null,v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.channel_admin",defaultMessage:"Channel Admin"})):this.props.channel.name===k.Constants.DEFAULT_CHANNEL?v.default.createElement("div",null):v.default.createElement("div",null,v.default.createElement(b.FormattedMessage,{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"}))}}]),a}(v.default.Component);N.propTypes={channel:m.default.object.isRequired,user:m.default.object.isRequired,teamMember:m.default.object.isRequired,channelMember:m.default.object.isRequired,actions:m.default.shape({getChannelStats:m.default.func.isRequired}).isRequired},t.default=N}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(12),y=n(_),E=a(1137),w=n(E),C=a(1759),x=n(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.scrollToTop=a.scrollToTop.bind(a),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"scrollToTop",value:function(){this.refs.container&&(this.refs.container.scrollTop=0)}},{key:"render",value:function(){var e=this,t=this.props.users,a=this.props.rowComponentType,n=void 0;return null==t?v.default.createElement(w.default,null):(n=t.length>0?t.map(function(t,n){return v.default.createElement(a,{key:t.id,user:t,extraInfo:e.props.extraInfo[t.id],actions:e.props.actions,actionProps:e.props.actionProps,actionUserProps:e.props.actionUserProps[t.id],userCount:n>=0&&n<y.default.TEST_ID_COUNT?n:-1})}):v.default.createElement("div",{key:"no-users-found",className:"more-modal__placeholder-row"},v.default.createElement("p",null,v.default.createElement(b.FormattedMessage,{id:"user_list.notFound",defaultMessage:"No users found"}))),v.default.createElement("div",{ref:"container"},n))}}]),t}(v.default.Component);t.default=M,M.defaultProps={users:[],extraInfo:{},actions:[],actionProps:{},rowComponentType:x.default},M.propTypes={users:m.default.arrayOf(m.default.object),extraInfo:m.default.object,actions:m.default.arrayOf(m.default.func),actionProps:m.default.object,actionUserProps:m.default.object,rowComponentType:m.default.func}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(23),w=a(42),C=n(w),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(1157),k=n(S),T=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=null;this.props.actions&&(t=this.props.actions.map(function(t,a){return _.default.createElement(t,(0,i.default)({key:a.toString(),user:e.props.user},e.props.actionProps,e.props.actionUserProps))}));var a=this.props.user.email,n="more-modal__description",r=void 0;this.props.extraInfo&&this.props.extraInfo.length>0?(a=_.default.createElement(y.FormattedHTMLMessage,{id:"admin.user_item.emailTitle",defaultMessage:"<strong>Email:</strong> {email}",values:{email:this.props.user.email}}),n=""):r=this.props.user.status?this.props.user.status:C.default.getStatus(this.props.user.id);var o=null,s=null;return this.props.userCount>=0&&(o=M.createSafeId("userListRowName"+this.props.userCount),s=M.createSafeId("userListRowEmail"+this.props.userCount)),_.default.createElement("div",{key:this.props.user.id,className:"more-modal__row"},_.default.createElement(k.default,{src:E.Client4.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:r,width:"32",height:"32"}),_.default.createElement("div",{className:"more-modal__details"},_.default.createElement("div",{id:o,className:"more-modal__name"},M.displayEntireNameForUser(this.props.user)),_.default.createElement("div",{id:s,className:n},a),this.props.extraInfo),_.default.createElement("div",{className:"more-modal__actions"},t))}}]),t}(_.default.Component);T.propTypes={user:v.default.object.isRequired,extraInfo:v.default.arrayOf(v.default.object),actions:v.default.arrayOf(v.default.func),actionProps:v.default.object,actionUserProps:v.default.object,userCount:v.default.number},T.defaultProps={extraInfo:[],actions:[],actionProps:{},actionUserProps:{}},t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1761),_=n(b),y=a(1762),E=n(y),w=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.handleOnChange=function(e){n.props.onChange(e.target.value)},n.handleExpandSection=function(){n.props.onUpdateSection(n.props.section)},n.handleCollapseSection=function(){n.props.onUpdateSection()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.expand,a=e.globalNotificationLevel,n=e.memberNotificationLevel,r=e.onSubmit,i=e.section,o=e.serverError;return t?v.default.createElement(E.default,{section:i,memberNotifyLevel:n,globalNotifyLevel:a,onChange:this.handleOnChange,onSubmit:r,serverError:o,onCollapseSection:this.handleCollapseSection}):v.default.createElement(_.default,{section:i,onExpandSection:this.handleExpandSection,memberNotifyLevel:n,globalNotifyLevel:a})}}]),t}(v.default.PureComponent);w.propTypes={section:m.default.string.isRequired,expand:m.default.bool.isRequired,memberNotificationLevel:m.default.string.isRequired,globalNotificationLevel:m.default.string,onChange:m.default.func.isRequired,onSubmit:m.default.func.isRequired,onUpdateSection:m.default.func.isRequired,serverError:m.default.string},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.onExpandSection,a=e.globalNotifyLevel,n=e.memberNotifyLevel,r=e.section;return l.default.createElement(d.default,{title:l.default.createElement(h.default,{section:r}),describe:l.default.createElement(f.default,{section:r,memberNotifyLevel:n,globalNotifyLevel:a}),updateSection:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(1158),d=n(u),c=a(1337),f=n(c),p=a(1338),h=n(p);r.propTypes={onExpandSection:o.default.func.isRequired,globalNotifyLevel:o.default.string,memberNotifyLevel:o.default.string.isRequired,section:o.default.string.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.section,a=e.memberNotifyLevel,n=e.globalNotifyLevel,r=e.onChange,i=e.onSubmit,o=e.serverError,s=e.onCollapseSection,d=[l.default.createElement("div",{key:"channel-notification-level-radio"},(t===u.NotificationSections.DESKTOP||t===u.NotificationSections.PUSH)&&l.default.createElement("div",{className:"radio"},l.default.createElement("label",{className:""},l.default.createElement("input",{id:"channelNotificationGlobalDefault",type:"radio",value:u.NotificationLevels.DEFAULT,checked:a===u.NotificationLevels.DEFAULT,onChange:r}),l.default.createElement(p.default,{section:t,memberNotifyLevel:u.NotificationLevels.DEFAULT,globalNotifyLevel:n}))),(t===u.NotificationSections.DESKTOP||t===u.NotificationSections.PUSH)&&l.default.createElement("div",{className:"radio"},l.default.createElement("label",{className:""},l.default.createElement("input",{id:"channelNotificationAllActivity",type:"radio",value:u.NotificationLevels.ALL,checked:a===u.NotificationLevels.ALL,onChange:r}),l.default.createElement(p.default,{section:t,memberNotifyLevel:u.NotificationLevels.ALL}))),t===u.NotificationSections.MARK_UNREAD&&l.default.createElement("div",{className:"radio"},l.default.createElement("label",{className:""},l.default.createElement("input",{id:"channelUnreadAll",type:"radio",value:u.NotificationLevels.ALL,checked:a===u.NotificationLevels.ALL,onChange:r}),l.default.createElement(p.default,{section:t,memberNotifyLevel:u.NotificationLevels.ALL}))),l.default.createElement("div",{className:"radio"},l.default.createElement("label",{className:""},l.default.createElement("input",{id:"channelNotificationMentions",type:"radio",value:u.NotificationLevels.MENTION,checked:a===u.NotificationLevels.MENTION,onChange:r}),l.default.createElement(p.default,{section:t,memberNotifyLevel:u.NotificationLevels.MENTION}))),(t===u.NotificationSections.DESKTOP||t===u.NotificationSections.PUSH)&&l.default.createElement("div",{className:"radio"},l.default.createElement("label",null,l.default.createElement("input",{id:"channelNotificationNever",type:"radio",value:u.NotificationLevels.NONE,checked:a===u.NotificationLevels.NONE,onChange:r}),l.default.createElement(p.default,{section:t,memberNotifyLevel:u.NotificationLevels.NONE}))))];return l.default.createElement(c.default,{title:l.default.createElement(v.default,{section:t}),inputs:d,submit:i,server_error:o,updateSection:s,extraInfo:l.default.createElement(m.default,{section:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(12),d=a(1152),c=n(d),f=a(1337),p=n(f),h=a(1763),m=n(h),g=a(1338),v=n(g);r.propTypes={onChange:o.default.func.isRequired,onCollapseSection:o.default.func.isRequired,onSubmit:o.default.func.isRequired,globalNotifyLevel:o.default.string,memberNotifyLevel:o.default.string.isRequired,section:o.default.string.isRequired,serverError:o.default.string}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.section;return t===d.NotificationSections.DESKTOP?l.default.createElement("span",null,l.default.createElement(u.FormattedMessage,{id:"channel_notifications.override",defaultMessage:'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.'})):t===d.NotificationSections.PUSH?l.default.createElement("span",null,l.default.createElement(u.FormattedMessage,{id:"channel_notifications.overridePush",defaultMessage:'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.'})):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(12);r.propTypes={section:o.default.string.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(81),E=a(12),w=n(E),C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleDelete=a.handleDelete.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.onHide=a.onHide.bind(a),a.state={show:!0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"handleDelete",value:function(){this.props.channel.id.length===w.default.CHANNEL_ID_LENGTH&&(y.browserHistory.push("/"+this.props.currentTeamDetails.name+"/channels/"+w.default.DEFAULT_CHANNEL),this.props.actions.deleteChannel(this.props.channel.id),this.onHide())}},{key:"onHide",value:function(){this.setState({show:!1})}},{key:"handleKeyDown",value:function(e){e.keyCode===w.default.KeyCodes.ENTER&&this.handleDelete()}},{key:"render",value:function(){return v.default.createElement(b.Modal,{show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,onKeyDown:this.handleKeyDown},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement("h4",{className:"modal-title"},v.default.createElement(_.FormattedMessage,{id:"delete_channel.confirm",defaultMessage:"Confirm DELETE Channel"}))),v.default.createElement(b.Modal.Body,null,v.default.createElement("div",{className:"alert alert-danger"},v.default.createElement(_.FormattedHTMLMessage,{id:"delete_channel.question",defaultMessage:"This will delete the channel from the team and make its contents inaccessible for all users. <br /><br />Are you sure you wish to delete the <strong>{display_name}</strong> channel?",values:{display_name:this.props.channel.display_name}}))),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.onHide},v.default.createElement(_.FormattedMessage,{id:"delete_channel.cancel",defaultMessage:"Cancel"})),v.default.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.handleDelete},v.default.createElement(_.FormattedMessage,{id:"delete_channel.del",defaultMessage:"Delete"}))))}}]),t}(v.default.PureComponent);C.propTypes={onHide:m.default.func.isRequired,channel:m.default.object.isRequired,currentTeamDetails:m.default.object.isRequired,actions:m.default.shape({deleteChannel:m.default.func.isRequired})},t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(48),v=n(g),b=a(59),_=n(b),y=a(304),E=a(47),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onListenerChange=a.onListenerChange.bind(a),a.state=(0,y.getCountsStateFromStores)(),a.mounted=!1,a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,v.default.addChangeListener(this.onListenerChange),_.default.addChangeListener(this.onListenerChange)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,v.default.removeChangeListener(this.onListenerChange),_.default.removeChangeListener(this.onListenerChange)}},{key:"onListenerChange",value:function(){if(this.mounted){var e=(0,y.getCountsStateFromStores)();w.areObjectsEqual(e,this.state)||this.setState(e)}}},{key:"render",value:function(){return this.state.mentionCount?m.default.createElement("span",{className:"badge badge-notify"},this.state.mentionCount):this.state.messageCount?m.default.createElement("span",{className:"badge badge-notify"},"•"):null}}]),t}(m.default.Component);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{showTeamSwitcher:!1})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(1767),u=n(l);t.default=(0,s.connect)(r)(u.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(215),y=a(214),E=a(144),w=a(81),C=a(172),x=a(40),M=r(x),S=a(12),k=r(S),T=a(47),P=n(T),N=a(169),O=n(N),I=a(1223),R=r(I),A=a(1224),L=r(A),D=a(1768),F=r(D),U=a(1769),j=r(U),H=a(311),B=(0,H.initFeedback)(),q=M.default.getState,z=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.setSwitchBoxRef=function(e){a.switchBox=e,a.focusTextbox()},a.handleOnClick=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-mode");a.enableChannelProvider(),a.setState({mode:t}),a.focusTextbox()},a.onChange=a.onChange.bind(a),a.onShow=a.onShow.bind(a),a.onHide=a.onHide.bind(a),a.onExited=a.onExited.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.switchToChannel=a.switchToChannel.bind(a),a.switchMode=a.switchMode.bind(a),a.focusTextbox=a.focusTextbox.bind(a),a.enableChannelProvider=a.enableChannelProvider.bind(a),a.enableTeamProvider=a.enableTeamProvider.bind(a),a.channelProviders=[new F.default],a.teamProviders=[new j.default],a.switchBox=null,a.state={text:"",mode:e.initialMode},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.show&&e.show&&this.setState({mode:e.initialMode,text:""})}},{key:"focusTextbox",value:function(){if(null!=this.switchBox){var e=this.switchBox.getTextbox();document.activeElement!==e&&(e.focus(),P.placeCaretAtEnd(e))}}},{key:"onShow",value:function(){this.setState({text:""})}},{key:"onHide",value:function(){this.setState({text:""}),this.props.onHide()}},{key:"onExited",value:function(){O.isMobile()||setTimeout(function(){var e=document.querySelector("#post_textbox");e&&e.focus()})}},{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleKeyDown",value:function(e){e.keyCode===k.default.KeyCodes.TAB&&(e.preventDefault(),this.switchMode())}},{key:"handleSubmit",value:function(e){var t=this,a=null;if(e)if("channel"===this.state.mode){var n=e.channel;n.type===k.default.DM_CHANNEL?(0,C.openDirectChannelToUser)(n.id,function(e){a=e,t.switchToChannel(a)},function(){a=null,t.switchToChannel(a)}):n.type===k.default.GM_CHANNEL?(a=(0,E.getChannel)(q(),n.id),this.switchToChannel(a)):this.switchToChannel(n),B({via:"QuickSwitcher",channel:{id:n.id}},"ChannelSwitched")}else w.browserHistory.push("/"+e.name),this.onHide()}},{key:"switchToChannel",value:function(e){null!=e&&((0,C.goToChannel)(e),this.onHide())}},{key:"enableChannelProvider",value:function(){this.channelProviders[0].disableDispatches=!1,this.teamProviders[0].disableDispatches=!0}},{key:"enableTeamProvider",value:function(){this.teamProviders[0].disableDispatches=!1,this.channelProviders[0].disableDispatches=!0}},{key:"switchMode",value:function(){"channel"===this.state.mode&&this.props.showTeamSwitcher?(this.enableTeamProvider(),this.setState({mode:"team"})):"team"===this.state.mode&&(this.enableChannelProvider(),this.setState({mode:"channel"}))}},{key:"render",value:function(){var e=this.channelProviders,t=void 0,a=!0,n="quick_switch_modal.channelsShortcut.windows",r="CTRL+K";P.isMac()&&(n="quick_switch_modal.channelsShortcut.mac",r="CMD+K");var i="quick_switch_modal.teamsShortcut.windows",o="CTRL+ALT+K";if(P.isMac()&&(i="quick_switch_modal.teamsShortcut.mac",o="CMD+ALT+K"),this.props.showTeamSwitcher){var s="",l="";"team"===this.state.mode?(e=this.teamProviders,a=!1,l="active"):s="active",t=b.default.createElement("div",{className:"nav nav-tabs"},b.default.createElement("li",{className:s},b.default.createElement("a",{"data-mode":"channel",href:"#",onClick:this.handleOnClick},b.default.createElement(y.FormattedMessage,{id:"quick_switch_modal.channels",defaultMessage:"Channels"}),b.default.createElement("span",{className:"small"},b.default.createElement(y.FormattedMessage,{id:n,defaultMessage:r})))),b.default.createElement("li",{className:l},b.default.createElement("a",{"data-mode":"team",href:"#",onClick:this.handleOnClick},b.default.createElement(y.FormattedMessage,{id:"quick_switch_modal.teams",defaultMessage:"Teams"}),b.default.createElement("span",{className:"small"},b.default.createElement(y.FormattedMessage,{id:i,defaultMessage:o})))))}var u=void 0;return u=P.isMobile()?b.default.createElement(y.FormattedMessage,{id:"quick_switch_modal.help_mobile",defaultMessage:"Type to find a channel."}):this.props.showTeamSwitcher?b.default.createElement(y.FormattedMessage,{id:"quick_switch_modal.help",defaultMessage:"Start typing then use TAB to toggle channels/teams, ↑↓ to browse, ↵ to select, and ESC to dismiss."}):b.default.createElement(y.FormattedMessage,{id:"quick_switch_modal.help_no_team",defaultMessage:"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss."}),b.default.createElement(_.Modal,{dialogClassName:"channel-switch-modal modal--overflow",ref:"modal",show:this.props.show,onHide:this.onHide,onExited:this.onExited},b.default.createElement(_.Modal.Header,{closeButton:!0}),b.default.createElement(_.Modal.Body,null,t,b.default.createElement("div",{className:"modal__hint"},u),b.default.createElement(R.default,{ref:this.setSwitchBoxRef,className:"form-control focused",onChange:this.onChange,value:this.state.text,onKeyDown:this.handleKeyDown,onItemSelected:this.handleSubmit,listComponent:L.default,maxLength:"64",providers:e,listStyle:"bottom",completeOnTab:!1,renderDividers:a})))}}]),t}(b.default.PureComponent);z.propTypes={initialMode:g.default.string.isRequired,show:g.default.bool.isRequired,onHide:g.default.func.isRequired,showTeamSwitcher:g.default.bool},z.defaultProps={initialMode:"channel"},t.default=z},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(e.type===z.Constants.MENTION_CHANNELS&&t.type===z.Constants.MENTION_MORE_CHANNELS)return-1;if(t.type===z.Constants.MENTION_CHANNELS&&e.type===z.Constants.MENTION_MORE_CHANNELS)return 1;if(e.deactivated&&!t.deactivated)return 1;if(t.deactivated&&!e.deactivated)return-1;var a=e.channel,n=t.channel,r=(0,q.getChannelDisplayName)(a).toLowerCase(),i=(0,q.getChannelDisplayName)(n).toLowerCase();a.type===z.Constants.DM_CHANNEL&&(r=r.substring(1)),n.type===z.Constants.DM_CHANNEL&&(i=i.substring(1));var o=r.startsWith(J),s=i.startsWith(J);return o&&s?(0,q.sortChannelsByDisplayName)(a,n):o||s?o?-1:1:(0,q.sortChannelsByDisplayName)(a,n)}function i(e){var t=e.toLowerCase(),a=X(),n=(0,R.getUserIdsInChannels)(a),r={};return function(e){var i=e.display_name;if(e.type===z.Constants.GM_CHANNEL||e.type===z.Constants.DM_CHANNEL){var o=n[e.id]||[],s=!0,l=!1,u=void 0;try{for(var d,c=(0,m.default)(o);!(s=(d=c.next()).done);s=!0){var f=d.value,p=r[f];if(!p){var h=(0,R.getUser)(a,f);if(!h)continue;p=""+h.nickname+h.username+W.getFullName(h),r[f]=p}i+=p}}catch(e){l=!0,u=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw u}}}return i.toLowerCase().includes(t)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(55),s=n(o),l=a(67),u=n(l),d=a(68),c=n(d),f=a(88),p=n(f),h=a(70),m=n(h),g=a(34),v=n(g),b=a(30),_=n(b),y=a(31),E=n(y),w=a(35),C=n(w),x=a(36),M=n(x),S=a(0),k=n(S),T=a(23),P=a(18),N=a(144),O=a(89),I=a(170),R=a(69),A=a(1268),L=n(A),D=a(1269),F=n(D),U=a(49),j=n(U),H=a(40),B=n(H),q=a(304),z=a(12),G=a(47),W=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(G),V=a(1183),$=n(V),K=a(1167),Y=n(K),X=B.default.getState,Z=function(e){function t(){return(0,_.default)(this,t),(0,C.default)(this,(t.__proto__||(0,v.default)(t)).apply(this,arguments))}return(0,M.default)(t,e),(0,E.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSelection,n=t.channel,r="mentions__name";a&&(r+=" suggestion--selected");var i=n.display_name,o=null;return n.type===z.Constants.OPEN_CHANNEL?o=k.default.createElement(L.default,{className:"icon icon__globe icon--body"}):n.type===z.Constants.PRIVATE_CHANNEL?o=k.default.createElement(F.default,{className:"icon icon__lock icon--body"}):n.type===z.Constants.GM_CHANNEL?(i=(0,q.getChannelDisplayName)(n),o=k.default.createElement("div",{className:"status status--group"},"G")):o=k.default.createElement("div",{className:"pull-left"},k.default.createElement("img",{className:"mention__image",src:W.imageURLForUser(n)})),k.default.createElement("div",{onClick:this.handleClick,className:r},o,i)}}]),t}(Y.default),J="",Q=function(t){function a(){return(0,_.default)(this,a),(0,C.default)(this,(a.__proto__||(0,v.default)(a)).apply(this,arguments))}return(0,M.default)(a,t),(0,E.default)(a,[{key:"handlePretextChanged",value:function(e,t){if(t){J=t,this.startNewRequest(e,t);var a=(0,N.getChannelsInCurrentTeam)(X()).concat((0,N.getGroupChannels)(X())),n=(0,p.default)([],(0,R.searchProfiles)(X(),t,!0));return this.formatChannelsAndDispatch(t,e,a,n,!0),this.fetchUsersAndChannels(t,e),!0}return!1}},{key:"fetchUsersAndChannels",value:function(){function t(e,t){return a.apply(this,arguments)}var a=(0,c.default)(u.default.mark(function t(a,n){var r,i,o,s,l,d,c;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,I.getCurrentTeamId)(X())){t.next=3;break}return t.abrupt("return");case 3:return i=void 0,i="team"===e.window.mm_config.RestrictDirectMessage?T.Client4.autocompleteUsers(a,r,""):T.Client4.autocompleteUsers(a,"",""),o=T.Client4.searchChannels(r,a),s=[],l=[],t.prev=8,t.next=11,i;case 11:return s=t.sent,t.next=14,o;case 14:l=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(8),j.default.handleServerAction({type:z.ActionTypes.RECEIVED_ERROR,err:t.t0});case 20:if(!this.shouldCancelDispatch(a)){t.next=22;break}return t.abrupt("return");case 22:d=(0,p.default)([],(0,R.searchProfiles)(X(),a,!0)).concat(s.users),c=(0,N.getChannelsInCurrentTeam)(X()).concat((0,N.getGroupChannels)(X())).concat(l),this.formatChannelsAndDispatch(a,n,c,d);case 25:case"end":return t.stop()}},t,this,[[8,17]])}));return t}()},{key:"formatChannelsAndDispatch",value:function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=[],u=(0,N.getMyChannelMemberships)(X());if(!this.shouldCancelDispatch(e)){var d=(0,R.getCurrentUserId)(X()),c={},f=i(e),h=!0,g=!1,v=void 0;try{for(var b,_=(0,m.default)((0,s.default)(a));!(h=(b=_.next()).done);h=!0){var y=b.value,E=a[y];if(!c[E.id]&&f(E)){var w=(0,p.default)({},E),C={channel:w,name:w.name,deactivated:!1};if(w.type===z.Constants.GM_CHANNEL){w.name=(0,q.getChannelDisplayName)(w),C.name=w.name;if((0,O.getBool)(X(),P.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,w.id,!1))C.type=z.Constants.MENTION_CHANNELS;else if(C.type=z.Constants.MENTION_MORE_CHANNELS,o)continue}else if(u[E.id])C.type=z.Constants.MENTION_CHANNELS;else if(C.type=z.Constants.MENTION_MORE_CHANNELS,o||!w.display_name.toLowerCase().startsWith(e))continue;c[E.id]=!0,l.push(C)}}}catch(e){g=!0,v=e}finally{try{!h&&_.return&&_.return()}finally{if(g)throw v}}for(var x=0;x<n.length;x++){var M=n[x];if(!c[M.id]){var S=(0,O.getBool)(X(),P.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,M.id,!1),k="@"+M.username;if(M.id!==d){(M.first_name||M.last_name)&&M.nickname?k+=" - "+W.getFullName(M)+" ("+M.nickname+")":M.nickname?k+=" - ("+M.nickname+")":(M.first_name||M.last_name)&&(k+=" - "+W.getFullName(M)),M.delete_at&&(k+=" - "+W.localizeMessage("channel_switch_modal.deactivated","Deactivated"));var T={channel:{display_name:k,name:M.username,id:M.id,update_at:M.update_at,type:z.Constants.DM_CHANNEL,last_picture_update:M.last_picture_update||0},name:M.username,deactivated:M.delete_at};if(S)T.type=z.Constants.MENTION_CHANNELS;else if(T.type=z.Constants.MENTION_MORE_CHANNELS,o)continue;c[M.id]=!0,l.push(T)}}}var I=l.sort(r).map(function(e){return e.channel.name});o&&l.push({type:z.Constants.MENTION_MORE_CHANNELS,loading:!0}),setTimeout(function(){j.default.handleServerAction({type:z.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:t,matchedPretext:e,terms:I,items:l,component:Z})},0)}}}]),a}($.default);t.default=Q}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.display_name.toLowerCase(),n=t.display_name.toLowerCase(),r=a.startsWith(I),i=n.startsWith(I);if(r&&i){var o=w.default.getLocale();return a!==n?a.localeCompare(n,o,{numeric:!0}):e.name.localeCompare(t.name,o,{numeric:!0})}return r?-1:1}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=n(i),s=a(30),l=n(s),u=a(31),d=n(u),c=a(35),f=n(c),p=a(36),h=n(p),m=a(0),g=n(m),v=a(170),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(v),_=a(49),y=n(_),E=a(221),w=n(E),C=a(40),x=n(C),M=a(12),S=a(1183),k=n(S),T=a(1167),P=n(T),N=x.default.getState,O=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSelection,n="mentions__name";return a&&(n+=" suggestion--selected"),g.default.createElement("div",{onClick:this.handleClick,className:n},g.default.createElement("div",{className:"status"},g.default.createElement("i",{className:"fa fa-group"})),t.display_name)}}]),t}(P.default),I="",R=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handlePretextChanged",value:function(e,t){if(t){I=t,this.startNewRequest(e,t);var a=b.getMyTeams(N()),n=a.filter(function(e){return-1!==e.display_name.toLowerCase().indexOf(t)||-1!==e.name.indexOf(t)}),i=n.sort(r).map(function(e){return e.name});return setTimeout(function(){y.default.handleServerAction({type:M.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:e,matchedPretext:t,terms:i,items:n,component:O})},0),!0}return!1}}]),t}(k.default);t.default=R},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RenameChannelModal=void 0;var r=a(67),i=n(r),o=a(88),s=n(o),l=a(68),u=n(l),d=a(34),c=n(d),f=a(30),p=n(f),h=a(31),m=n(h),g=a(35),v=n(g),b=a(36),_=n(b),y=a(27),E=n(y),w=a(0),C=n(w),x=a(215),M=a(214),S=a(81),k=a(12),T=n(k),P=a(143),N=a(47),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(N),I=(0,M.defineMessages)({required:{id:"rename_channel.required",defaultMessage:"This field is required"},maxLength:{id:"rename_channel.maxLength",defaultMessage:"This field must be less than {maxLength, number} characters"},lowercase:{id:"rename_channel.lowercase",defaultMessage:"Must be lowercase alphanumeric characters"},url:{id:"rename_channel.url",defaultMessage:"URL"},defaultError:{id:"rename_channel.defaultError",defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:"rename_channel.displayNameHolder",defaultMessage:"Enter display name"},handleHolder:{id:"rename_channel.handleHolder",defaultMessage:"lowercase alphanumeric characters"}}),R=t.RenameChannelModal=function(e){function t(e){var a=this;(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.setError=function(e){n.setState({serverError:e.message})},n.unsetError=function(){n.setState({serverError:""})},n.handleEntering=function(){O.placeCaretAtEnd(n.textbox)},n.handleHide=function(e){e&&e.preventDefault(),n.props.onHide(),n.setState({serverError:"",nameError:"",displayNameError:"",invalid:!1})},n.handleSubmit=function(){var e=(0,u.default)(i.default.mark(function e(t){var r,o,l,u,d,c,f,p,h,m,g,v;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),r=(0,s.default)({},n.props.channel),o=r.name,l=r.display_name,u={serverError:""},d=n.props.intl.formatMessage,c=n.props,f=c.actions.updateChannel,p=c.team,r.display_name=n.state.displayName.trim(),r.display_name?r.display_name.length>T.default.MAX_CHANNELNAME_LENGTH?(u.displayNameError=d(I.maxLength,{maxLength:T.default.MAX_CHANNELNAME_LENGTH}),u.invalid=!0):r.display_name.length<T.default.MIN_CHANNELNAME_LENGTH?(u.displayNameError=C.default.createElement(M.FormattedMessage,{id:"rename_channel.minLength",defaultMessage:"Channel name must be {minLength, number} or more characters",values:{minLength:T.default.MIN_CHANNELNAME_LENGTH}}),u.invalid=!0):u.displayNameError="":(u.displayNameError=d(I.required),u.invalid=!0),r.name=n.state.channelName.trim(),r.name?r.name.length>T.default.MAX_CHANNELNAME_LENGTH?(u.nameError=d(I.maxLength,{maxLength:T.default.MAX_CHANNELNAME_LENGTH}),u.invalid=!0):(h=(0,P.cleanUpUrlable)(r.name),h===r.name?u.nameError="":(u.nameError=d(I.lowercase),u.invalid=!0)):(u.nameError=d(I.required),u.invalid=!0),n.setState(u),!(u.invalid||o===r.name&&l===r.display_name)){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,f(r);case 16:m=e.sent,g=m.data,v=m.error,g?(n.handleHide(),n.unsetError(),S.browserHistory.push("/"+p.name+"/channels/"+n.state.channelName)):v&&n.setError(v);case 20:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.handleCancel=function(e){n.setState({displayName:n.props.channel.display_name,channelName:n.props.channel.name}),n.handleHide(e)},n.onNameChange=function(e){n.setState({channelName:e.target.value})},n.onDisplayNameChange=function(e){n.setState({displayName:e.target.value})},n.getTextbox=function(e){n.textbox=e},n.state={displayName:e.channel.display_name,channelName:e.channel.name,serverError:"",nameError:"",displayNameError:"",invalid:!1},n}return(0,_.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){O.areObjectsEqual(e.channel,this.props.channel)||this.setState({displayName:e.channel.display_name,channelName:e.channel.name})}},{key:"render",value:function(){var e=null,t="form-group";this.state.displayNameError&&(e=C.default.createElement("label",{className:"control-label"},this.state.displayNameError),t+=" has-error");var a=null,n="form-group";this.state.nameError&&(a=C.default.createElement("label",{className:"control-label"},this.state.nameError),n+=" has-error");var r=null;this.state.serverError&&(r=C.default.createElement("div",{className:"form-group has-error"},C.default.createElement("label",{className:"control-label"},this.state.serverError)));var i=this.props.intl.formatMessage,o=i(I.url),s=!1;this.state.channelName===T.default.DEFAULT_CHANNEL&&(o+=i(I.defaultError),s=!0);var l=this.props.currentTeamUrl+"/channels",u=(0,P.getShortenedURL)(l,35),d=C.default.createElement(x.Tooltip,{id:"urlTooltip"},l);return C.default.createElement(x.Modal,{show:this.props.show,onEntering:this.handleEntering,onHide:this.handleCancel},C.default.createElement(x.Modal.Header,{closeButton:!0},C.default.createElement(x.Modal.Title,null,C.default.createElement(M.FormattedMessage,{id:"rename_channel.title",defaultMessage:"Rename Channel"}))),C.default.createElement("form",{role:"form"},C.default.createElement(x.Modal.Body,null,C.default.createElement("div",{className:t},C.default.createElement("label",{className:"control-label"},C.default.createElement(M.FormattedMessage,{id:"rename_channel.displayName",defaultMessage:"Display Name"})),C.default.createElement("input",{onChange:this.onDisplayNameChange,type:"text",ref:this.getTextbox,id:"display_name",className:"form-control",placeholder:i(I.displayNameHolder),value:this.state.displayName,maxLength:T.default.MAX_CHANNELNAME_LENGTH}),e),C.default.createElement("div",{className:n},C.default.createElement("label",{className:"control-label"},o),C.default.createElement("div",{className:"input-group input-group--limit"},C.default.createElement(x.OverlayTrigger,{trigger:["hover","focus"],delayShow:T.default.OVERLAY_TIME_DELAY,placement:"top",overlay:d},C.default.createElement("span",{className:"input-group-addon"},u)),C.default.createElement("input",{onChange:this.onNameChange,type:"text",className:"form-control",id:"channel_name",placeholder:i(I.handleHolder),value:this.state.channelName,maxLength:T.default.MAX_CHANNELNAME_LENGTH,readOnly:s})),a),r),C.default.createElement(x.Modal.Footer,null,C.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},C.default.createElement(M.FormattedMessage,{id:"rename_channel.cancel",defaultMessage:"Cancel"})),C.default.createElement("button",{onClick:this.handleSubmit,type:"submit",id:"save-button",className:"btn btn-primary"},C.default.createElement(M.FormattedMessage,{id:"rename_channel.save",defaultMessage:"Save"})))))}}]),t}(C.default.PureComponent);R.propTypes={intl:M.intlShape.isRequired,show:E.default.bool.isRequired,onHide:E.default.func.isRequired,channel:E.default.object.isRequired,team:E.default.object.isRequired,currentTeamUrl:E.default.string.isRequired,actions:E.default.shape({updateChannel:E.default.func.isRequired}).isRequired},t.default=(0,M.injectIntl)(R)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(459),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"show",value:function(e){e&&e.preventDefault();var t=this.props,a=t.modalId,n=t.dialogProps,r=t.dialogType,i={modalId:a,dialogProps:n,dialogType:r};this.props.actions.openModal(i)}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.onClick,r=(0,s.default)(t,["children","onClick"]);delete r.modalId,delete r.dialogType,delete r.dialogProps;var o=function(){return e.show()};return n&&(o=function(t){n(),e.show(t)}),E.default.createElement("button",(0,i.default)({},r,{className:"style--none "+r.className,onClick:o}),a)}}]),t}(E.default.Component);w.propTypes={children:_.default.node.isRequired,modalId:_.default.string.isRequired,dialogType:_.default.func.isRequired,dialogProps:_.default.object,onClick:_.default.func,className:_.default.string,actions:_.default.shape({openModal:_.default.func.isRequired}).isRequired},w.defaultProps={dialogProps:{},className:""},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(1343),E=n(y),w=a(1773),C=n(w),x=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.showEditChannelHeaderModal=function(){n.refs.headerOverlay.hide(),n.props.showEditChannelHeaderModal()},n.hide=function(){n.refs.headerOverlay.hide()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=null;if(this.props.channel)if(this.props.channel.header)e=v.default.createElement(E.default,{message:this.props.channel.header,options:{singleline:!0,mentionHighlight:!1}});else{var t=v.default.createElement("a",{href:"#",onClick:this.showEditChannelHeaderModal},v.default.createElement(_.FormattedMessage,{id:"navbar.click",defaultMessage:"Click here"}));e=v.default.createElement("div",null,v.default.createElement(_.FormattedMessage,{id:"navbar.noHeader",defaultMessage:"No channel header yet.{newline}{link} to add one.",values:{newline:v.default.createElement("br",null),link:t}}))}var a=v.default.createElement(b.Popover,{bsStyle:"info",placement:"bottom",id:"header-popover"},e,v.default.createElement("div",{className:"close visible-xs-block",onClick:this.hide},"×"));return v.default.createElement(b.OverlayTrigger,{ref:"headerOverlay",trigger:"click",placement:"bottom",overlay:a,className:"description",rootClose:!0},v.default.createElement("div",{className:"navbar-toggle navbar-right__icon navbar-info-button pull-right"},v.default.createElement(C.default,{className:"icon icon__info","aria-hidden":"true"})))}}]),t}(v.default.PureComponent);x.propTypes={channel:m.default.object,showEditChannelHeaderModal:m.default.func.isRequired},t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-388.000000, -18.000000)",fill:"inherit"},m.default.createElement("g",null,m.default.createElement("g",{transform:"translate(381.000000, 11.000000)"},m.default.createElement("g",{transform:"translate(7.000000, 7.000000)"},m.default.createElement("path",{d:"M11,22 C4.92486775,22 0,17.0751322 0,11 C0,4.92486775 4.92486775,0 11,0 C17.0751322,0 22,4.92486775 22,11 C22,17.0751322 17.0751322,22 11,22 Z M11,20.7924685 C16.408231,20.7924685 20.7924685,16.408231 20.7924685,11 C20.7924685,5.59176898 16.408231,1.20753149 11,1.20753149 C5.59176898,1.20753149 1.20753149,5.59176898 1.20753149,11 C1.20753149,16.408231 5.59176898,20.7924685 11,20.7924685 Z M10.1572266,16.0625 L10.1572266,8.69335938 L11.3466797,8.69335938 L11.3466797,16.0625 L10.1572266,16.0625 Z M10.7519531,7.50390625 C10.3417969,7.50390625 10,7.16210938 10,6.75195312 C10,6.33496094 10.3417969,6 10.7519531,6 C11.1689453,6 11.5039062,6.33496094 11.5039062,6.75195312 C11.5039062,7.16210938 11.1689453,7.50390625 10.7519531,7.50390625 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(0),v=n(g),b=a(39),_=n(b),y=a(214),E=a(81),w=a(174),C=n(w),x=a(48),M=n(x),S=a(59),k=n(S),T=a(42),P=n(T),N=a(12),O=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleShow=a.handleShow.bind(a),a.handleClose=a.handleClose.bind(a),a.state={channelName:"",remover:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"handleShow",value:function(){var e={};C.default.getItem("channel-removed-state")&&(e=C.default.getItem("channel-removed-state"),C.default.removeItem("channel-removed-state"));var t=M.default.getByName(N.Constants.DEFAULT_CHANNEL);setTimeout(function(){E.browserHistory.push(k.default.getCurrentTeamRelativeUrl()+"/channels/"+t.name)},1),this.setState(e)}},{key:"handleClose",value:function(){this.setState({channelName:"",remover:""})}},{key:"componentDidMount",value:function(){(0,m.default)(_.default.findDOMNode(this)).on("show.bs.modal",this.handleShow),(0,m.default)(_.default.findDOMNode(this)).on("hidden.bs.modal",this.handleClose)}},{key:"componentWillUnmount",value:function(){(0,m.default)(_.default.findDOMNode(this)).off("show.bs.modal",this.handleShow),(0,m.default)(_.default.findDOMNode(this)).off("hidden.bs.modal",this.handleClose)}},{key:"render",value:function(){var e=P.default.getCurrentUser(),t=v.default.createElement(y.FormattedMessage,{id:"removed_channel.channelName",defaultMessage:"the channel"});this.state.channelName&&(t=this.state.channelName);var a=v.default.createElement(y.FormattedMessage,{id:"removed_channel.someone",defaultMessage:"Someone"});return this.state.remover&&(a=this.state.remover),null!=e?v.default.createElement("div",{className:"modal fade",ref:"modal",id:"removed_from_channel",tabIndex:"-1",role:"dialog","aria-hidden":"true"},v.default.createElement("div",{className:"modal-dialog"},v.default.createElement("div",{className:"modal-content"},v.default.createElement("div",{className:"modal-header"},v.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},v.default.createElement("span",{"aria-hidden":"true"},"×")),v.default.createElement("h4",{className:"modal-title"},v.default.createElement(y.FormattedMessage,{id:"removed_channel.from",defaultMessage:"Removed from "}),v.default.createElement("span",{className:"name"},t))),v.default.createElement("div",{className:"modal-body"},v.default.createElement("p",null,v.default.createElement(y.FormattedMessage,{id:"removed_channel.remover",defaultMessage:"{remover} removed you from {channel}",values:{remover:a,channel:t}}))),v.default.createElement("div",{className:"modal-footer"},v.default.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},v.default.createElement(y.FormattedMessage,{id:"removed_channel.okay",defaultMessage:"Okay"})))))):v.default.createElement("div",null)}}]),t}(v.default.Component);t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.entities.users.currentUserId;return(0,s.default)({},t,{autoResetPref:(0,p.get)(e,f.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,a,"")})}function i(e){return{actions:(0,u.bindActionCreators)({autoResetStatus:h.autoResetStatus,setStatus:c.setStatus,savePreferences:d.savePreferences},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(148),c=a(82),f=a(18),p=a(89),h=a(168),m=a(1776),g=n(m);t.default=(0,l.connect)(r,i)(g.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(214),E=a(18),w=a(47),C=a(1144),x=n(C),M=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.onConfirm=function(e){a.setState({show:!1});var t=(0,i.default)({},a.state.currentUserStatus);if(t.status="online",a.props.actions.setStatus(t),e){var n={category:E.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:t.user_id,name:t.user_id,value:"true"};a.props.actions.savePreferences(n.user_id,[n])}},a.onCancel=function(e){if(a.setState({show:!1}),e){var t=(0,i.default)({},a.state.currentUserStatus),n={category:E.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:t.user_id,name:t.user_id,value:"false"};a.props.actions.savePreferences(n.user_id,[n])}},a.state={show:!1,currentUserStatus:{}},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.actions.autoResetStatus().then(function(t){var a=t.manual,n=""===e.props.autoResetPref;e.setState({currentUserStatus:t,show:Boolean(a&&n)})})}},{key:"render",value:function(){var e=this.state.currentUserStatus.status||"",t="modal.manaul_status.title_"+e,a=_.default.createElement(y.FormattedMessage,{id:t,defaultMessage:'Your status is set to "{status}"',values:{status:(0,w.toTitleCase)(e)}}),n=_.default.createElement(y.FormattedMessage,{id:"modal.manaul_status.message",defaultMessage:'Would you like to switch your status to "Online"?'}),r=_.default.createElement(y.FormattedMessage,{id:"modal.manaul_status.button",defaultMessage:'Yes, set my status to "Online"'}),i="modal.manual_status.cancel_"+e,o=_.default.createElement(y.FormattedMessage,{id:i,defaultMessage:'No, keep it as "{status}"',values:{status:(0,w.toTitleCase)(e)}}),s=_.default.createElement(y.FormattedMessage,{id:"modal.manaul_status.ask",defaultMessage:"Do not ask me again"});return _.default.createElement(x.default,{show:this.state.show,title:a,message:n,confirmButtonText:r,onConfirm:this.onConfirm,cancelButtonText:o,onCancel:this.onCancel,showCheckbox:!0,checkboxText:s})}}]),t}(_.default.PureComponent);M.propTypes={autoResetPref:v.default.string,actions:v.default.shape({autoResetStatus:v.default.func.isRequired,setStatus:v.default.func.isRequired,savePreferences:v.default.func.isRequired}).isRequired},t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!e)return null;var t=e.split("\t"),a=y.default.createElement("span",null,t[0]),n=null;return t.length>1&&(n=t[1].split("|").map(function(e){return y.default.createElement("span",{className:"shortcut-key",key:e},e)})),y.default.createElement("div",{className:"shortcut-line"},a,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(55),o=n(i),s=a(34),l=n(s),u=a(30),d=n(u),c=a(31),f=n(c),p=a(35),h=n(p),m=a(36),g=n(m),v=a(27),b=n(v),_=a(0),y=n(_),E=a(215),w=a(214),C=a(1155),x=n(C),M=a(12),S=n(M),k=(0,w.defineMessages)({mainHeader:{default:{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts\tCtrl|/"},mac:{id:"shortcuts.header.mac",defaultMessage:"Keyboard Shortcuts\t⌘|/"}},navHeader:{id:"shortcuts.nav.header",defaultMessage:"Navigation"},navPrev:{default:{id:"shortcuts.nav.prev",defaultMessage:"Previous channel:\tAlt|Up"},mac:{id:"shortcuts.nav.prev.mac",defaultMessage:"Previous channel:\t⌥|Up"}},navNext:{default:{id:"shortcuts.nav.next",defaultMessage:"Next channel:\tAlt|Down"},mac:{id:"shortcuts.nav.next.mac",defaultMessage:"Next channel:\t⌥|Down"}},navUnreadPrev:{default:{id:"shortcuts.nav.unread_prev",defaultMessage:"Previous unread channel:\tAlt|Shift|Up"},mac:{id:"shortcuts.nav.unread_prev.mac",defaultMessage:"Previous unread channel:\t⌥|Shift|Up"}},navUnreadNext:{default:{id:"shortcuts.nav.unread_next",defaultMessage:"Next unread channel:\tAlt|Shift|Down"},mac:{id:"shortcuts.nav.unread_next.mac",defaultMessage:"Next unread channel:\t⌥|Shift|Down"}},navSwitcher:{default:{id:"shortcuts.nav.switcher",defaultMessage:"Quick channel switcher:\tCtrl|K"},mac:{id:"shortcuts.nav.switcher.mac",defaultMessage:"Quick channel switcher:\t⌘|K"}},navDMMenu:{default:{id:"shortcuts.nav.direct_messages_menu",defaultMessage:"Direct messages menu:\tCtrl|Shift|K"},mac:{id:"shortcuts.nav.direct_messages_menu.mac",defaultMessage:"Direct messages menu:\t⌘|Shift|K"}},navSettings:{default:{id:"shortcuts.nav.settings",defaultMessage:"Account settings:\tCtrl|Shift|A"},mac:{id:"shortcuts.nav.settings.mac",defaultMessage:"Account settings:\t⌘|Shift|A"}},navMentions:{default:{id:"shortcuts.nav.recent_mentions",defaultMessage:"Recent mentions:\tCtrl|Shift|M"},mac:{id:"shortcuts.nav.recent_mentions.mac",defaultMessage:"Recent mentions:\t⌘|Shift|M"}},navFocusCenter:{default:{id:"shortcuts.nav.focus_center",defaultMessage:"Set focus to input field:\tCtrl|Shift|L"},mac:{id:"shortcuts.nav.focus_center.mac",defaultMessage:"Set focus to input field:\t⌘|Shift|L"}},msgHeader:{id:"shortcuts.msgs.header",defaultMessage:"Messages"},msgInputHeader:{id:"shortcuts.msgs.input.header",defaultMessage:"Works inside an empty input field"},msgEdit:{id:"shortcuts.msgs.edit",defaultMessage:"Edit last message in channel:\tUp"},msgReply:{id:"shortcuts.msgs.reply",defaultMessage:"Reply to last message in channel:\tShift|Up"},msgReprintPrev:{default:{id:"shortcuts.msgs.reprint_prev",defaultMessage:"Reprint previous message:\tCtrl|Up"},mac:{id:"shortcuts.msgs.reprint_prev.mac",defaultMessage:"Reprint previous message:\t⌘|Up"}},msgReprintNext:{default:{id:"shortcuts.msgs.reprint_next",defaultMessage:"Reprint next message:\tCtrl|Down"},mac:{id:"shortcuts.msgs.reprint_next.mac",defaultMessage:"Reprint next message:\t⌘|Down"}},msgCompHeader:{id:"shortcuts.msgs.comp.header",defaultMessage:"Autocomplete"},msgCompUsername:{id:"shortcuts.msgs.comp.username",defaultMessage:"Username:\t@|[a-z]|Tab"},msgCompChannel:{id:"shortcuts.msgs.comp.channel",defaultMessage:"Channel:\t~|[a-z]|Tab"},msgCompEmoji:{id:"shortcuts.msgs.comp.emoji",defaultMessage:"Emoji:\t:|[a-z]|Tab"},filesHeader:{id:"shortcuts.files.header",defaultMessage:"Files"},filesUpload:{default:{id:"shortcuts.files.upload",defaultMessage:"Upload files:\tCtrl|U"},mac:{id:"shortcuts.files.upload.mac",defaultMessage:"Upload files:\t⌘|U"}},browserHeader:{id:"shortcuts.browser.header",defaultMessage:"Built-in Browser Commands"},browserChannelPrev:{default:{id:"shortcuts.browser.channel_prev",defaultMessage:"Back in history:\tAlt|Left"},mac:{id:"shortcuts.browser.channel_prev.mac",defaultMessage:"Back in history:\t⌘|["}},browserChannelNext:{default:{id:"shortcuts.browser.channel_next",defaultMessage:"Forward in history:\tAlt|Right"},mac:{id:"shortcuts.browser.channel_next.mac",defaultMessage:"Forward in history:\t⌘|]"}},browserFontIncrease:{default:{id:"shortcuts.browser.font_increase",defaultMessage:"Zoom in:\tCtrl|+"},mac:{id:"shortcuts.browser.font_increase.mac",defaultMessage:"Zoom in:\t⌘|+"}},browserFontDecrease:{default:{id:"shortcuts.browser.font_decrease",defaultMessage:"Zoom out:\tCtrl|-"},mac:{id:"shortcuts.browser.font_decrease.mac",defaultMessage:"Zoom out:\t⌘|-"}},browserInputHeader:{id:"shortcuts.browser.input.header",defaultMessage:"Works inside an input field"},browserHighlightPrev:{id:"shortcuts.browser.highlight_prev",defaultMessage:"Highlight text to the previous line:\tShift|Up"},browserHighlightNext:{id:"shortcuts.browser.highlight_next",defaultMessage:"Highlight text to the next line:\tShift|Down"},browserNewline:{id:"shortcuts.browser.newline",defaultMessage:"Create a new line:\tShift|Enter"},info:{id:"shortcuts.info",defaultMessage:"Begin a message with / for a list of all the commands at your disposal."}}),T=function(e){function t(e){(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleToggle=function(){a.setState({show:!a.state.show})},a.handleHide=function(){a.setState({show:!1})},a.state={show:!1},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){x.default.addModalListener(S.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}},{key:"componentWillUnmount",value:function(){x.default.removeModalListener(S.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}},{key:"getShortcuts",value:function(){var e=this.props.isMac,t={};return(0,o.default)(k).forEach(function(a){e&&k[a].mac?t[a]=k[a].mac:!e&&k[a].default?t[a]=k[a].default:t[a]=k[a]}),t}},{key:"render",value:function(){var e=this.getShortcuts(),t=this.props.intl.formatMessage;return y.default.createElement(E.Modal,{dialogClassName:"shortcuts-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHide},y.default.createElement("div",{className:"shortcuts-content"},y.default.createElement(E.Modal.Header,{closeButton:!0},y.default.createElement(E.Modal.Title,null,y.default.createElement("strong",null,r(t(e.mainHeader))))),y.default.createElement(E.Modal.Body,{ref:"modalBody"},y.default.createElement("div",{className:"row"},y.default.createElement("div",{className:"col-sm-4"},y.default.createElement("div",{className:"section"},y.default.createElement("div",null,y.default.createElement("h4",{className:"section-title"},y.default.createElement("strong",null,t(e.navHeader))),r(t(e.navPrev)),r(t(e.navNext)),r(t(e.navUnreadPrev)),r(t(e.navUnreadNext)),r(t(e.navSwitcher)),r(t(e.navDMMenu)),r(t(e.navSettings)),r(t(e.navMentions)),r(t(e.navFocusCenter))))),y.default.createElement("div",{className:"col-sm-4"},y.default.createElement("div",{className:"section"},y.default.createElement("div",null,y.default.createElement("h4",{className:"section-title"},y.default.createElement("strong",null,t(e.msgHeader))),y.default.createElement("span",null,y.default.createElement("strong",null,t(e.msgInputHeader))),y.default.createElement("div",{className:"subsection"},r(t(e.msgEdit)),r(t(e.msgReply)),r(t(e.msgReprintPrev)),r(t(e.msgReprintNext))),y.default.createElement("span",null,y.default.createElement("strong",null,t(e.msgCompHeader))),y.default.createElement("div",{className:"subsection"},r(t(e.msgCompUsername)),r(t(e.msgCompChannel)),r(t(e.msgCompEmoji)))))),y.default.createElement("div",{className:"col-sm-4"},y.default.createElement("div",{className:"section"},y.default.createElement("div",null,y.default.createElement("h4",{className:"section-title"},y.default.createElement("strong",null,t(e.filesHeader))),r(t(e.filesUpload))),y.default.createElement("div",{className:"section--lower"},y.default.createElement("h4",{className:"section-title"},y.default.createElement("strong",null,t(e.browserHeader))),r(t(e.browserChannelPrev)),r(t(e.browserChannelNext)),r(t(e.browserFontIncrease)),r(t(e.browserFontDecrease)),y.default.createElement("span",null,y.default.createElement("strong",null,t(e.browserInputHeader))),y.default.createElement("div",{className:"subsection"},r(t(e.browserHighlightPrev)),r(t(e.browserHighlightNext)),r(t(e.browserNewline))))))),y.default.createElement("div",{className:"info__label"},t(e.info)))))}}]),t}(y.default.PureComponent);T.propTypes={intl:w.intlShape.isRequired,isMac:b.default.bool.isRequired},t.default=(0,w.injectIntl)(T)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,h.getRhsState)(e),a=(0,h.getSelectedChannelId)(e),n=null;if(a&&null==(n=(0,u.getChannel)(e,a))){var r=f.default.getFocusedPostId(),i=(0,d.getPost)(e,r);null!=i&&(n=(0,u.getChannel)(e,i.channel_id))}return{channel:n,currentUser:(0,l.getCurrentUser)(e),postRightVisible:Boolean((0,h.getSelectedPostId)(e)),searchVisible:Boolean(t),previousRhsState:(0,h.getPreviousRhsState)(e),isMentionSearch:t===m.RHSStates.MENTION,isFlaggedPosts:t===m.RHSStates.FLAG,isPinnedPosts:t===m.RHSStates.PIN}}function i(e){return{actions:(0,s.bindActionCreators)({getPinnedPosts:p.getPinnedPosts,getFlaggedPosts:p.getFlaggedPosts},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(141),s=a(11),l=a(69),u=a(144),d=a(145),c=a(313),f=n(c),p=a(305),h=a(307),m=a(12),g=a(1779),v=n(g);t.default=(0,o.connect)(r,i)(v.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(303),E=a(142),w=a(313),C=n(w),x=a(120),M=n(x),S=a(461),k=n(S),T=a(12),P=n(T),N=a(47),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(N),I=a(1344),R=n(I),A=a(1782),L=n(A),D=a(1282),F=n(D),U=a(1879),j=n(U),H=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.doStrangeThings=function(){return(0,m.default)(".app__body .inner-wrap").removeClass(".move--right"),(0,m.default)(".app__body .inner-wrap").addClass("move--left"),(0,m.default)(".app__body .sidebar--left").removeClass("move--right"),(0,m.default)(".multi-teams .team-sidebar").removeClass("move--right"),(0,m.default)(".app__body .sidebar--right").addClass("move--left"),a.props.searchVisible||a.props.postRightVisible?null:((0,m.default)(".app__body .inner-wrap").removeClass("move--left").removeClass("move--right"),(0,m.default)(".app__body .sidebar--right").removeClass("move--left"),_.default.createElement("div",null))},a.onPreferenceChange=function(){a.props.isFlaggedPosts&&a.props.actions.getFlaggedPosts(),a.setState({useMilitaryTime:M.default.getBool(P.default.Preferences.CATEGORY_DISPLAY_SETTINGS,P.default.Preferences.USE_MILITARY_TIME,!1)})},a.onPostPinnedChange=function(){a.props.channel&&a.props.isPinnedPosts&&a.props.actions.getPinnedPosts(a.props.channel.id)},a.onShrink=function(){a.setState({expanded:!1})},a.toggleSize=function(){a.setState({expanded:!a.state.expanded})},a.plScrolledToBottom=!0,a.state={expanded:!1,useMilitaryTime:M.default.getBool(P.default.Preferences.CATEGORY_DISPLAY_SETTINGS,P.default.Preferences.USE_MILITARY_TIME,!1)},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){C.default.addPostPinnedChangeListener(this.onPostPinnedChange),M.default.addChangeListener(this.onPreferenceChange),this.doStrangeThings()}},{key:"componentWillUnmount",value:function(){C.default.removePostPinnedChangeListener(this.onPostPinnedChange),M.default.removeChangeListener(this.onPreferenceChange)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.searchVisible||this.props.postRightVisible,a=e.searchVisible||e.postRightVisible;!t&&a&&(0,y.trackEvent)("ui","ui_rhs_opened"),!t&&a&&this.setState({expanded:!1})}},{key:"componentDidUpdate",value:function(e){var t=this.props.searchVisible||this.props.postRightVisible;k.default.emitRhsChanged(t),this.doStrangeThings();var a=e.searchVisible||e.postRightVisible;t&&!a&&setTimeout(function(){return(0,E.postListScrollChange)()},0)}},{key:"render",value:function(){var e=null,t="";this.state.expanded&&(t="sidebar--right--expanded");var a=null;this.props.currentUser&&(a=_.default.createElement(F.default,{isFocus:this.props.searchVisible&&O.isMobile()}));var n=this.props.channel,r="";return n&&(r=n.type===P.default.DM_CHANNEL||n.type===P.default.GM_CHANNEL?O.localizeMessage("rhs_root.direct","Direct Message"):n.display_name),this.props.searchVisible?e=_.default.createElement("div",{className:"sidebar--right__content"},_.default.createElement("div",{className:"search-bar__container channel-header alt"},a),_.default.createElement(j.default,{isMentionSearch:this.props.isMentionSearch,isFlaggedPosts:this.props.isFlaggedPosts,isPinnedPosts:this.props.isPinnedPosts,useMilitaryTime:this.state.useMilitaryTime,toggleSize:this.toggleSize,shrink:this.onShrink,channelDisplayName:r})):this.props.postRightVisible&&(e=_.default.createElement("div",{className:"post-right__container"},_.default.createElement(R.default,{overlayType:"right"}),_.default.createElement("div",{className:"search-bar__container channel-header alt"},a),_.default.createElement(L.default,{previousRhsState:this.props.previousRhsState,isWebrtc:k.default.isBusy(),currentUser:this.props.currentUser,useMilitaryTime:this.state.useMilitaryTime,toggleSize:this.toggleSize,shrink:this.onShrink}))),e||(t=""),_.default.createElement("div",{className:"sidebar--right "+t,id:"sidebar-right"},_.default.createElement("div",{onClick:this.onShrink,className:"sidebar--right__bg"}),_.default.createElement("div",{className:"sidebar-right-container"},e))}}]),t}(_.default.Component);H.propTypes={currentUser:v.default.object,channel:v.default.object,postRightVisible:v.default.bool,searchVisible:v.default.bool,isMentionSearch:v.default.bool,isFlaggedPosts:v.default.bool,isPinnedPosts:v.default.bool,previousRhsState:v.default.string,actions:v.default.shape({getPinnedPosts:v.default.func,getFlaggedPosts:v.default.func})},t.default=H},function(e,t,a){e.exports=a.p+"files/aa8f68721d6eb2b283a28d5535dc4e40.png"},function(e,t,a){e.exports=a.p+"files/0a94430239002b5e6a93452b720d4297.png"},function(e,t,a){"use strict";function n(){var e=(0,l.makeGetPostsForThread)(),t=(0,f.makeGetPostsEmbedVisibleObj)();return function(a){var n=(0,f.getSelectedPost)(a),r=null,i=[];return n&&(i=e(a,{rootId:n.id}),r=(0,s.getChannel)(a,n.channel_id)),{selected:n,channel:r,posts:i,previewCollapsed:(0,u.get)(a,c.Preferences.CATEGORY_DISPLAY_SETTINGS,c.Preferences.COLLAPSE_DISPLAY,c.Preferences.COLLAPSE_DISPLAY_DEFAULT),postsEmbedVisibleObj:t(a,i),previewEnabled:(0,u.getBool)(a,c.Preferences.CATEGORY_DISPLAY_SETTINGS,c.Preferences.LINK_PREVIEW_DISPLAY,c.Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)}}}function r(e){return{actions:(0,o.bindActionCreators)({removePost:d.removePost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(144),l=a(145),u=a(89),d=a(146),c=a(12),f=a(307),p=a(1783),h=function(e){return e&&e.__esModule?e:{default:e}}(p);t.default=(0,i.connect)(n,r)(h.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return N.default.createElement("div",(0,C.default)({},e,{className:"scrollbar--view"}))}function o(e){return N.default.createElement("div",(0,C.default)({},e,{className:"scrollbar--horizontal"}))}function s(e){return N.default.createElement("div",(0,C.default)({},e,{className:"scrollbar--vertical"}))}Object.defineProperty(t,"__esModule",{value:!0});var l=a(88),u=r(l),d=a(121),c=r(d),f=a(34),p=r(f),h=a(30),m=r(h),g=a(31),v=r(g),b=a(35),_=r(b),y=a(36),E=r(y),w=a(28),C=r(w);t.renderView=i,t.renderThumbHorizontal=o,t.renderThumbVertical=s;var x=a(167),M=r(x),S=a(214),k=a(27),T=r(k),P=a(0),N=r(P),O=a(1345),I=r(O),R=a(120),A=r(R),L=a(42),D=r(L),F=a(461),U=r(F),j=a(12),H=r(j),B=a(1206),q=r(B),z=a(47),G=n(z),W=a(169),V=n(W),$=a(1804),K=r($),Y=a(1274),X=r(Y),Z=a(1353),J=r(Z),Q=a(1813),ee=r(Q),te=a(1872),ae=r(te),ne=a(1874),re=r(ne),ie=H.default.Preferences,oe=function(e){function t(e){(0,m.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));se.call(a),a.scrollStopAction=new q.default(a.handleScrollStop);var n=(new Date).getTime();return a.state={windowWidth:G.windowWidth(),windowHeight:G.windowHeight(),profiles:JSON.parse((0,c.default)(D.default.getProfiles())),compactDisplay:A.default.get(ie.CATEGORY_DISPLAY_SETTINGS,ie.MESSAGE_DISPLAY,ie.MESSAGE_DISPLAY_DEFAULT)===ie.MESSAGE_DISPLAY_COMPACT,flaggedPosts:A.default.getCategory(H.default.Preferences.CATEGORY_FLAGGED_POST),statuses:(0,u.default)({},D.default.getStatuses()),previewsCollapsed:A.default.get(ie.CATEGORY_DISPLAY_SETTINGS,ie.COLLAPSE_DISPLAY,"false"),isBusy:U.default.isBusy(),isScrolling:!1,topRhsPostCreateAt:0,openTime:n},a}return(0,E.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){A.default.addChangeListener(this.onPreferenceChange),D.default.addChangeListener(this.onUserChange),D.default.addStatusesChangeListener(this.onStatusChange),U.default.addBusyListener(this.onBusy),this.scrollToBottom(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){A.default.removeChangeListener(this.onPreferenceChange),D.default.removeChangeListener(this.onUserChange),D.default.removeStatusesChangeListener(this.onStatusChange),U.default.removeBusyListener(this.onBusy),window.removeEventListener("resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(e){this.props.selected&&e.selected&&this.props.selected.id!==e.selected.id&&this.setState({openTime:(new Date).getTime()})}},{key:"componentDidUpdate",value:function(e){var t=e.posts||[],a=this.props.posts||[];if(!(t.length>=a.length)){a[a.length-1].user_id===D.default.getCurrentId()&&this.scrollToBottom()}}},{key:"shouldComponentUpdate",value:function(e,t){return!G.areObjectsEqual(t.statuses,this.state.statuses)||(!G.areObjectsEqual(t.postsArray,this.props.posts)||(!G.areObjectsEqual(t.selected,this.props.selected)||(t.compactDisplay!==this.state.compactDisplay||(e.useMilitaryTime!==this.props.useMilitaryTime||(e.previewEnabled!==this.props.previewEnabled||(!G.areObjectsEqual(t.flaggedPosts,this.state.flaggedPosts)||(!G.areObjectsEqual(t.profiles,this.state.profiles)||(!G.areObjectsEqual(e.currentUser,this.props.currentUser)||(t.isBusy!==this.state.isBusy||(t.isScrolling!==this.state.isScrolling||(t.topRhsPostCreateAt!==this.state.topRhsPostCreateAt||e.postsEmbedVisibleObj!==this.props.postsEmbedVisibleObj)))))))))))}},{key:"render",value:function(){if(null==this.props.posts||null==this.props.selected)return N.default.createElement("div",null);var e=this.filterPosts(this.props.posts,this.props.selected,this.state.openTime),t=this.props.selected,a=this.state.profiles||{},n=void 0;n=D.default.getCurrentId()===t.user_id?this.props.currentUser:a[t.user_id];var r=!1;this.state.flaggedPosts&&(r=null!=this.state.flaggedPosts.get(t.id));var l="offline";this.state.statuses&&(l=this.state.statuses[t.user_id]||"offline");var u=t.create_at;u||(u=this.props.posts[0].create_at);for(var d=G.getDateForUnixTicks(u),c=d,f=[],p=e.length,h=0;h<p;h++){var m=e[h],g=void 0;g=D.default.getCurrentId()===m.user_id?D.default.getCurrentUser():a[m.user_id];var v=!1;this.state.flaggedPosts&&(v=null!=this.state.flaggedPosts.get(m.id));var b="offline";this.state.statuses&&g&&g.id&&(b=this.state.statuses[g.id]||"offline");var _=G.getDateForUnixTicks(m.create_at);_.toDateString()!==c.toDateString()&&(c=_,f.push(N.default.createElement(X.default,{key:_,date:_})));var y=m.id?m.id:m.pending_post_id,E=p-h-1;f.push(N.default.createElement("div",{key:y+"commentKey"},N.default.createElement(ee.default,{ref:m.id,post:m,lastPostCount:E>=0&&E<H.default.TEST_ID_COUNT?E:-1,user:g,currentUser:this.props.currentUser,compactDisplay:this.state.compactDisplay,useMilitaryTime:this.props.useMilitaryTime,isFlagged:v,status:b,isBusy:this.state.isBusy,removePost:this.props.actions.removePost,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.postsEmbedVisibleObj[m.id]})))}var w=void 0;if(t.type!==H.default.PostTypes.FAKE_PARENT_DELETED&&(w=N.default.createElement("div",{className:"post-create__container"},N.default.createElement(K.default,{channelId:t.channel_id,rootId:t.id,latestPostId:p>0?e[p-1].id:t.id,getSidebarBody:this.getSidebarBody}))),this.props.channel.type===H.default.DM_CHANNEL){var C=G.getDirectTeammate(this.props.channel.id);C&&C.delete_at&&(w=N.default.createElement("div",{className:"post-create-message"},N.default.createElement(S.FormattedMessage,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a deactivated user."})))}return N.default.createElement("div",{className:"sidebar-right__body",ref:"sidebarbody"},N.default.createElement(J.default,{isScrolling:this.state.isScrolling,isMobile:G.isMobile(),createAt:this.state.topRhsPostCreateAt,isRhsPost:!0}),N.default.createElement(ae.default,{previousRhsState:this.props.previousRhsState,isWebrtc:this.props.isWebrtc,toggleSize:this.props.toggleSize,shrink:this.props.shrink}),N.default.createElement(I.default,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:o,renderThumbVertical:s,renderView:i,onScroll:this.handleScroll},N.default.createElement("div",{className:"post-right__scroll"},N.default.createElement(X.default,{date:d}),N.default.createElement(re.default,{ref:t.id,post:t,commentCount:p,user:n,currentUser:this.props.currentUser,compactDisplay:this.state.compactDisplay,useMilitaryTime:this.props.useMilitaryTime,isFlagged:r,status:l,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isBusy:this.state.isBusy,isEmbedVisible:this.props.postsEmbedVisibleObj[t.id]}),N.default.createElement("div",{ref:"rhspostlist",className:"post-right-comments-container"},f),w)))}}]),t}(N.default.Component);oe.propTypes={posts:T.default.arrayOf(T.default.object).isRequired,channel:T.default.object.isRequired,selected:T.default.object.isRequired,previousRhsState:T.default.string,isWebrtc:T.default.bool,currentUser:T.default.object.isRequired,useMilitaryTime:T.default.bool.isRequired,toggleSize:T.default.func,shrink:T.default.func,previewCollapsed:T.default.string.isRequired,previewEnabled:T.default.bool.isRequired,postsEmbedVisibleObj:T.default.object,actions:T.default.shape({removePost:T.default.func.isRequired}).isRequired};var se=function(){var e=this;this.handleResize=function(){e.setState({windowWidth:G.windowWidth(),windowHeight:G.windowHeight()}),V.isMobile()&&"reply_textbox"===document.activeElement.id&&e.scrollToBottom()},this.onPreferenceChange=function(){e.setState({compactDisplay:A.default.get(ie.CATEGORY_DISPLAY_SETTINGS,ie.MESSAGE_DISPLAY,ie.MESSAGE_DISPLAY_DEFAULT)===ie.MESSAGE_DISPLAY_COMPACT,flaggedPosts:A.default.getCategory(H.default.Preferences.CATEGORY_FLAGGED_POST)})},this.onStatusChange=function(){e.setState({statuses:(0,u.default)({},D.default.getStatuses())})},this.onBusy=function(t){e.setState({isBusy:t})},this.filterPosts=function(e,t,a){var n=[];return e.forEach(function(e){"system_ephemeral"===e.type&&e.create_at<a||e.root_id===t.id&&n.unshift(e)}),n},this.onUserChange=function(){var t=JSON.parse((0,c.default)(D.default.getProfiles()));e.setState({profiles:t})},this.scrollToBottom=function(){(0,M.default)(".post-right__scroll")[0]&&(0,M.default)(".post-right__scroll").parent().scrollTop((0,M.default)(".post-right__scroll")[0].scrollHeight)},this.updateFloatingTimestamp=function(){if(G.isMobile()&&e.props.posts){for(var t=e.refs.rhspostlist.childNodes,a=e.refs.rhspostlist.getBoundingClientRect(),n=0,r=0;r<t.length;r++)if(t[r].offsetTop+a.top-100>0){n=e.props.posts[r].create_at;break}n!==e.state.topRhsPostCreateAt&&e.setState({topRhsPostCreateAt:n})}},this.handleScroll=function(){e.updateFloatingTimestamp(),e.state.isScrolling||e.setState({isScrolling:!0}),e.scrollStopAction.fireAfter(H.default.SCROLL_DELAY)},this.handleScrollStop=function(){e.setState({isScrolling:!1})},this.getSidebarBody=function(){return e.refs.sidebarbody}};t.default=oe},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(1785),c=n(d),f=a(1346),p=n(f),h=a(0),m=a(1792),g=n(m),v=a(1797),b=n(v),_=a(1798),y=n(_),E=a(1799),w=n(E),C=a(1800),x=n(C),M=a(1801),S=n(M),k=a(1802),T=a(1803),P=function(e){function t(e){var a;i(this,t);for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var l=o(this,(a=t.__proto__||Object.getPrototypeOf(t)).call.apply(a,[this,e].concat(r)));return l.getScrollLeft=l.getScrollLeft.bind(l),l.getScrollTop=l.getScrollTop.bind(l),l.getScrollWidth=l.getScrollWidth.bind(l),l.getScrollHeight=l.getScrollHeight.bind(l),l.getClientWidth=l.getClientWidth.bind(l),l.getClientHeight=l.getClientHeight.bind(l),l.getValues=l.getValues.bind(l),l.getThumbHorizontalWidth=l.getThumbHorizontalWidth.bind(l),l.getThumbVerticalHeight=l.getThumbVerticalHeight.bind(l),l.getScrollLeftForOffset=l.getScrollLeftForOffset.bind(l),l.getScrollTopForOffset=l.getScrollTopForOffset.bind(l),l.scrollLeft=l.scrollLeft.bind(l),l.scrollTop=l.scrollTop.bind(l),l.scrollToLeft=l.scrollToLeft.bind(l),l.scrollToTop=l.scrollToTop.bind(l),l.scrollToRight=l.scrollToRight.bind(l),l.scrollToBottom=l.scrollToBottom.bind(l),l.handleTrackMouseEnter=l.handleTrackMouseEnter.bind(l),l.handleTrackMouseLeave=l.handleTrackMouseLeave.bind(l),l.handleHorizontalTrackMouseDown=l.handleHorizontalTrackMouseDown.bind(l),l.handleVerticalTrackMouseDown=l.handleVerticalTrackMouseDown.bind(l),l.handleHorizontalThumbMouseDown=l.handleHorizontalThumbMouseDown.bind(l),l.handleVerticalThumbMouseDown=l.handleVerticalThumbMouseDown.bind(l),l.handleWindowResize=l.handleWindowResize.bind(l),l.handleScroll=l.handleScroll.bind(l),l.handleDrag=l.handleDrag.bind(l),l.handleDragEnd=l.handleDragEnd.bind(l),l.state={didMountUniversal:!1},l}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,d.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,a=void 0===t?0:t,n=e.scrollTop,r=void 0===n?0:n,i=e.scrollWidth,o=void 0===i?0:i,s=e.scrollHeight,l=void 0===s?0:s,u=e.clientWidth,d=void 0===u?0:u,c=e.clientHeight,f=void 0===c?0:c;return{left:a/(o-d)||0,top:r/(l-f)||0,scrollLeft:a,scrollTop:r,scrollWidth:o,scrollHeight:l,clientWidth:d,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,a=e.thumbMinSize,n=this.view,r=n.scrollWidth,i=n.clientWidth,o=(0,x.default)(this.trackHorizontal),s=Math.ceil(i/r*o);return o===s?0:t||Math.max(s,a)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,a=e.thumbMinSize,n=this.view,r=n.scrollHeight,i=n.clientHeight,o=(0,S.default)(this.trackVertical),s=Math.ceil(i/r*o);return o===s?0:t||Math.max(s,a)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,a=t.scrollWidth,n=t.clientWidth;return e/((0,x.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(a-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,a=t.scrollHeight,n=t.clientHeight;return e/((0,S.default)(this.trackVertical)-this.getThumbVerticalHeight())*(a-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,a=this.trackVertical,n=this.thumbHorizontal,r=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,y.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),a.addEventListener("mouseenter",this.handleTrackMouseEnter),a.addEventListener("mouseleave",this.handleTrackMouseLeave),a.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),r.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,a=this.trackVertical,n=this.thumbHorizontal,r=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,y.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),a.removeEventListener("mouseenter",this.handleTrackMouseEnter),a.removeEventListener("mouseleave",this.handleTrackMouseLeave),a.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),r.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,a=this.props,n=a.onScroll,r=a.onScrollFrame;n&&n(e),this.update(function(e){var a=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=a,t.viewScrollTop=n,r&&r(e)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,a=e.clientX,n=t.getBoundingClientRect(),r=n.left,i=this.getThumbHorizontalWidth(),o=Math.abs(r-a)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,a=e.clientY,n=t.getBoundingClientRect(),r=n.top,i=this.getThumbVerticalHeight(),o=Math.abs(r-a)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,a=e.clientX,n=t.offsetWidth,r=t.getBoundingClientRect(),i=r.left;this.prevPageX=n-(a-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,a=e.clientY,n=t.offsetHeight,r=t.getBoundingClientRect(),i=r.top;this.prevPageY=n-(a-i)}},{key:"setupDragging",value:function(){(0,p.default)(document.body,k.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=w.default}},{key:"teardownDragging",value:function(){(0,p.default)(document.body,k.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,a=this.trackHorizontal.getBoundingClientRect(),n=a.left,r=this.getThumbHorizontalWidth(),i=r-this.prevPageX,o=-n+t-i;this.view.scrollLeft=this.getScrollLeftForOffset(o)}if(this.prevPageY){var s=e.clientY,l=this.trackVertical.getBoundingClientRect(),u=l.top,d=this.getThumbVerticalHeight(),c=d-this.prevPageY,f=-u+s-c;this.view.scrollTop=this.getScrollTopForOffset(f)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,p.default)(this.trackHorizontal,{opacity:1}),(0,p.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,p.default)(e.trackHorizontal,{opacity:0}),(0,p.default)(e.trackVertical,{opacity:0})},t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&c.default.cancel(this.requestFrame),this.requestFrame=(0,c.default)(function(){t.requestFrame=void 0,e()})}},{key:"update",value:function(e){var t=this;this.raf(function(){return t._update(e)})}},{key:"_update",value:function(e){var t=this.props,a=t.onUpdate,n=t.hideTracksWhenNotNeeded,r=this.getValues();if((0,y.default)()){var i=r.scrollLeft,o=r.clientWidth,s=r.scrollWidth,l=(0,x.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),d=i/(s-o)*(l-u),c={width:u,transform:"translateX("+d+"px)"},f=r.scrollTop,h=r.clientHeight,m=r.scrollHeight,g=(0,S.default)(this.trackVertical),v=this.getThumbVerticalHeight(),b=f/(m-h)*(g-v),_={height:v,transform:"translateY("+b+"px)"};if(n){var E={visibility:s>o?"visible":"hidden"},w={visibility:m>h?"visible":"hidden"};(0,p.default)(this.trackHorizontal,E),(0,p.default)(this.trackVertical,w)}(0,p.default)(this.thumbHorizontal,c),(0,p.default)(this.thumbVertical,_)}a&&a(r),"function"==typeof e&&e(r)}},{key:"render",value:function(){var e=this,t=(0,y.default)(),a=this.props,n=(a.onScroll,a.onScrollFrame,a.onScrollStart,a.onScrollStop,a.onUpdate,a.renderView),i=a.renderTrackHorizontal,o=a.renderTrackVertical,s=a.renderThumbHorizontal,u=a.renderThumbVertical,d=a.tagName,c=(a.hideTracksWhenNotNeeded,a.autoHide),f=(a.autoHideTimeout,a.autoHideDuration),p=(a.thumbSize,a.thumbMinSize,a.universal),m=a.autoHeight,g=a.autoHeightMin,v=a.autoHeightMax,_=a.style,E=a.children,w=r(a,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),C=this.state.didMountUniversal,x=l({},k.containerStyleDefault,m&&l({},k.containerStyleAutoHeight,{minHeight:g,maxHeight:v}),_),M=l({},k.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},m&&l({},k.viewStyleAutoHeight,{minHeight:(0,b.default)(g)?"calc("+g+" + "+t+"px)":g+t,maxHeight:(0,b.default)(v)?"calc("+v+" + "+t+"px)":v+t}),m&&p&&!C&&{minHeight:g,maxHeight:v},p&&!C&&k.viewStyleUniversalInitial),S={transition:"opacity "+f+"ms",opacity:0},T=l({},k.trackHorizontalStyleDefault,c&&S,(!t||p&&!C)&&{display:"none"}),P=l({},k.trackVerticalStyleDefault,c&&S,(!t||p&&!C)&&{display:"none"});return(0,h.createElement)(d,l({},w,{style:x,ref:function(t){e.container=t}}),[(0,h.cloneElement)(n({style:M}),{key:"view",ref:function(t){e.view=t}},E),(0,h.cloneElement)(i({style:T}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,h.cloneElement)(s({style:k.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,h.cloneElement)(o({style:P}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,h.cloneElement)(u({style:k.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(h.Component);t.default=P,P.propTypes={onScroll:g.default.func,onScrollFrame:g.default.func,onScrollStart:g.default.func,onScrollStop:g.default.func,onUpdate:g.default.func,renderView:g.default.func,renderTrackHorizontal:g.default.func,renderTrackVertical:g.default.func,renderThumbHorizontal:g.default.func,renderThumbVertical:g.default.func,tagName:g.default.string,thumbSize:g.default.number,thumbMinSize:g.default.number,hideTracksWhenNotNeeded:g.default.bool,autoHide:g.default.bool,autoHideTimeout:g.default.number,autoHideDuration:g.default.number,autoHeight:g.default.bool,autoHeightMin:g.default.oneOfType([g.default.number,g.default.string]),autoHeightMax:g.default.oneOfType([g.default.number,g.default.string]),universal:g.default.bool,style:g.default.object,children:g.default.node},P.defaultProps={renderView:T.renderViewDefault,renderTrackHorizontal:T.renderTrackHorizontalDefault,renderTrackVertical:T.renderTrackVerticalDefault,renderThumbHorizontal:T.renderThumbHorizontalDefault,renderThumbVertical:T.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,a){(function(t){for(var n=a(1786),r="undefined"==typeof window?t:window,i=["moz","webkit"],o="AnimationFrame",s=r["request"+o],l=r["cancel"+o]||r["cancelRequest"+o],u=0;!s&&u<i.length;u++)s=r[i[u]+"Request"+o],l=r[i[u]+"Cancel"+o]||r[i[u]+"CancelRequest"+o];if(!s||!l){var d=0,c=0,f=[];s=function(e){if(0===f.length){var t=n(),a=Math.max(0,1e3/60-(t-d));d=a+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout(function(){throw e},0)}},Math.round(a))}return f.push({handle:++c,callback:e,cancelled:!1}),c},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(){r.requestAnimationFrame=s,r.cancelAnimationFrame=l}}).call(t,a(22))},function(e,t,a){(function(t){(function(){var a,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(a()-r)/1e6},n=t.hrtime,a=function(){var e;return e=n(),1e9*e[0]+e[1]},r=a()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,a(1153))},function(e,t){var a=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){a||(a=document.createElement("div"));var t=a.style;if(e in t)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),i=n.length;i>=0;i--){var o=n[i]+r;if(o in t)return o}return!1}},function(e,t,a){function n(e){return r(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var r=a(1789);e.exports=n},function(e,t,a){function n(e){return r(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var r=a(1790);e.exports=n},function(e,t){function a(e){return i.test(e)?e.toLowerCase():o.test(e)?(n(e)||e).toLowerCase():s.test(e)?r(e).toLowerCase():e.toLowerCase()}function n(e){return e.replace(l,function(e,t){return t?" "+t:""})}function r(e){return e.replace(u,function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")})}e.exports=a;var i=/\s/,o=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/,l=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},function(e,t){var a={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||a[e]?t:t+"px"}},function(e,t,a){e.exports=a(1793)()},function(e,t,a){"use strict";var n=a(1794),r=a(1795),i=a(1796);e.exports=function(){function e(e,t,a,n,o,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";function n(e,t,a,n,i,o,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,n,i,o,s,l],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=n},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){"use strict";function n(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,a){"use strict";function n(){if(!1!==o)return o;if("undefined"!=typeof document){var e=document.createElement("div");(0,i.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else o=0;return o||0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(1346),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=!1},function(e,t,a){"use strict";function n(){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,a){"use strict";function n(e){var t=e.clientWidth,a=getComputedStyle(e),n=a.paddingLeft,r=a.paddingRight;return t-parseFloat(n)-parseFloat(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,a){"use strict";function n(e){var t=e.clientHeight,a=getComputedStyle(e),n=a.paddingTop,r=a.paddingBottom;return t-parseFloat(n)-parseFloat(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t,a){"use strict";function n(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e){return c.default.createElement("div",e)}function i(e){var t=e.style,a=n(e,["style"]),r=u({},t,{right:2,bottom:2,left:2,borderRadius:3});return c.default.createElement("div",u({style:r},a))}function o(e){var t=e.style,a=n(e,["style"]),r=u({},t,{right:2,bottom:2,top:2,borderRadius:3});return c.default.createElement("div",u({style:r},a))}function s(e){var t=e.style,a=n(e,["style"]),r=u({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return c.default.createElement("div",u({style:r},a))}function l(e){var t=e.style,a=n(e,["style"]),r=u({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return c.default.createElement("div",u({style:r},a))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.renderViewDefault=r,t.renderTrackHorizontalDefault=i,t.renderTrackVerticalDefault=o,t.renderThumbHorizontalDefault=s,t.renderThumbVerticalDefault=l;var d=a(0),c=function(e){return e&&e.__esModule?e:{default:e}}(d)},function(e,t,a){"use strict";function n(e,t){var a=e.requests.posts.createPost.error||{},n=(0,p.makeGetCommentDraft)(t.rootId),r=n(e);return{draft:r,enableAddButton:0!==r.message.trim().length||0!==r.fileInfos.length,channelMembersCount:(0,u.getAllChannelStats)(e)[t.channelId]?(0,u.getAllChannelStats)(e)[t.channelId].member_count:1,ctrlSend:(0,l.getBool)(e,c.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),createPostErrorId:a.server_error_id}}function r(e){return function(t){return(0,f.updateCommentDraft)(e,t)}}function i(){function e(){return(0,d.resetHistoryIndex)(c.Posts.MESSAGE_TYPES.COMMENT)}var t=void 0,a=void 0,n=void 0,i=void 0,o=void 0,l=void 0,u=void 0,p=void 0;return function(c,h){return l!==h.rootId&&(t=r(h.rootId),n=(0,f.makeOnMoveHistoryIndex)(h.rootId,-1),i=(0,f.makeOnMoveHistoryIndex)(h.rootId,1)),l===h.rootId&&u===h.channelId||(o=(0,f.makeOnEditLatestPost)(h.channelId,h.rootId)),l===h.rootId&&u===h.channelId&&p===h.latestPostId||(a=(0,f.makeOnSubmit)(h.channelId,h.rootId,h.latestPostId)),l=h.rootId,u=h.channelId,p=h.latestPostId,(0,s.bindActionCreators)({clearCommentDraftUploads:f.clearCommentDraftUploads,onUpdateCommentDraft:t,onSubmit:a,onResetHistoryIndex:e,onMoveHistoryIndexBack:n,onMoveHistoryIndexForward:i,onEditLatestPost:o,resetCreatePostRequest:d.resetCreatePostRequest},c)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(141),s=a(11),l=a(89),u=a(144),d=a(146),c=a(18),f=a(1805),p=a(307),h=a(1806),m=function(e){return e&&e.__esModule?e:{default:e}}(h);t.default=(0,o.connect)(n,i)(m.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(0,F.actionOnGlobalItemsWithPrefix)(q.StoragePrefixes.COMMENT_DRAFT,function(e,t){return t?(0,C.default)({},t,{uploadsInProgress:[]}):t})}function o(e,t){return(0,F.setGlobalItem)(""+q.StoragePrefixes.COMMENT_DRAFT+e,t)}function s(e,t){var a=(0,k.makeGetMessageInHistoryItem)(N.Posts.MESSAGE_TYPES.COMMENT),n=(0,j.makeGetCommentDraft)(e);return function(){return function(r,i){var s=n(i());if(""===s.message||s.message===a(i())){-1===t?r((0,P.moveHistoryIndexBack)(N.Posts.MESSAGE_TYPES.COMMENT)):1===t&&r((0,P.moveHistoryIndexForward)(N.Posts.MESSAGE_TYPES.COMMENT));var l=a(i());r(o(e,(0,C.default)({},s,{message:l})))}}}}function l(e,t,a){return function(n,r){var i=r(),o=(0,M.getCurrentUserId)(i),s=B.getTimestamp(),l={file_ids:[],message:a.message,channel_id:e,root_id:t,parent_id:t,pending_post_id:o+":"+s,user_id:o,create_at:s};A.emitUserCommentedEvent(l),I.createPost(l,a.fileInfos)}}function u(e,t,a){return function(n){"+"===t?(n((0,P.addReaction)(e,a)),I.emitEmojiPosted(a)):"-"===t&&n((0,P.removeReaction)(e,a))}}function d(e,t,a){return function(n,r){var i=r(),o=(0,S.getCurrentTeamId)(i),s={channel_id:e,team_id:o,root_id:t,parent_id:t},u=a.message;return new E.default(function(r,i){D.executeCommand(u,s,r,function(r){r.sendMessage?n(l(e,t,a)):i(r)})})}}function c(e,t,a){var n=this,r=(0,j.makeGetCommentDraft)(t);return function(){return function(){var i=(0,_.default)(v.default.mark(function i(s,c){var f,p,h,m,g;return v.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(f=r(c()),p=f.message,s((0,P.addMessageIntoHistory)(p)),s(o(t,null)),h=B.REACTION_PATTERN.exec(p),m=(0,T.getCustomEmojisByName)(c()),g=new U.EmojiMap(m),!h||!g.has(h[2])){n.next=11;break}s(u(a,h[1],h[2])),n.next=17;break;case 11:if(0!==p.indexOf("/")){n.next=16;break}return n.next=14,s(d(e,t,f));case 14:n.next=17;break;case 16:s(l(e,t,f));case 17:case"end":return n.stop()}},i,n)}));return function(e,t){return i.apply(this,arguments)}}()}}function f(e,t){return(0,x.createSelector)(M.getCurrentUserId,function(t){return t.entities.posts.postsInChannel[e]},function(e){return function(t){return(0,k.getPost)(e,t)}},function(e,a,n){var r=null;if(!a)return r;var i=!0,o=!1,s=void 0;try{for(var l,u=(0,m.default)(a);!(i=(l=u.next()).done);i=!0){var d=l.value,c=n(d)||{};if(!(c.user_id!==e||c.props&&c.props.from_webhook||c.state===q.Constants.POST_DELETED||c.type&&c.type.startsWith(q.Constants.SYSTEM_MESSAGE_PREFIX))){if(!t){r=c;break}if(c.root_id===t||c.id===t){r=c;break}}}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return r})}function p(e,t){var a=f(e,t),n=(0,k.makeGetCommentCountForPost)();return function(){return function(e,t){var r=t(),i=a(r);i&&e(I.setEditingPost(i.id,n(r,{post:i}),"#reply_textbox",B.localizeMessage("create_comment.commentTitle","Comment")))}}}Object.defineProperty(t,"__esModule",{value:!0});var h=a(70),m=r(h),g=a(67),v=r(g),b=a(68),_=r(b),y=a(227),E=r(y),w=a(28),C=r(w);t.clearCommentDraftUploads=i,t.updateCommentDraft=o,t.makeOnMoveHistoryIndex=s,t.submitPost=l,t.submitReaction=u,t.submitCommand=d,t.makeOnSubmit=c,t.makeOnEditLatestPost=p;var x=a(71),M=a(69),S=a(170),k=a(145),T=a(176),P=a(146),N=a(18),O=a(171),I=n(O),R=a(142),A=n(R),L=a(172),D=n(L),F=a(222),U=a(306),j=a(307),H=a(47),B=n(H),q=a(12)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(217),o=r(i),s=a(67),l=r(s),u=a(68),d=r(u),c=a(28),f=r(c),p=a(34),h=r(p),m=a(30),g=r(m),v=a(31),b=r(v),_=a(35),y=r(_),E=a(36),w=r(E),C=a(167),x=r(C),M=a(27),S=r(M),k=a(0),T=r(k),P=a(214),N=a(142),O=n(N),I=a(1144),R=r(I),A=a(1180),L=r(A),D=a(1347),F=r(D),U=a(1350),j=r(U),H=a(1351),B=r(H),q=a(1352),z=r(q),G=a(1192),W=r(G),V=a(1221),$=r(V),K=a(12),Y=r(K),X=a(169),Z=n(X),J=a(47),Q=n(J),ee=a(460),te=n(ee),ae=Y.default.KeyCodes,ne=function(e){function t(e){var a=this;(0,g.default)(this,t);var n=(0,y.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return n.handleNotifyAllConfirmation=function(e){n.hideNotifyAllModal(),n.doSubmit(e)},n.hideNotifyAllModal=function(){n.setState({showConfirmModal:!1})},n.showNotifyAllModal=function(){n.setState({showConfirmModal:!0})},n.toggleEmojiPicker=function(){n.setState({showEmojiPicker:!n.state.showEmojiPicker})},n.hideEmojiPicker=function(){n.setState({showEmojiPicker:!1})},n.handleEmojiClick=function(e){var t=e.name||e.aliases[0];if(t){var a=n.state.draft,r="";r=""===a.message?":"+t+": ":/\s+$/.test(a.message)?a.message+":"+t+": ":a.message+" :"+t+": ",n.props.onUpdateCommentDraft((0,f.default)({},a,{message:r})),n.setState({showEmojiPicker:!1,draft:(0,f.default)({},a,{message:r})}),n.focusTextbox()}},n.handlePostError=function(e){n.setState({postError:e})},n.handleSubmit=function(){var e=(0,d.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((te.containsAtMention(n.state.draft.message,"@all")||te.containsAtMention(n.state.draft.message,"@channel"))&&n.props.channelMembersCount>Y.default.NOTIFY_ALL_MEMBERS&&"true"===window.mm_config.EnableConfirmNotificationsToChannel)){e.next=4;break}return n.showNotifyAllModal(),e.abrupt("return");case 4:return e.next=6,n.doSubmit(t);case 6:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.doSubmit=function(){var e=(0,d.default)(l.default.mark(function e(t){var r,i,o,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),r=n.props.enableAddButton,i=n.state.draft,r){e.next=5;break}return e.abrupt("return");case 5:if(!(i.uploadsInProgress.length>0)){e.next=7;break}return e.abrupt("return");case 7:if(!n.state.postError){e.next=11;break}return n.setState({errorClass:"animation--highlight"}),setTimeout(function(){n.setState({errorClass:null})},Y.default.ANIMATION_TIMEOUT),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.props.onSubmit();case 14:n.setState({postError:null,serverError:null}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),n.setState({serverError:e.t0.message});case 20:o=150,s=Date.now()-n.lastBlurAt<o,n.setState({draft:(0,f.default)({},n.props.draft,{uploadsInProgress:[]})}),n.focusTextbox(s);case 24:case"end":return e.stop()}},e,a,[[11,17]])}));return function(t){return e.apply(this,arguments)}}(),n.commentMsgKeyPress=function(e){!Z.isMobile()&&(n.props.ctrlSend&&e.ctrlKey||!n.props.ctrlSend)&&(e.which!==ae.ENTER||e.shiftKey||e.altKey||(e.preventDefault(),n.refs.textbox.blur(),n.handleSubmit(e))),O.emitLocalUserTypingEvent(n.props.channelId,n.props.rootId)},n.scrollToBottom=function(){var e=(0,x.default)(".post-right__scroll");e[0]&&e.parent().scrollTop(e[0].scrollHeight)},n.handleChange=function(e){var t=e.target.value,a=n.state.draft,r=(0,f.default)({},a,{message:t});n.props.onUpdateCommentDraft(r),n.setState({draft:r}),n.scrollToBottom()},n.handleKeyDown=function(e){if(n.props.ctrlSend&&e.keyCode===ae.ENTER&&e.ctrlKey)return void n.commentMsgKeyPress(e);var t=n.state.draft,a=t.message;e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.keyCode!==ae.UP||""!==a||(e.preventDefault(),n.props.onEditLatestPost()),!e.ctrlKey&&!e.metaKey||e.altKey||e.shiftKey||(e.keyCode===Y.default.KeyCodes.UP?(e.preventDefault(),n.props.onMoveHistoryIndexBack()):e.keyCode===Y.default.KeyCodes.DOWN&&(e.preventDefault(),n.props.onMoveHistoryIndexForward()))},n.handleFileUploadChange=function(){n.focusTextbox()},n.handleUploadStart=function(e){var t=n.state.draft,a=[].concat((0,o.default)(t.uploadsInProgress),(0,o.default)(e));n.props.onUpdateCommentDraft((0,f.default)({},t,{uploadsInProgress:a})),n.setState({draft:(0,f.default)({},t,{uploadsInProgress:a})}),n.focusTextbox()},n.handleFileUploadComplete=function(e,t){for(var a=n.state.draft,r=[].concat((0,o.default)(a.uploadsInProgress)),i=[].concat((0,o.default)(a.fileInfos),(0,o.default)(e)),s=0;s<t.length;s++){var l=r.indexOf(t[s]);-1!==l&&r.splice(l,1)}n.props.onUpdateCommentDraft((0,f.default)({},a,{fileInfos:i,uploadsInProgress:r})),n.setState({draft:(0,f.default)({},a,{fileInfos:i,uploadsInProgress:r})}),void 0!==n.refs.preview&&n.refs.preview&&n.refs.preview.refs.container.scrollIntoView()},n.handleUploadError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(-1!==t){var a=n.state.draft,r=[].concat((0,o.default)(a.uploadsInProgress)),i=r.indexOf(t);-1!==i&&r.splice(i,1),n.props.onUpdateCommentDraft((0,f.default)({},a,{uploadsInProgress:r})),n.setState({draft:(0,f.default)({},a,{uploadsInProgress:r})})}n.setState({serverError:e})},n.removePreview=function(e){var t=n.state.draft,a=[].concat((0,o.default)(t.fileInfos)),r=[].concat((0,o.default)(t.uploadsInProgress));n.handleUploadError(null);var i=a.findIndex(function(t){return t.id===e});-1===i?-1!==(i=r.indexOf(e))&&(r.splice(i,1),n.refs.fileUpload&&n.refs.fileUpload.getWrappedInstance().cancelUpload(e)):a.splice(i,1),n.props.onUpdateCommentDraft((0,f.default)({},t,{fileInfos:a,uploadsInProgress:r})),n.setState({draft:(0,f.default)({},t,{fileInfos:a,uploadsInProgress:r})}),n.handleFileUploadChange()},n.getFileCount=function(){var e=n.state.draft,t=e.fileInfos,a=e.uploadsInProgress;return t.length+a.length},n.getFileUploadTarget=function(){return n.refs.textbox},n.getCreateCommentControls=function(){return n.refs.createCommentControls},n.focusTextbox=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!n.refs.textbox||!e&&Z.isMobile()||n.refs.textbox.focus()},n.showPostDeletedModal=function(){n.setState({showPostDeletedModal:!0})},n.hidePostDeletedModal=function(){n.setState({showPostDeletedModal:!1}),n.props.resetCreatePostRequest()},n.handleBlur=function(){n.lastBlurAt=Date.now()},n.state={showPostDeletedModal:!1,showConfirmModal:!1,showEmojiPicker:!1,draft:{message:"",uploadsInProgress:[],fileInfos:[]}},n.lastBlurAt=0,n}return(0,w.default)(t,e),(0,b.default)(t,[{key:"componentWillMount",value:function(){this.props.clearCommentDraftUploads(),this.props.onResetHistoryIndex(),this.setState({draft:(0,f.default)({},this.props.draft,{uploadsInProgress:[]})})}},{key:"componentDidMount",value:function(){this.focusTextbox()}},{key:"componentWillUnmount",value:function(){this.props.resetCreatePostRequest()}},{key:"componentWillReceiveProps",value:function(e){"api.post.create_post.root_id.app_error"===e.createPostErrorId&&e.createPostErrorId!==this.props.createPostErrorId&&this.showPostDeletedModal(),e.rootId!==this.props.rootId&&this.setState({draft:(0,f.default)({},e.draft,{uploadsInProgress:[]})}),Q.areObjectsEqual(this.props.draft,e.draft)||this.setState({draft:e.draft})}},{key:"componentDidUpdate",value:function(e,t){t.draft.uploadsInProgress.length<this.state.draft.uploadsInProgress.length&&this.scrollToBottom(),e.rootId!==this.props.rootId&&this.focusTextbox()}},{key:"render",value:function(){var e=this.state.draft,t=T.default.createElement(P.FormattedMessage,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),a=T.default.createElement(P.FormattedMessage,{id:"notify_all.confirm",defaultMessage:"Confirm"}),n=T.default.createElement(P.FormattedMessage,{id:"notify_all.question",defaultMessage:"By using @all or @channel you are about to send notifications to {totalMembers} people. Are you sure you want to do this?",values:{totalMembers:this.props.channelMembersCount-1}}),r=null;this.state.serverError&&(r=T.default.createElement("div",{className:"form-group has-error"},T.default.createElement("label",{className:"control-label"},this.state.serverError)));var i=null;if(this.state.postError){var o="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");i=T.default.createElement("label",{className:o},this.state.postError)}var s=null;(e.fileInfos.length>0||e.uploadsInProgress.length>0)&&(s=T.default.createElement(F.default,{fileInfos:e.fileInfos,onRemove:this.removePreview,uploadsInProgress:e.uploadsInProgress,ref:"preview"}));var l=null;e.uploadsInProgress.length>0&&(l=T.default.createElement("span",{className:"pull-right post-right-comments-upload-in-progress"},1===e.uploadsInProgress.length?T.default.createElement(P.FormattedMessage,{id:"create_comment.file",defaultMessage:"File uploading"}):T.default.createElement(P.FormattedMessage,{id:"create_comment.files",defaultMessage:"Files uploading"})));var u="btn btn-primary comment-btn pull-right";this.props.enableAddButton||(u+=" disabled");var d=T.default.createElement(j.default,{ref:"fileUpload",fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,postType:"comment"}),c=null;return"true"===window.mm_config.EnableEmojiPicker&&(c=T.default.createElement("span",{className:"emoji-picker__container"},T.default.createElement(L.default,{show:this.state.showEmojiPicker,container:this.props.getSidebarBody,target:this.getCreateCommentControls,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:15,topOffset:55}),T.default.createElement(W.default,{className:"icon icon--emoji emoji-rhs "+(this.state.showEmojiPicker?"active":""),onClick:this.toggleEmojiPicker}))),T.default.createElement("form",{onSubmit:this.handleSubmit},T.default.createElement("div",{className:"post-create"},T.default.createElement("div",{id:this.props.rootId,className:"post-create-body comment-create-body"},T.default.createElement("div",{className:"post-body__cell"},T.default.createElement($.default,{onChange:this.handleChange,onKeyPress:this.commentMsgKeyPress,onKeyDown:this.handleKeyDown,handlePostError:this.handlePostError,value:e.message,onBlur:this.handleBlur,createMessage:Q.localizeMessage("create_comment.addComment","Add a comment..."),emojiEnabled:"true"===window.mm_config.EnableEmojiPicker,initialText:"",channelId:this.props.channelId,isRHS:!0,popoverMentionKeyClick:!0,id:"reply_textbox",ref:"textbox"}),T.default.createElement("span",{ref:"createCommentControls",className:"post-body__actions"},d,c))),T.default.createElement(B.default,{channelId:this.props.channelId,parentId:this.props.rootId}),T.default.createElement("div",{className:"post-create-footer"},T.default.createElement("input",{type:"button",className:u,value:Q.localizeMessage("create_comment.comment","Add Comment"),onClick:this.handleSubmit}),l,i,s,r)),T.default.createElement(z.default,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),T.default.createElement(R.default,{title:t,message:n,confirmButtonText:a,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}]),t}(T.default.PureComponent);ne.propTypes={channelId:S.default.string.isRequired,channelMembersCount:S.default.number.isRequired,rootId:S.default.string.isRequired,draft:S.default.shape({message:S.default.string.isRequired,uploadsInProgress:S.default.array.isRequired,fileInfos:S.default.array.isRequired}).isRequired,enableAddButton:S.default.bool.isRequired,ctrlSend:S.default.bool,latestPostId:S.default.string,getSidebarBody:S.default.func,createPostErrorId:S.default.string,clearCommentDraftUploads:S.default.func.isRequired,onUpdateCommentDraft:S.default.func.isRequired,onSubmit:S.default.func.isRequired,onResetHistoryIndex:S.default.func.isRequired,onMoveHistoryIndexBack:S.default.func.isRequired,onMoveHistoryIndexForward:S.default.func.isRequired,onEditLatestPost:S.default.func.isRequired,resetCreatePostRequest:S.default.func.isRequired},t.default=ne},function(e,t,a){e.exports=a(1808)},function(e,t){e.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.control+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emergencycalldata.veds+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/font-woff2":{compressible:!1,extensions:["woff2"]},"application/framework-attributes+xml":{source:"iana"},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geoxacml+xml":{source:"iana"},"application/gml+xml":{source:"iana",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana"},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-usd+xml":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/route-apd+xml":{source:"iana"},"application/route-s-tsid+xml":{source:"iana"},"application/route-usd+xml":{source:"iana"},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.gmop+xml":{source:"iana"},"application/vnd.3gpp.mcptt-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.desmume.movie":{source:"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana"},"application/vnd.imagemeter.image+zip":{source:"iana"},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"apache",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"apache",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"apache",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/vq-rtcpxr":{source:"iana"},"application/watcherinfo+xml":{source:"iana"},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-otf":{source:"apache",compressible:!0,extensions:["otf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-ttf":{source:"apache",compressible:!0,extensions:["ttf","ttc"]},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana"},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana"},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/otf":{compressible:!0,extensions:["otf"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana"},"image/emf":{source:"iana"},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana"},"image/jp2":{source:"iana"},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana"},"image/jpx":{source:"iana"},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana"},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana"},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana"},"message/global-delivery-status":{source:"iana"},"message/global-disposition-notification":{source:"iana"},"message/global-headers":{source:"iana"},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana"},"model/3mf":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hjson":{extensions:["hjson"]},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n,r,i){function o(e,t){if(e){var o=void 0;o=t&&t.body&&t.body.id?t.body:0!==e.status&&e.status?{message:E.localizeMessage("channel_loader.unknown_error","We received an unexpected status code from the server.")+" ("+e.status+")"}:{message:E.localizeMessage("channel_loader.connection_error","There appears to be a problem with your internet connection.")},(0,g.forceLogoutIfNecessary)(e,s);var u={type:h.FileTypes.UPLOAD_FILES_FAILURE,clientIds:[n],channelId:a,rootId:null,error:e};s((0,c.batchActions)([u,(0,m.getLogErrorAction)(e)]),l),i&&i(o)}else if(t){var f=t.body.file_infos.map(function(e,a){return(0,d.default)({},e,{clientId:t.body.client_ids[a]})});s((0,c.batchActions)([{type:h.FileTypes.RECEIVED_UPLOAD_FILES,data:f,channelId:a,rootId:null},{type:h.FileTypes.UPLOAD_FILES_SUCCESS}]),l),r&&r(t.body)}}var s=_.default.dispatch,l=_.default.getState;return s({type:h.FileTypes.UPLOAD_FILES_REQUEST},l),p.default.post(v.Client4.getFilesRoute()).set(v.Client4.getOptions().headers).attach("files",e,t).field("channel_id",a).field("client_ids",n).accept("application/json").end(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicLink=void 0;var i=a(67),o=n(i),s=a(68),l=n(s),u=a(28),d=n(u);t.getPublicLink=function(){var e=(0,l.default)(o.default.mark(function e(t,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.Client4.getFilePublicLink(t).then(function(e){e&&a&&a(e.link)}).catch(function(){});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}();t.uploadFile=r;var c=a(179),f=a(1329),p=n(f),h=a(10),m=a(92),g=a(91),v=a(23),b=a(40),_=n(b),y=a(47),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(175),i=n(r),o=a(88),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(167),_=n(b),y=a(27),E=n(y),w=a(0),C=n(w),x=a(39),M=n(x),S=a(214);a(1811);var k=a(12),T=n(k),P=a(1206),N=n(P),O=a(1184),I=a(169),R=a(47),A=a(1349),L=n(A),D=(0,S.defineMessages)({limited:{id:"file_upload.limited",defaultMessage:"Uploads limited to {count, number} files maximum. Please use additional posts for more files."},filesAbove:{id:"file_upload.filesAbove",defaultMessage:"Files above {max}MB could not be uploaded: {filenames}"},fileAbove:{id:"file_upload.fileAbove",defaultMessage:"File above {max}MB could not be uploaded: {filename}"},pasted:{id:"file_upload.pasted",defaultMessage:"Image Pasted at "}}),F=500,U=function(t){function a(t){(0,c.default)(this,a);var n=(0,m.default)(this,(a.__proto__||(0,u.default)(a)).call(this,t));return n.fileUploadSuccess=function(e){if(e){n.props.onFileUpload(e.file_infos,e.client_ids,n.props.currentChannelId);for(var t=(0,s.default)({},n.state.requests),a=0;a<e.client_ids.length;a++)(0,i.default)(t,e.client_ids[a]);n.setState({requests:t})}},n.fileUploadFail=function(e,t){n.props.onUploadError(e,t,n.props.currentChannelId)},n.uploadFiles=function(t){var a=(0,R.sortFilesByName)(t);n.props.onUploadError(null);for(var r=n.props.currentChannelId,i=T.default.MAX_UPLOAD_FILES-n.props.fileCount,o=0,s=[],l=[],u=0;u<a.length&&o<i;u++){(function(t){if(a[t].size>e.mm_config.MaxFileSize)return s.push(a[t]),"continue";var i=(0,R.generateId)(),u=n.props.uploadFile(a[t],a[t].name,r,i,function(e){return n.fileUploadSuccess(e)},function(e){return n.fileUploadFail(e,i)}),d=n.state.requests;d[i]=u,n.setState({requests:d}),l.push(i),o+=1})(u)}n.props.onUploadStart(l,r);var d=n.props.intl.formatMessage;if(a.length>i)n.props.onUploadError(d(D.limited,{count:T.default.MAX_UPLOAD_FILES}));else if(s.length>1){var c=s.map(function(e){return e.name}).join(", ");n.props.onUploadError(d(D.filesAbove,{max:e.mm_config.MaxFileSize/1048576,filenames:c}))}else s.length>0&&n.props.onUploadError(d(D.fileAbove,{max:e.mm_config.MaxFileSize/1048576,filename:s[0].name}))},n.handleChange=function(e){e.target.files.length>0&&(n.uploadFiles(e.target.files),(0,R.clearFileInput)(e.target)),n.props.onFileUploadChange()},n.handleDrop=function(e){if(!(0,O.canUploadFiles)())return void n.props.onUploadError((0,R.localizeMessage)("file_upload.disabled","File attachments are disabled."));n.props.onUploadError(null);var t=e.originalEvent.dataTransfer.files;"string"!=typeof t&&t.length&&n.uploadFiles(t)},n.registerDragEvents=function(e,t){var a=n,r=(0,_.default)(t),i=new N.default(function(){r.hasClass("hidden")||r.addClass("hidden")}),o={};o=(0,O.canUploadFiles)()?{enter:function(e,a){var n=a.originalEvent.dataTransfer;(0,R.isFileTransfer)(n)&&(0,_.default)(t).removeClass("hidden")},leave:function(e,t){var a=t.originalEvent.dataTransfer;(0,R.isFileTransfer)(a)&&!r.hasClass("hidden")&&r.addClass("hidden"),i.cancel()},over:function(){i.fireAfter(F)},drop:function(e,t){r.hasClass("hidden")||r.addClass("hidden"),i.cancel(),a.handleDrop(t)}}:{drop:function(e,t){a.handleDrop(t)}},(0,_.default)(e).dragster(o),n.props.onFileUploadChange()},n.pasteUpload=function(e){var t=n.props.intl.formatMessage;if(e.clipboardData&&e.clipboardData.items){var a=M.default.findDOMNode(n.props.getTarget());if(a&&a.contains(e.target)){n.props.onUploadError(null);for(var r=[],i=0;i<e.clipboardData.items.length;i++){var o=e.clipboardData.items[i];"file"===o.kind&&r.push(o)}if(r&&r.length>0){if(!(0,O.canUploadFiles)())return void n.props.onUploadError((0,R.localizeMessage)("file_upload.disabled","File attachments are disabled."));var s=Math.min(n.state.uploadsRemaining,r.length);r.length>s&&n.props.onUploadError(t(D.limited,{count:T.default.MAX_UPLOAD_FILES}));for(var l=n.props.currentChannelId,u=0;u<r.length&&u<s;u++){var d,c,f;(function(){if(!(d=r[u].getAsFile()))return"continue";var e=(0,R.generateId)();c=new Date;var a=c.getHours();a=a<10?"0"+a:""+a;var i=c.getMinutes();i=i<10?"0"+i:""+i,f="",d.name?d.name.includes(".")&&(f=d.name.substr(d.name.lastIndexOf("."))):r[u].type.includes("/")&&(f="."+r[u].type.split("/")[1].toLowerCase());var o=t(D.pasted)+c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" "+a+"-"+i+f,s=n.props.uploadFile(d,o,l,e,function(e){return n.fileUploadSuccess(e)},function(t){return n.fileUploadFail(t,e)}),p=n.state.requests;p[e]=s,n.setState({requests:p}),n.props.onUploadStart([e],l)})()}s>0&&n.props.onFileUploadChange()}}}},n.keyUpload=function(e){if((0,R.cmdOrCtrlPressed)(e)&&e.keyCode===T.default.KeyCodes.U){if(e.preventDefault(),!(0,O.canUploadFiles)())return void n.props.onUploadError((0,R.localizeMessage)("file_upload.disabled","File attachments are disabled."));var t="post"===n.props.postType&&"post_textbox-textarea"===document.activeElement.id,a="comment"===n.props.postType&&"reply_textbox-textarea"===document.activeElement.id;(t||a)&&(0,_.default)(n.refs.fileInput).focus().trigger("click")}},n.cancelUpload=function(e){var t=(0,s.default)({},n.state.requests),a=t[e];a&&(a.abort(),(0,i.default)(t,e),n.setState({requests:t}))},n.handleMaxUploadReached=function(e){e.preventDefault();var t=n.props;(0,t.onUploadError)((0,t.intl.formatMessage)(D.limited,{count:T.default.MAX_UPLOAD_FILES}))},n.state={requests:{}},n}return(0,v.default)(a,t),(0,p.default)(a,[{key:"componentDidMount",value:function(){"post"===this.props.postType?this.registerDragEvents(".row.main",".center-file-overlay"):"comment"===this.props.postType&&this.registerDragEvents(".post-right__container",".right-file-overlay"),document.addEventListener("paste",this.pasteUpload),document.addEventListener("keydown",this.keyUpload)}},{key:"componentWillUnmount",value:function(){var e=void 0;e="post"===this.props.postType?(0,_.default)(".row.main"):(0,_.default)(".post-right__container"),document.removeEventListener("paste",this.pasteUpload),document.removeEventListener("keydown",this.keyUpload),e.off("dragenter dragleave dragover drop dragster:enter dragster:leave dragster:over dragster:drop")}},{key:"render",value:function(){var e=!0;(0,I.isMobileApp)()&&(e=!1);var t="";(0,I.isIosChrome)()&&(t="image/*");var a=T.default.MAX_UPLOAD_FILES-this.props.fileCount,n=a>0?this.props.onClick:this.handleMaxUploadReached;return C.default.createElement("span",{ref:"input",className:a<=0?" btn-file__disabled":""},(0,O.canUploadFiles)()&&C.default.createElement("div",{id:"fileUploadButton",className:"icon icon--attachment"},C.default.createElement(L.default,null),C.default.createElement("input",{ref:"fileInput",type:"file",onChange:this.handleChange,onClick:n,multiple:e,accept:t})))}}]),a}(C.default.PureComponent);U.propTypes={currentChannelId:E.default.string.isRequired,intl:S.intlShape.isRequired,fileCount:E.default.number.isRequired,getTarget:E.default.func.isRequired,onClick:E.default.func,onFileUpload:E.default.func,onFileUploadChange:E.default.func,onUploadError:E.default.func,onUploadStart:E.default.func,postType:E.default.string,uploadFile:E.default.func.isRequired},t.default=(0,S.injectIntl)(U,{withRef:!0})}).call(t,a(22))},function(e,t,a){(function(e){!function(e){e.fn.dragster=function(t){var a=e.extend({enter:e.noop,leave:e.noop,over:e.noop,drop:e.noop},t);return this.each(function(){var t=!1,n=!1,r=e(this);r.on({dragenter:function(e){if(t)return void(n=!0);t=!0,r.trigger("dragster:enter",e),e.preventDefault()},dragleave:function(e){n?n=!1:t&&(t=!1),t||n||r.trigger("dragster:leave",e),e.preventDefault()},dragover:function(e){r.trigger("dragster:over",e),e.preventDefault()},drop:function(e){n?n=!1:t&&(t=!1),t||n||r.trigger("dragster:drop",e),e.preventDefault()},"dragster:enter":a.enter,"dragster:leave":a.leave,"dragster:over":a.over,"dragster:drop":a.drop})})}}(e)}).call(t,a(167))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(175),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(60),v=n(g),b=a(42),_=n(b),y=a(12),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(49),M=n(x),S=E.default.ActionTypes,k=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.typingUsers={},e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(e){this.on("change",e)}},{key:"removeChangeListener",value:function(e){this.removeListener("change",e)}},{key:"nameFromId",value:function(e){var t=C.localizeMessage("msg_typing.someone","Someone");return _.default.hasProfile(e)&&(t=C.displayUsername(e)),t}},{key:"userTyping",value:function(e,t,a){var n=this,r=this.nameFromId(t),o=e+a;this.typingUsers[o]||(this.typingUsers[o]={}),this.typingUsers[o][r]&&clearTimeout(this.typingUsers[o][r].timeout),this.typingUsers[o][r]=setTimeout(function(){(0,i.default)(n.typingUsers[o],r),n.typingUsers[o]==={}&&(0,i.default)(n.typingUsers,o),n.emitChange()},parseInt(window.mm_config.TimeBetweenUserTypingUpdatesMilliseconds,10)),this.emitChange()}},{key:"getUsersTyping",value:function(e,t){var a=e+t;return this.typingUsers[a]}},{key:"userPosted",value:function(e,t,a){var n=this.nameFromId(e),r=t+a;this.typingUsers[r]&&(clearTimeout(this.typingUsers[r][n]),(0,i.default)(this.typingUsers[r],n),this.typingUsers[r]==={}&&(0,i.default)(this.typingUsers,r),this.emitChange())}}]),t}(v.default),T=new k;T.dispatchToken=M.default.register(function(e){var t=e.action;switch(t.type){case S.RECEIVED_POST:T.userPosted(t.post.user_id,t.post.channel_id,t.post.parent_id);break;case S.USER_TYPING:T.userTyping(t.channelId,t.userId,t.postParentId)}}),t.default=T},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(18),E=a(220),w=n(E),C=a(171),x=a(59),M=r(x),S=a(12),k=r(S),T=a(460),P=n(T),N=a(47),O=n(N),I=a(1227),R=r(I),A=a(1180),L=r(A),D=a(1228),F=r(D),U=a(1365),j=r(U),H=a(1231),B=r(H),q=a(1232),z=r(q),G=a(1234),W=r(G),V=a(1235),$=r(V),K=a(1281),Y=r(K),X=a(1157),Z=r(X),J=a(1192),Q=r(J),ee=a(1236),te=r(ee),ae=a(1208),ne=r(ae),re=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.removePost=function(){t.props.removePost(t.props.post)},t.createRemovePostButton=function(){return b.default.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:t.removePost},"×")},t.renderPostTime=function(e){var a=t.props.post,n=!(e||y.Posts.POST_DELETED===a.state||w.isPostPendingOrFailed(a));return b.default.createElement($.default,{isPermalink:n,eventTime:a.create_at,useMilitaryTime:t.props.useMilitaryTime,postId:a.id})},t.toggleEmojiPicker=function(){var e=!t.state.showEmojiPicker;t.setState({showEmojiPicker:e,dropdownOpened:e})},t.reactEmojiClick=function(e){t.setState({showEmojiPicker:!1});var a=e.name||e.aliases[0];(0,C.addReaction)(t.props.post.channel_id,t.props.post.id,a),(0,C.emitEmojiPosted)(a),t.handleDropdownOpened(!1)},t.getClassName=function(e,a){var n="post post--thread";return t.props.currentUser.id===e.user_id&&(n+=" current--user"),a&&(n+=" post--system"),t.props.compactDisplay&&(n+=" post--compact"),e.is_pinned&&(n+=" post--pinned"),t.state.dropdownOpened&&(n+=" post--hovered"),n},t.handleDropdownOpened=function(e){t.setState({dropdownOpened:e})},t.getDotMenuRef=function(){return t.refs.dotMenu},t.state={currentTeamDisplayName:M.default.getCurrent().name,showEmojiPicker:!1,dropdownOpened:!1},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.status!==this.props.status||(e.isBusy!==this.props.isBusy||(e.compactDisplay!==this.props.compactDisplay||(e.useMilitaryTime!==this.props.useMilitaryTime||(e.isFlagged!==this.props.isFlagged||(!O.areObjectsEqual(e.post,this.props.post)||(!O.areObjectsEqual(e.currentUser,this.props.currentUser)||(this.state.showEmojiPicker!==t.showEmojiPicker||(e.lastPostCount!==this.props.lastPostCount||(this.state.dropdownOpened!==t.dropdownOpened||(e.isEmbedVisible!==this.props.isEmbedVisible||(this.props.previewEnabled!==e.previewEnabled||(!O.areObjectsEqual(e.user,this.props.user)||(this.state.width!==t.width||this.state.height!==t.height)))))))))))))}},{key:"render",value:function(){var t=this.props.post,a=-1;this.props.lastPostCount>=0&&this.props.lastPostCount<k.default.TEST_ID_COUNT&&(a=this.props.lastPostCount);var n=O.isPostEphemeral(t),r=P.isSystemMessage(t),i=this.props.status;t.props&&"true"===t.props.from_webhook&&(i=null);var o=void 0,s=b.default.createElement(ne.default,{user:this.props.user,status:i,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}),l=void 0;t.props&&t.props.from_webhook?(s=t.props.override_username&&"true"===e.window.mm_config.EnablePostUsernameOverride?b.default.createElement(ne.default,{user:this.props.user,overwriteName:t.props.override_username,disablePopover:!0}):b.default.createElement(ne.default,{user:this.props.user,disablePopover:!0}),o=b.default.createElement("div",{className:"col col__name bot-indicator"},"BOT")):r&&(s=b.default.createElement(ne.default,{user:{},overwriteName:b.default.createElement(_.FormattedMessage,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:k.default.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}),l=b.default.createElement("span",{className:"post__visibility"},b.default.createElement(_.FormattedMessage,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"})));var u=void 0,d="";t.failed&&(d+=" post-failed",u=b.default.createElement(j.default,{post:this.props.post})),P.isEdited(this.props.post)&&(d+=" post--edited");var c=b.default.createElement(Z.default,{src:P.getProfilePicSrcForPost(t,this.props.user),status:i,width:"36",height:"36",user:this.props.user,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0});t.props&&t.props.from_webhook?c=b.default.createElement(Z.default,{src:P.getProfilePicSrcForPost(t,this.props.user),width:"36",height:"36"}):r&&(c=b.default.createElement(te.default,{className:"icon"})),this.props.compactDisplay&&(c=t.props&&t.props.from_webhook?b.default.createElement(Z.default,{src:""}):b.default.createElement(Z.default,{src:"",status:i,user:this.props.user,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}));var f=b.default.createElement("div",{className:"post__img"},c),p=null;t.file_ids&&t.file_ids.length>0&&(p=b.default.createElement(F.default,{post:t,compactDisplay:this.props.compactDisplay}));var h=void 0;n||t.failed||r||"true"!==window.mm_config.EnableEmojiPicker||(h=b.default.createElement("span",null,b.default.createElement(L.default,{show:this.state.showEmojiPicker,onHide:this.toggleEmojiPicker,target:this.getDotMenuRef,onEmojiClick:this.reactEmojiClick,rightOffset:15,spaceRequiredAbove:342,spaceRequiredBelow:342}),b.default.createElement("button",{className:"reacticon__container reaction color--link style--none",onClick:this.toggleEmojiPicker,ref:"rhs_reacticon_"+t.id},b.default.createElement(Q.default,{className:"icon icon--emoji"}))));var m=void 0;if(n)m=b.default.createElement("div",{className:"col col__remove"},this.createRemovePostButton());else if(!r){var g=b.default.createElement(R.default,{idPrefix:k.default.RHS,idCount:a,post:this.props.post,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened});m=b.default.createElement("div",{ref:"dotMenu",className:"col col__reply"},g,h)}var v=void 0;t.is_pinned&&(v=b.default.createElement("span",{className:"post__pinned-badge"},b.default.createElement(_.FormattedMessage,{id:"post_info.pinned",defaultMessage:"Pinned"})));var E=b.default.createElement(W.default,{post:t,isRHS:!0,hasMention:!0}),w=void 0;return w=this.props.post.state===y.Posts.POST_DELETED?E:b.default.createElement(B.default,{post:t,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible},E),b.default.createElement("div",{ref:"post_body_"+t.id,className:this.getClassName(t,r)},b.default.createElement("div",{className:"post__content"},f,b.default.createElement("div",null,b.default.createElement("div",{className:"post__header"},b.default.createElement("div",{className:"col col__name"},b.default.createElement("strong",null,s)),o,b.default.createElement("div",{className:"col"},this.renderPostTime(n),v,b.default.createElement(z.default,{idPrefix:"rhsCommentFlag",idCount:a,postId:t.id,isFlagged:this.props.isFlagged,isEphemeral:n}),l),m),b.default.createElement("div",{className:"post__body"},b.default.createElement("div",{className:d},u,w),p,b.default.createElement(Y.default,{post:t})))))}}]),a}(b.default.Component);re.propTypes={post:g.default.object,lastPostCount:g.default.number,user:g.default.object,currentUser:g.default.object.isRequired,compactDisplay:g.default.bool,useMilitaryTime:g.default.bool.isRequired,isFlagged:g.default.bool,status:g.default.string,isBusy:g.default.bool,removePost:g.default.func.isRequired,previewCollapsed:g.default.string.isRequired,previewEnabled:g.default.bool.isRequired,isEmbedVisible:g.default.bool},t.default=re}).call(t,a(22))},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(167),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(12),w=r(E),C=a(1206),x=r(C),M=a(460),S=n(M),k=a(47),T=n(k),P=a(1815),N=r(P),O=a(1816),I=r(O),R=a(1817),A=r(R),L=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleDropdownOpened=function(){a.props.handleDropdownOpened(!0);var e=(0,g.default)("#post-list").height()-(0,g.default)(a.refs.dropdownToggle).offset().top,t=(0,g.default)(a.refs.dropdown);e<t.height()&&t.addClass("bottom")},a.handleEditDisable=function(){a.setState({canEdit:!1})},a.editDisableAction=new x.default(a.handleEditDisable),a.state={canDelete:S.canDeletePost(e.post),canEdit:S.canEditPost(e.post,a.editDisableAction)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,g.default)("#"+this.props.idPrefix+"_dropdown"+this.props.post.id).on("shown.bs.dropdown",this.handleDropdownOpened),(0,g.default)("#"+this.props.idPrefix+"_dropdown"+this.props.post.id).on("hidden.bs.dropdown",function(){return e.props.handleDropdownOpened(!1)})}},{key:"componentWillReceiveProps",value:function(e){e.post!==this.props.post&&this.setState({canDelete:S.canDeletePost(e.post),canEdit:S.canEditPost(e.post,this.editDisableAction)})}},{key:"componentWillUnmount",value:function(){this.editDisableAction.cancel()}},{key:"render",value:function(){var e=S.isSystemMessage(this.props.post),t=T.isMobile();if(this.props.idPrefix===w.default.CENTER&&!t&&e&&!this.state.canDelete&&!this.state.canEdit)return null;if(this.props.idPrefix===w.default.RHS&&(this.props.post.state===w.default.POST_FAILED||this.props.post.state===w.default.POST_LOADING))return null;var a="Post";this.props.post.root_id&&this.props.post.root_id.length>0&&(a="Comment");var n=this.props.idPrefix+"DotMenu",r=null;t&&(r=y.default.createElement(I.default,{idPrefix:n+"Flag",idCount:this.props.idCount,postId:this.props.post.id,isFlagged:this.props.isFlagged,actions:{flagPost:this.props.actions.flagPost,unflagPost:this.props.actions.unflagPost}}));var i=null,o=null,s=null;e||(this.props.idPrefix===w.default.CENTER&&(i=y.default.createElement(A.default,{idPrefix:n+"Reply",idCount:this.props.idCount,handleOnClick:this.props.handleCommentClick})),o=y.default.createElement(A.default,{idPrefix:n+"Permalink",idCount:this.props.idCount,post:this.props.post}),s=y.default.createElement(A.default,{idPrefix:n+"Pin",idCount:this.props.idCount,post:this.props.post,actions:{pinPost:this.props.actions.pinPost,unpinPost:this.props.actions.unpinPost}}));var l=null;this.state.canDelete&&(l=y.default.createElement(A.default,{idPrefix:n+"Delete",idCount:this.props.idCount,post:this.props.post,commentCount:"Post"===a?this.props.commentCount:0}));var u=null;this.state.canEdit&&(u=y.default.createElement(N.default,{idPrefix:n+"Edit",idCount:this.props.idCount,post:this.props.post,type:a,commentCount:"Post"===a?this.props.commentCount:0,actions:{setEditingPost:this.props.actions.setEditingPost}}));var d=null;return this.props.idCount>-1&&(d=T.createSafeId(n+this.props.idCount)),this.props.idPrefix===w.default.RHS_ROOT&&(d=n),y.default.createElement("div",{id:d,className:"dropdown",ref:"dotMenu"},y.default.createElement("div",{id:this.props.idPrefix+"_dropdown"+this.props.post.id},y.default.createElement("button",{ref:"dropdownToggle",className:"dropdown-toggle post__dropdown color--link style--none",type:"button","data-toggle":"dropdown","aria-expanded":"false"}),y.default.createElement("div",{className:"dropdown-menu__content"},y.default.createElement("ul",{ref:"dropdown",className:"dropdown-menu",role:"menu"},i,r,o,s,l,u))))}}]),t}(_.Component);L.propTypes={idPrefix:b.default.string.isRequired,idCount:b.default.number,post:b.default.object.isRequired,commentCount:b.default.number,isFlagged:b.default.bool,handleCommentClick:b.default.func,handleDropdownOpened:b.default.func,actions:b.default.shape({flagPost:b.default.func.isRequired,unflagPost:b.default.func.isRequired,setEditingPost:b.default.func.isRequired,pinPost:b.default.func.isRequired,unpinPost:b.default.func.isRequired}).isRequired},L.defaultProps={idCount:-1,post:{},commentCount:0,isFlagged:!1},t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){e.actions.setEditingPost(e.post.id,e.commentsCount,0===e.idPrefix.indexOf(c.default.CENTER)?"post_textbox":"reply_textbox",0===e.idPrefix.indexOf(c.default.CENTER)?e.type:p.localizeMessage("rhs_comment.comment","Comment"))}var a=null;return e.idCount>-1&&(a=p.createSafeId(e.idPrefix+e.idCount)),0===e.idPrefix.indexOf(c.default.RHS_ROOT)&&(a=e.idPrefix),l.default.createElement("li",{id:p.createSafeId(a),key:e.idPrefix,role:"presentation"},l.default.createElement("button",{className:"style--none",onClick:t},l.default.createElement(u.FormattedMessage,{id:"post_info.edit",defaultMessage:"Edit"})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(12),c=n(d),f=a(47),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(f);r.propTypes={idPrefix:o.default.string.isRequired,idCount:o.default.number,post:o.default.object,type:o.default.string,commentsCount:o.default.number,actions:o.default.shape({setEditingPost:o.default.func.isRequired}).isRequired},r.defaultProps={idCount:-1}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return u.default.createElement(d.FormattedMessage,{id:e?"rhs_root.mobile.unflag":"rhs_root.mobile.flag",defaultMessage:e?"Unflag":"Flag"})}function i(e){function t(t){t.preventDefault(),e.actions.flagPost(e.postId)}function a(t){t.preventDefault(),e.actions.unflagPost(e.postId)}var n=e.isFlagged?a:t,i=null;return e.idCount>-1&&(i=h.createSafeId(e.idPrefix+e.idCount)),0===e.idPrefix.indexOf(f.default.RHS_ROOT)&&(i=e.idPrefix),u.default.createElement("li",{key:e.idPrefix,role:"presentation"},u.default.createElement("button",{id:i,className:"style--none",onClick:n},r(e.isFlagged)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(27),s=n(o),l=a(0),u=n(l),d=a(214),c=a(12),f=n(c),p=a(47),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(p);i.propTypes={idCount:s.default.number,idPrefix:s.default.string.isRequired,postId:s.default.string.isRequired,isFlagged:s.default.bool.isRequired,actions:s.default.shape({flagPost:s.default.func.isRequired,unflagPost:s.default.func.isRequired}).isRequired},i.defaultProps={idCount:-1,postId:"",isFlagged:!1}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(t){t.preventDefault(),(0,d.showGetPostLinkModal)(e.post)}function a(t){t.preventDefault(),e.actions.unpinPost(e.post.id)}function n(t){t.preventDefault(),e.actions.pinPost(e.post.id)}function r(t){t.preventDefault(),(0,d.showDeletePostModal)(e.post,e.commentCount)}var i={};switch(i.idPrefix=e.idPrefix,i.class="",e.idPrefix.substring(e.idPrefix.indexOf("DotMenu")+7)){case"Reply":i.class="link__reply theme",i.onClick=e.handleOnClick,i.formattedMessageId="post_info.reply",i.formattedDefaultMessage="Reply";break;case"Permalink":i.onClick=t,i.formattedMessageId="post_info.permalink",i.formattedDefaultMessage="Permalink",i.post=e.post;break;case"Pin":i.onClick=e.post.is_pinned?a:n,i.formattedMessageId=e.post.is_pinned?"post_info.unpin":"post_info.pin",i.formattedDefaultMessage=e.post.is_pinned?"Un-pin from channel":"Pin from channel",i.post=e.post;break;case"Delete":i.onClick=r,i.formattedMessageId="post_info.del",i.formattedDefaultMessage="Delete",i.commentCount=e.commentCount}var o=null;return e.idCount>-1&&(o=h.createSafeId(e.idPrefix+e.idCount)),0===i.idPrefix.indexOf(f.default.RHS_ROOT)&&(o=i.idPrefix),l.default.createElement("li",{id:h.createSafeId(o),key:i.idPrefix,role:"presentation"},l.default.createElement("button",{className:"style--none",role:"menuitem",onClick:i.onClick},l.default.createElement(u.FormattedMessage,{id:i.formattedMessageId,defaultMessage:i.formattedDefaultMessage})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(214),d=a(142),c=a(12),f=n(c),p=a(47),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(p);r.propTypes={idPrefix:o.default.string.isRequired,idCount:o.default.number,post:o.default.object,handleOnClick:o.default.func,commentCount:o.default.number,actions:o.default.shape({pinPost:o.default.func,unpinPost:o.default.func})},r.defaultProps={idPrefix:"",idCount:-1}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(12),_=n(b),y=a(47),E=a(1819),w=n(E),C=a(1820),x=n(C),M=a(1275),S=n(M),k=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.hidePreviewModal=function(){a.setState({showPreviewModal:!1})},a.handleImageClick=a.handleImageClick.bind(a),a.state={showPreviewModal:!1,startImgIndex:0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){(this.props.post.file_ids||this.props.post.filenames)&&this.props.actions.getMissingFilesForPost(this.props.post.id)}},{key:"handleImageClick",value:function(e){this.setState({showPreviewModal:!0,startImgIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.fileInfos,a=e.fileCount,n=e.compactDisplay,r=[],i=[];if(t&&1===t.length&&!1===n){var o=(0,y.getFileType)(t[0].extension);if("image"===o||"svg"===o)return v.default.createElement(x.default,{fileInfo:t[0]})}if(t&&t.length>0){i=t.sort(function(e,t){return e.create_at-t.create_at});for(var s=0;s<Math.min(i.length,_.default.MAX_DISPLAY_FILES);s++){var l=i[s];r.push(v.default.createElement(w.default,{key:l.id,fileInfo:i[s],index:s,handleImageClick:this.handleImageClick,compactDisplay:n}))}}else if(a>0)for(var u=0;u<Math.min(a,_.default.MAX_DISPLAY_FILES);u++)r.push(v.default.createElement("div",{key:"fileCount-"+u,className:"post-image__column post-image__column--placeholder"}));return v.default.createElement("div",null,v.default.createElement("div",{className:"post-image__columns clearfix"},r),v.default.createElement(S.default,{show:this.state.showPreviewModal,onModalDismissed:this.hidePreviewModal,startIndex:this.state.startImgIndex,fileInfos:i}))}}]),t}(v.default.Component);k.propTypes={post:m.default.object.isRequired,fileCount:m.default.number.isRequired,fileInfos:m.default.arrayOf(m.default.object),compactDisplay:m.default.bool,actions:m.default.shape({getMissingFilesForPost:m.default.func.isRequired}).isRequired},t.default=k},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(1193),y=a(12),E=r(y),w=a(1184),C=n(w),x=a(47),M=n(x),S=a(1348),k=r(S),T=a(1354),P=r(T),N=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.loadFiles=function(){var e=a.props.fileInfo;if("image"===M.getFileType(e.extension)){var t=(0,_.getFileThumbnailUrl)(e.id);M.loadImage(t,a.handleImageLoaded)}else"svg"===e.extension&&M.loadImage((0,_.getFileUrl)(e.id),a.handleImageLoaded)},a.handleImageLoaded=function(){a.setState({loaded:!0})},a.onAttachmentClick=function(e){e.preventDefault(),a.props.handleImageClick(a.props.index)},a.state={loaded:"image"!==M.getFileType(e.fileInfo.extension)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"componentWillReceiveProps",value:function(e){if(e.fileInfo.id!==this.props.fileInfo.id){var t=e.fileInfo.extension;this.setState({loaded:"image"!==M.getFileType(t)&&"svg"!==t})}}},{key:"componentDidUpdate",value:function(e){this.state.loaded||this.props.fileInfo.id===e.fileInfo.id||this.loadFiles()}},{key:"render",value:function(){var e=this.props.fileInfo,t=e.name,a=(0,_.getFileUrl)(e.id),n=void 0;if(this.state.loaded){var r=M.getFileType(e.extension);if("image"===r){var i="post-image";e.width<E.default.THUMBNAIL_WIDTH&&e.height<E.default.THUMBNAIL_HEIGHT?i+=" small":i+=" normal";var o=(0,_.getFileThumbnailUrl)(e.id);M.isGIFImage(e.extension)&&!e.has_preview_image&&(o=(0,_.getFileUrl)(e.id)),n=b.default.createElement("div",{className:i,style:{backgroundImage:"url("+o+")",backgroundSize:"cover"}})}else n="svg"===e.extension?b.default.createElement("img",{className:"post-image normal",src:(0,_.getFileUrl)(e.id)}):b.default.createElement("div",{className:"file-icon "+M.getIconClassName(r)})}else n=b.default.createElement("div",{className:"post-image__load"});var s=C.canDownloadFiles(),l=null;return s&&(l=b.default.createElement("a",{href:a,download:t,className:"post-image__download",target:"_blank",rel:"noopener noreferrer"},b.default.createElement(P.default,null))),b.default.createElement("div",{className:"post-image__column"},b.default.createElement("a",{className:"post-image__thumbnail",href:"#",onClick:this.onAttachmentClick},n),b.default.createElement("div",{className:"post-image__details"},b.default.createElement("div",{className:"post-image__detail_wrapper",onClick:this.onAttachmentClick},b.default.createElement("div",{className:"post-image__detail"},b.default.createElement(k.default,{fileInfo:this.props.fileInfo,index:this.props.index,handleImageClick:this.props.handleImageClick,compactDisplay:this.props.compactDisplay,canDownload:s}),b.default.createElement("span",{className:"post-image__type"},e.extension.toUpperCase()),b.default.createElement("span",{className:"post-image__size"},M.fileSizeToString(e.size)))),l))}}]),t}(b.default.PureComponent);N.propTypes={fileInfo:g.default.object.isRequired,index:g.default.number.isRequired,handleImageClick:g.default.func,compactDisplay:g.default.bool},t.default=N},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1193),_=a(47),y=a(1184),E=a(1354),w=n(E),C=a(1355),x=n(C),M=a(1275),S=n(M),k=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.loadImage=function(){var e=a.props.fileInfo;if("image"===(0,_.getFileType)(e.extension)){var t=void 0;t=e.has_image_preview?(0,b.getFilePreviewUrl)(e.id):(0,b.getFileUrl)(e.id),(0,_.loadImage)(t,a.handleImageLoaded,a.handleImageProgress)}else a.handleImageLoaded()},a.handleImageLoaded=function(){a.setState({loaded:!0})},a.handleImageProgress=function(e){a.setState({progress:e})},a.handleImageClick=function(e){e.preventDefault(),a.setState({showPreviewModal:!0})},a.showPreviewModal=function(){a.setState({showPreviewModal:!1})},a.state={loaded:!1,progress:0,showPreviewModal:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"render",value:function(){var e=null,t="";if(this.state.loaded){var a=this.props.fileInfo,n=(0,b.getFileUrl)(a.id),r=a.has_preview_image,i=a.id,o=r?(0,b.getFilePreviewUrl)(i):n,s=(0,y.canDownloadFiles)(),l=null;s&&(l=v.default.createElement("a",{href:n,download:a.name,className:"file__download",target:"_blank",rel:"noopener noreferrer"},v.default.createElement(w.default,null)));var u=(0,_.getFileType)(a.extension),d=void 0;"svg"===u&&(d="post-image normal"),e=v.default.createElement("div",null,v.default.createElement("div",{className:"file-details"},v.default.createElement("span",{className:"file-details__name",onClick:this.handleImageClick},a.name.toUpperCase()),v.default.createElement("span",{className:"file-details__extension"},a.extension.toUpperCase()+"  "+(0,_.fileSizeToString)(a.size))),v.default.createElement("div",{className:"file__image"},v.default.createElement("img",{src:o,style:{cursor:"pointer"},className:d,onClick:this.handleImageClick}),l),v.default.createElement(S.default,{show:this.state.showPreviewModal,onModalDismissed:this.showPreviewModal,fileInfos:[a]}))}else{t="loading";var c=(0,_.localizeMessage)("view_image.loading","Loading"),f=Math.floor(this.state.progress);e=v.default.createElement(x.default,{loading:c,progress:f,containerClass:"file__image-loading"})}return v.default.createElement("div",{className:"file-view--single "+t},e)}}]),t}(v.default.PureComponent);k.propTypes={fileInfo:m.default.object.isRequired},k.defaultProps={fileInfo:{}},t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(39),E=n(y),w=a(12),C=n(w),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(1229),k=n(S),T=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleFileInfoChanged=a.handleFileInfoChanged.bind(a),a.handleLoadError=a.handleLoadError.bind(a),a.stop=a.stop.bind(a),a.state={canPlay:!0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.handleFileInfoChanged(this.props.fileInfo)}},{key:"componentDidMount",value:function(){this.refs.source&&(0,m.default)(E.default.findDOMNode(this.refs.source)).one("error",this.handleLoadError)}},{key:"componentWillReceiveProps",value:function(e){this.props.fileUrl!==e.fileUrl&&this.handleFileInfoChanged(e.fileInfo)}},{key:"handleFileInfoChanged",value:function(e){var t=E.default.findDOMNode(this.refs.video);t||(t=document.createElement("video"));var a=t.canPlayType(e.mime_type);this.setState({canPlay:"probably"===a||"maybe"===a})}},{key:"componentDidUpdate",value:function(){this.refs.source&&(0,m.default)(E.default.findDOMNode(this.refs.source)).one("error",this.handleLoadError)}},{key:"handleLoadError",value:function(){this.setState({canPlay:!1})}},{key:"stop",value:function(){if(this.refs.video){var e=E.default.findDOMNode(this.refs.video);e.pause(),e.currentTime=0}}},{key:"render",value:function(){if(!this.state.canPlay)return _.default.createElement(k.default,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});var e=C.default.WEB_VIDEO_WIDTH,t=C.default.WEB_VIDEO_HEIGHT;return M.isMobile()&&(e=C.default.MOBILE_VIDEO_WIDTH,t=C.default.MOBILE_VIDEO_HEIGHT),_.default.createElement("video",{key:this.props.fileInfo.id,ref:"video","data-setup":"{}",controls:"controls",width:e,height:t},_.default.createElement("source",{ref:"source",src:this.props.fileUrl}))}}]),t}(_.default.PureComponent);T.propTypes={fileInfo:v.default.object.isRequired,fileUrl:v.default.string.isRequired},t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(12),E=n(y),w=a(1324),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(1170),M=n(x),S=a(1229),k=n(S),T=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.updateStateFromProps=a.updateStateFromProps.bind(a),a.handleReceivedError=a.handleReceivedError.bind(a),a.handleReceivedCode=a.handleReceivedCode.bind(a),a.state={code:"",lang:"",loading:!0,success:!0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.updateStateFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.fileUrl!==e.fileUrl&&this.updateStateFromProps(e)}},{key:"updateStateFromProps",value:function(e){var t=C.getLanguageFromFileExtension(e.fileInfo.extension);if(!t||e.fileInfo.size>E.default.CODE_PREVIEW_MAX_FILE_SIZE)return void this.setState({code:"",lang:"",loading:!1,success:!1});this.setState({code:"",lang:t,loading:!0}),m.default.ajax({async:!0,url:e.fileUrl,type:"GET",dataType:"text",error:this.handleReceivedError,success:this.handleReceivedCode})}},{key:"handleReceivedCode",value:function(e){var t=e;"#document"===e.nodeName&&(t=(new XMLSerializer).serializeToString(e)),this.setState({code:t,loading:!1,success:!0})}},{key:"handleReceivedError",value:function(){this.setState({loading:!1,success:!1})}},{key:"render",value:function(){if(this.state.loading)return _.default.createElement("div",{className:"view-image__loading"},_.default.createElement("img",{className:"loader-image",src:M.default}));if(!this.state.success)return _.default.createElement(k.default,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});for(var e=this.state.code.match(/\r\n|\r|\n|$/g).length,t="",a=1;a<=e;a++)t+=t?"\n"+a:a;var n=C.getLanguageName(this.state.lang),r=C.highlight(this.state.lang,this.state.code);return _.default.createElement("div",{className:"post-code"},_.default.createElement("span",{className:"post-code__language"},this.props.fileInfo.name+" - "+n),_.default.createElement("div",{className:"post-code__container"},_.default.createElement("code",{className:"hljs"},_.default.createElement("table",null,_.default.createElement("tbody",null,_.default.createElement("tr",null,_.default.createElement("td",{className:"post-code__lineno"},t),_.default.createElement("td",{dangerouslySetInnerHTML:{__html:r}})))))))}}],[{key:"supports",value:function(e){return Boolean(C.getLanguageFromFileExtension(e.extension))}}]),t}(_.default.Component);t.default=T,T.propTypes={fileInfo:v.default.object.isRequired,fileUrl:v.default.string.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.fileInfo,a=t.has_preview_image,n=t.id,r=t.link,i=r||(0,u.getFileUrl)(n),o=a?(0,u.getFilePreviewUrl)(n):i;return(0,d.canDownloadFiles)()?l.default.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",download:!0},l.default.createElement("img",{src:o})):l.default.createElement("img",{src:o})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(1193),d=a(1184);r.propTypes={fileInfo:o.default.object.isRequired}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(1184),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(_),E=function(t){function a(){return(0,s.default)(this,a),(0,c.default)(this,(a.__proto__||(0,i.default)(a)).apply(this,arguments))}return(0,p.default)(a,t),(0,u.default)(a,[{key:"render",value:function(){var t="";"true"===e.window.mm_config.EnablePublicLink&&this.props.showPublicLink&&(t=v.default.createElement("div",null,v.default.createElement("a",{href:"#",className:"public-link text","data-title":"Public Image",onClick:this.props.onGetPublicLink},v.default.createElement(b.FormattedMessage,{id:"view_image_popover.publicLink",defaultMessage:"Get Public Link"})),v.default.createElement("span",{className:"text"}," | ")));var a="modal-button-bar";this.props.show&&(a+=" footer--show");var n=null;return y.canDownloadFiles()&&(n=v.default.createElement("div",{className:"image-links"},t,v.default.createElement("a",{href:this.props.fileURL,download:this.props.filename,className:"text",target:"_blank",rel:"noopener noreferrer"},v.default.createElement(b.FormattedMessage,{id:"view_image_popover.download",defaultMessage:"Download"})))),v.default.createElement("div",{ref:"imageFooter",className:a},v.default.createElement("span",{className:"pull-left text"},v.default.createElement(b.FormattedMessage,{id:"view_image_popover.file",defaultMessage:"File {count, number} of {total, number}",values:{count:this.props.fileIndex+1,total:this.props.totalFiles}})),n)}}]),a}(v.default.PureComponent);E.propTypes={show:m.default.bool.isRequired,fileIndex:m.default.number.isRequired,totalFiles:m.default.number.isRequired,filename:m.default.string.isRequired,fileURL:m.default.string.isRequired,showPublicLink:m.default.bool,onGetPublicLink:m.default.func},E.defaultProps={show:!1,fileIndex:0,totalFiles:0,filename:"",fileURL:"",showPublicLink:!0},t.default=E}).call(t,a(22))},function(e,t,a){e.exports=function(e){a.e(5).then(function(t){e(a(1826))}.bind(null,a)).catch(a.oe)}},,,function(e,t,a){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,a,r,i,o,s,l=e.length;o=n(e),s=new c(3*l/4-o),r=o>0?l-4:l;var u=0;for(t=0,a=0;t<r;t+=4,a+=3)i=d[e.charCodeAt(t)]<<18|d[e.charCodeAt(t+1)]<<12|d[e.charCodeAt(t+2)]<<6|d[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=d[e.charCodeAt(t)]<<2|d[e.charCodeAt(t+1)]>>4,s[u++]=255&i):1===o&&(i=d[e.charCodeAt(t)]<<10|d[e.charCodeAt(t+1)]<<4|d[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function o(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,a){for(var n,r=[],i=t;i<a;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],r.push(o(n));return r.join("")}function l(e){for(var t,a=e.length,n=a%3,r="",i=[],o=0,l=a-n;o<l;o+=16383)i.push(s(e,o,o+16383>l?l:o+16383));return 1===n?(t=e[a-1],r+=u[t>>2],r+=u[t<<4&63],r+="=="):2===n&&(t=(e[a-2]<<8)+e[a-1],r+=u[t>>10],r+=u[t>>4&63],r+=u[t<<2&63],r+="="),i.push(r),i.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=l;for(var u=[],d=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=f.length;p<h;++p)u[p]=f[p],d[f.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,a,n,r){var i,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,d=-7,c=a?r-1:0,f=a?-1:1,p=e[t+c];for(c+=f,i=p&(1<<-d)-1,p>>=-d,d+=s;d>0;i=256*i+e[t+c],c+=f,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=n;d>0;o=256*o+e[t+c],c+=f,d-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),i-=u}return(p?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,a,n,r,i){var o,s,l,u=8*i-r-1,d=(1<<u)-1,c=d>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+c>=1?f/l:f*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=d?(s=0,o=d):o+c>=1?(s=(t*l-1)*Math.pow(2,r),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;e[a+p]=255&s,p+=h,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[a+p]=255&o,p+=h,o/=256,u-=8);e[a+p-h]|=128*m}},,function(e,t){},function(e,t,a){"use strict";function n(){this.head=null,this.tail=null,this.length=0}var r=(a(1129).Buffer,a(1278));e.exports=n,n.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},n.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},n.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,a=""+t.data;t=t.next;)a+=e+t.data;return a},n.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),a=this.head,n=0;a;)a.data.copy(t,n),n+=a.data.length,a=a.next;return t}},function(e,t,a){function n(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a(1834),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,a){(function(e,t){!function(e,a){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var n={callback:e,args:t};return u[l]=n,s(l),l++}function r(e){delete u[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n)}}function o(e){if(d)setTimeout(o,0,e);else{var t=u[e];if(t){d=!0;try{i(t)}finally{r(e),d=!1}}}}if(!e.setImmediate){var s,l=1,u={},d=!1,c=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?function(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&o(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),s=function(a){e.postMessage(t+a,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;s=function(t){var a=c.createElement("script");a.onreadystatechange=function(){o(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}():function(){s=function(e){setTimeout(o,0,e)}}(),f.setImmediate=n,f.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,a(22),a(1153))},function(e,t,a){(function(t){function a(e,t){function a(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var r=!1;return a}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var a=t.localStorage[e];return null!=a&&"true"===String(a).toLowerCase()}e.exports=a}).call(t,a(22))},function(e,t,a){"use strict";function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}e.exports=n;var r=a(1360),i=a(1207);i.inherits=a(458),i.inherits(n,r),n.prototype._transform=function(e,t,a){a(null,e)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(175),i=n(r),o=a(28),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(214),C=a(171),x=function(e){function t(e){(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.retryPost=a.retryPost.bind(a),a.cancelPost=a.cancelPost.bind(a),a.submitting=!1,a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"retryPost",value:function(e){var t=this;if(e.preventDefault(),!this.submitting){this.submitting=!0;var a=(0,s.default)({},this.props.post);(0,i.default)(a,"id"),(0,C.createPost)(a,function(){t.submitting=!1},function(e){e&&e.id&&"api.post.create_post.root_id.app_error"===e.id&&t.showPostDeletedModal(),t.submitting=!1})}}},{key:"cancelPost",value:function(e){e.preventDefault(),this.props.actions.removePost(this.props.post)}},{key:"render",value:function(){return E.default.createElement("span",{className:"pending-post-actions"},E.default.createElement("a",{className:"post-retry",href:"#",onClick:this.retryPost},E.default.createElement(w.FormattedMessage,{id:"pending_post_actions.retry",defaultMessage:"Retry"}))," - ",E.default.createElement("a",{className:"post-cancel",href:"#",onClick:this.cancelPost},E.default.createElement(w.FormattedMessage,{id:"pending_post_actions.cancel",defaultMessage:"Cancel"})))}}]),t}(E.default.PureComponent);x.propTypes={post:_.default.object.isRequired,actions:_.default.shape({removePost:_.default.func.isRequired}).isRequired},t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{currentChannelId:(0,l.getCurrentChannelId)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(144),u=a(1860),d=n(u);t.default=(0,s.connect)(r)(d.default)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1328),_=a(47),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(_),E=/(?:http|https):\/\/(?:www\.|m\.)?(?:(?:youtube\.com\/(?:(?:v\/)|(?:(?:watch|embed\/watch)(?:\/|.*v=))|(?:embed\/)|(?:user\/[^\/]+\/u\/[0-9]\/)))|(?:youtu\.be\/))([^#&?]*)/,w=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.updateStateFromProps=t.updateStateFromProps.bind(t),t.handleReceivedMetadata=t.handleReceivedMetadata.bind(t),t.handleMetadataError=t.handleMetadataError.bind(t),t.loadWithoutKey=t.loadWithoutKey.bind(t),t.play=t.play.bind(t),t.stop=t.stop.bind(t),t.state={loaded:!1,failed:!1,playing:!1,title:""},t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"componentWillMount",value:function(){this.updateStateFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateStateFromProps(e)}},{key:"updateStateFromProps",value:function(e){var t=e.link,a=t.trim().match(E);a&&11===a[1].length&&(!1===e.show&&this.stop(),e.channelId!==e.currentChannelId&&this.stop(),this.setState({videoId:a[1],time:this.handleYoutubeTime(t)}))}},{key:"handleYoutubeTime",value:function(e){var t=/[\\?&]t=([0-9]+h)?([0-9]+m)?([0-9]+s?)/,a=e.match(t);if(!a||!a[0])return"";var n=a[1]?a[1].match(/([0-9]+)h/):null,r=a[2]?a[2].match(/([0-9]+)m/):null,i=a[3]?a[3].match(/([0-9]+)s?/):null,o=0;return n&&n[1]&&(o+=3600*parseInt(n[1],10)),r&&r[1]&&(o+=60*parseInt(r[1],10)),i&&i[1]&&(o+=parseInt(i[1],10)),"&start="+o.toString()}},{key:"componentDidMount",value:function(){var t=e.window.mm_config.GoogleDeveloperKey;t?(0,b.getYoutubeVideoInfo)(t,this.state.videoId,this.handleReceivedMetadata,this.handleMetadataError):this.loadWithoutKey(),this.props.onLinkLoaded()}},{key:"loadWithoutKey",value:function(){this.setState({loaded:!0,thumb:"https://i.ytimg.com/vi/"+this.state.videoId+"/hqdefault.jpg"})}},{key:"handleMetadataError",value:function(){this.setState({failed:!0,loaded:!0,title:y.localizeMessage("youtube_video.notFound","Video not found")})}},{key:"handleReceivedMetadata",value:function(e){if(!(e&&e.items&&e.items.length&&e.items[0].snippet))return this.setState({failed:!0,loaded:!0,title:y.localizeMessage("youtube_video.notFound","Video not found")}),null;var t=e.items[0].snippet,a="https://i.ytimg.com/vi/"+this.state.videoId+"/hqdefault.jpg";return"live"===t.liveBroadcastContent&&(a="https://i.ytimg.com/vi/"+this.state.videoId+"/hqdefault_live.jpg"),this.setState({loaded:!0,receivedYoutubeData:!0,title:t.title,thumb:a}),null}},{key:"play",value:function(){this.setState({playing:!0})}},{key:"stop",value:function(){this.setState({playing:!1})}},{key:"render",value:function(){if(!this.state.loaded)return v.default.createElement("div",{className:"post__embed-container"},v.default.createElement("div",{className:"video-loading"}));var e=void 0;this.state.title&&(e=v.default.createElement("h4",null,v.default.createElement("span",{className:"video-type"},"Youtube - "),v.default.createElement("span",{className:"video-title"},v.default.createElement("a",{href:this.props.link,target:"blank",rel:"noopener noreferrer"},this.state.title))));var t=void 0;return t=this.state.failed?v.default.createElement("div",null,v.default.createElement("div",{className:"video-thumbnail__container"},v.default.createElement("div",{className:"video-thumbnail__error"},v.default.createElement("div",null,v.default.createElement("i",{className:"fa fa-warning fa-2x"})),v.default.createElement("div",null,y.localizeMessage("youtube_video.notFound","Video not found"))))):this.state.playing?v.default.createElement("iframe",{src:"https://www.youtube.com/embed/"+this.state.videoId+"?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1"+this.state.time,width:"480px",height:"360px",type:"text/html",frameBorder:"0",allowFullScreen:"allowfullscreen"}):v.default.createElement("div",{className:"embed-responsive embed-responsive-4by3 video-div__placeholder"},v.default.createElement("div",{className:"video-thumbnail__container"},v.default.createElement("img",{className:"video-thumbnail",src:this.state.thumb}),v.default.createElement("div",{className:"block"},v.default.createElement("span",{className:"play-button"},v.default.createElement("span",null))))),v.default.createElement("div",{className:"post__embed-container"},v.default.createElement("div",null,e,v.default.createElement("div",{className:"video-div embed-responsive-item",onClick:this.play},t)))}}],[{key:"isYoutubeLink",value:function(e){return e.trim().match(E)}}]),a}(v.default.PureComponent);w.propTypes={channelId:m.default.string.isRequired,currentChannelId:m.default.string.isRequired,link:m.default.string.isRequired,show:m.default.bool.isRequired,onLinkLoaded:m.default.func},t.default=w}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1862),_=n(b),y=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.attachments.forEach(function(a,n){t.push(v.default.createElement(_.default,{attachment:a,postId:e.props.postId,key:"att_"+n}))}),v.default.createElement("div",{className:"attachment__list"},t)}}]),t}(v.default.PureComponent);y.propTypes={postId:m.default.string.isRequired,attachments:m.default.array.isRequired},t.default=y},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(167),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(171),w=n(E),C=a(1142),x=n(C),M=a(143),S=a(47),k=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleActionButtonClick=a.handleActionButtonClick.bind(a),a.getActionView=a.getActionView.bind(a),a.getFieldsTable=a.getFieldsTable.bind(a),a.getInitState=a.getInitState.bind(a),a.shouldCollapse=a.shouldCollapse.bind(a),a.toggleCollapseState=a.toggleCollapseState.bind(a),a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){(0,g.default)(this.refs.attachment).on("click",".attachment-link-more",this.toggleCollapseState)}},{key:"componentWillUnmount",value:function(){(0,g.default)(this.refs.attachment).off("click",".attachment-link-more",this.toggleCollapseState)}},{key:"componentWillMount",value:function(){this.setState(this.getInitState())}},{key:"getInitState",value:function(){var e=this.shouldCollapse(),t=x.formatText(this.props.attachment.text||""),a=t+(e?'<div><a class="attachment-link-more" href="#">'+(0,S.localizeMessage)("post_attachment.collapse","Show less...")+"</a></div>":""),n=e?this.getCollapsedText():t;return{shouldCollapse:e,collapsedText:n,uncollapsedText:a,text:e?n:a,collapsed:e}}},{key:"toggleCollapseState",value:function(e){e.preventDefault(),this.setState(function(e){return{text:e.collapsed?e.uncollapsedText:e.collapsedText,collapsed:!e.collapsed}})}},{key:"shouldCollapse",value:function(){var e=this.props.attachment.text||"";return(e.match(/\n/g)||[]).length>=5||e.length>700}},{key:"getCollapsedText",value:function(){var e=this.props.attachment.text||"";return(e.match(/\n/g)||[]).length>=5&&(e=e.split("\n").splice(0,5).join("\n")),e.length>300&&(e=e.substr(0,300)),x.formatText(e)+'<div><a class="attachment-link-more" href="#">'+(0,S.localizeMessage)("post_attachment.more","Show more...")+"</a></div>"}},{key:"getActionView",value:function(){var e=this,t=this.props.attachment.actions;if(!t||!t.length)return"";var a=[];return t.forEach(function(t){t.id&&t.name&&a.push(y.default.createElement("button",{"data-action-id":t.id,key:t.id,onClick:e.handleActionButtonClick},t.name))}),y.default.createElement("div",{className:"attachment-actions"},a)}},{key:"handleActionButtonClick",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-action-id");w.doPostAction(this.props.postId,t)}},{key:"getFieldsTable",value:function(){var e=this.props.attachment.fields;if(!e||!e.length)return"";var t=[],a=[],n=[],r=0,i=!1,o=0;return e.forEach(function(e,s){(2===r||!0!==e.short||i)&&(t.push(y.default.createElement("table",{className:"attachment-fields",key:"attachment__table__"+o},y.default.createElement("thead",null,y.default.createElement("tr",null,a)),y.default.createElement("tbody",null,y.default.createElement("tr",null,n)))),a=[],n=[],r=0,o+=1,i=!1),a.push(y.default.createElement("th",{className:"attachment-field__caption",key:"attachment__field-caption-"+s+"__"+o,width:"50%"},e.title)),n.push(y.default.createElement("td",{className:"attachment-field",key:"attachment__field-"+s+"__"+o,dangerouslySetInnerHTML:{__html:x.formatText(e.value||"")}})),r+=1,i=!(!0===e.short)}),a.length>0&&t.push(y.default.createElement("table",{className:"attachment-fields",key:"attachment__table__"+o},y.default.createElement("thead",null,y.default.createElement("tr",null,a)),y.default.createElement("tbody",null,y.default.createElement("tr",null,n)))),y.default.createElement("div",null,t)}},{key:"render",value:function(){var e=this.props.attachment,t="",a=void 0;e.pretext&&(t="attachment--pretext",a=y.default.createElement("div",{className:"attachment__thumb-pretext",dangerouslySetInnerHTML:{__html:x.formatText(e.pretext)}}));var n=[];(e.author_name||e.author_icon)&&(e.author_icon&&n.push(y.default.createElement("img",{className:"attachment__author-icon",src:e.author_icon,key:"attachment__author-icon",height:"14",width:"14"})),e.author_name&&n.push(y.default.createElement("span",{className:"attachment__author-name",key:"attachment__author-name"},e.author_name))),e.author_link&&(0,M.isUrlSafe)(e.author_link)&&(n=y.default.createElement("a",{href:e.author_link,target:"_blank",rel:"noopener noreferrer"},n));var r=void 0;e.title&&(r=e.title_link&&(0,M.isUrlSafe)(e.title_link)?y.default.createElement("h1",{className:"attachment__title"},y.default.createElement("a",{className:"attachment__title-link",href:e.title_link,target:"_blank",rel:"noopener noreferrer"},e.title)):y.default.createElement("h1",{className:"attachment__title"},e.title));var i=void 0;e.text&&(i=y.default.createElement("div",{className:"attachment__text",dangerouslySetInnerHTML:{__html:this.state.text}}));var o=void 0;e.image_url&&(o=y.default.createElement("img",{className:"attachment__image",src:e.image_url}));var s=void 0;e.thumb_url&&(s=y.default.createElement("div",{className:"attachment__thumb-container"},y.default.createElement("img",{src:e.thumb_url})));var l=this.getFieldsTable(),u=this.getActionView(),d=void 0;return e.color&&"#"===e.color[0]&&(d={borderLeftColor:e.color}),y.default.createElement("div",{className:"attachment "+t,ref:"attachment"},a,y.default.createElement("div",{className:"attachment__content"},y.default.createElement("div",{className:d?"clearfix attachment__container":"clearfix attachment__container attachment__container--"+e.color,style:d},n,r,y.default.createElement("div",null,y.default.createElement("div",{className:s?"attachment__body":"attachment__body attachment__body--no_thumb"},i,o,l,u),s,y.default.createElement("div",{style:T.footer})))))}}]),t}(y.default.PureComponent);k.propTypes={postId:b.default.string.isRequired,attachment:b.default.object.isRequired},t.default=k;var T={footer:{clear:"both"}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{openGraphData:(0,c.getOpenGraphMetadataForUrl)(e,t.link),currentUser:(0,f.getCurrentUser)(e)})}function i(e){return{actions:(0,u.bindActionCreators)({getOpenGraphMetadata:d.getOpenGraphMetadata},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(146),c=a(145),f=a(69),p=a(1864),h=n(p);t.default=(0,l.connect)(r,i)(h.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(88),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(142),w=a(171),C=a(1865),x=n(C),M=a(12),S=a(143),k=a(47),T=n(k),P=function(e){function t(e){(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.getSmallImageContainer=function(e){a.smallImageContainer=e},a.getSmallImageElement=function(e){a.smallImageElement=e},a.largeImageMinWidth=150,a.imageDimentions={height:80,width:80},a.textMaxLenght=300,a.textEllipsis="...",a.largeImageMinRatio=16/9,a.smallImageContainerLeftPadding=15,a.imageRatio=null,a.smallImageContainer=null,a.smallImageElement=null,a.IMAGE_LOADED={LOADING:"loading",YES:"yes",ERROR:"error"},a.fetchData=a.fetchData.bind(a),a.toggleImageVisibility=a.toggleImageVisibility.bind(a),a.onImageLoad=a.onImageLoad.bind(a),a.onImageError=a.onImageError.bind(a),a.handleRemovePreview=a.handleRemovePreview.bind(a),a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.isRemovePreview(this.props.post,this.props.currentUser);this.setState({imageLoaded:this.IMAGE_LOADED.LOADING,imageVisible:this.props.previewCollapsed.startsWith("false"),hasLargeImage:!1,removePreview:e}),this.fetchData(this.props.link)}},{key:"componentWillReceiveProps",value:function(e){if(!T.areObjectsEqual(e.post,this.props.post)){var t=this.isRemovePreview(e.post,e.currentUser);this.setState({removePreview:t})}e.link!==this.props.link&&this.fetchData(e.link),e.previewCollapsed!==this.props.previewCollapsed&&this.setState({imageVisible:e.previewCollapsed.startsWith("false")})}},{key:"componentDidUpdate",value:function(){setTimeout(E.postListScrollChange,0)}},{key:"fetchData",value:function(e){this.props.openGraphData||this.props.actions.getOpenGraphMetadata(e)}},{key:"getBestImageUrl",value:function(e){if(T.isEmptyObject(e.images))return null;var t=x.getNearestPoint(this.imageDimentions,e.images,"width","height");return t.secure_url||t.url}},{key:"toggleImageVisibility",value:function(){this.setState({imageVisible:!this.state.imageVisible})}},{key:"onImageLoad",value:function(e){this.imageRatio=e.target.naturalWidth/e.target.naturalHeight,e.target.naturalWidth>=this.largeImageMinWidth&&this.imageRatio>=this.largeImageMinRatio&&!this.state.hasLargeImage&&this.setState({hasLargeImage:!0}),this.setState({imageLoaded:this.IMAGE_LOADED.YES})}},{key:"onImageError",value:function(){this.setState({imageLoaded:this.IMAGE_LOADED.ERROR})}},{key:"loadImage",value:function(e){var t=new Image;t.onload=this.onImageLoad,t.onerror=this.onImageError,t.src=e}},{key:"imageToggleAnchoreTag",value:function(e){return e&&this.state.hasLargeImage?y.default.createElement("a",{className:"post__embed-visibility","data-expanded":this.state.imageVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleImageVisibility}):null}},{key:"wrapInSmallImageContainer",value:function(e){return y.default.createElement("div",{className:"attachment__image__container--openraph",ref:this.getSmallImageContainer},e)}},{key:"imageTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null;if(e&&t===this.state.hasLargeImage&&(!t||t&&this.state.imageVisible))if(this.state.imageLoaded===this.IMAGE_LOADED.LOADING)a=t?y.default.createElement("img",{className:"attachment__image attachment__image--openraph loading large_image"}):this.wrapInSmallImageContainer(y.default.createElement("img",{className:"attachment__image attachment__image--openraph loading "}));else if(this.state.imageLoaded===this.IMAGE_LOADED.YES)a=t?y.default.createElement("img",{className:"attachment__image attachment__image--openraph large_image",src:e}):this.wrapInSmallImageContainer(y.default.createElement("img",{className:"attachment__image attachment__image--openraph",src:e,ref:this.getSmallImageElement}));else if(this.state.imageLoaded===this.IMAGE_LOADED.ERROR)return null;return a}},{key:"truncateText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.textMaxLenght,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.textEllipsis;return e.length>t?e.substring(0,t-a.length)+a:e}},{key:"handleRemovePreview",value:function(){var e=this,t=(0,o.default)({},this.props.post.props);t[M.PostTypes.REMOVE_LINK_PREVIEW]="true";var a={id:this.props.post.id,props:t};(0,w.updatePost)(a,function(){e.setState({removePreview:!0})})}},{key:"isRemovePreview",value:function(e,t){return!(!e||!e.props||t.id!==e.user_id)&&(e.props[M.PostTypes.REMOVE_LINK_PREVIEW]&&"true"===e.props[M.PostTypes.REMOVE_LINK_PREVIEW])}},{key:"render",value:function(){var e=this.props.openGraphData;if(!e||T.isEmptyObject(e.description)||this.state.removePreview)return null;var t=void 0;this.props.currentUser.id===this.props.post.user_id&&(t=y.default.createElement("button",{id:"removePreviewButton",type:"button",className:"btn-close","aria-label":"Close",onClick:this.handleRemovePreview},y.default.createElement("span",{"aria-hidden":"true"},"×")));var a=this.getBestImageUrl(e);return a&&this.loadImage(a),y.default.createElement("div",{className:"attachment attachment--opengraph",ref:"attachment"},y.default.createElement("div",{className:"attachment__content"},y.default.createElement("div",{className:"clearfix attachment__container attachment__container--opengraph"},y.default.createElement("div",{className:"attachment__body__wrap attachment__body__wrap--opengraph"},y.default.createElement("span",{className:"sitename"},this.truncateText(e.site_name)),t,y.default.createElement("h1",{className:"attachment__title attachment__title--opengraph"+(e.title?"":" is-url")},y.default.createElement("a",{className:"attachment__title-link attachment__title-link--opengraph",href:(0,S.useSafeUrl)(e.url||this.props.link),target:"_blank",rel:"noopener noreferrer",title:e.title||e.url||this.props.link},this.truncateText(e.title||e.url||this.props.link))),y.default.createElement("div",null,y.default.createElement("div",{className:"attachment__body attachment__body--opengraph"},y.default.createElement("div",null,y.default.createElement("div",null,this.truncateText(e.description),"  ",this.imageToggleAnchoreTag(a)),this.imageTag(a,!0))))),this.imageTag(a,!1))))}}]),t}(y.default.PureComponent);P.propTypes={link:b.default.string.isRequired,currentUser:b.default.object,post:b.default.object,openGraphData:b.default.object,previewCollapsed:b.default.string,actions:b.default.shape({getOpenGraphMetadata:b.default.func.isRequired}).isRequired},t.default=P},function(e,t,a){"use strict";function n(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"y";return Math.sqrt(Math.pow(e[a]-t[a],2)+Math.pow(e[n]-t[n],2))}function r(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"y",i={},s=!0,l=!1,u=void 0;try{for(var d,c=(0,o.default)(t);!(s=(d=c.next()).done);s=!0){var f=d.value;void 0===i[a]||void 0===i[r]?i=f:n(f,e,a,r)<n(i,e,a,r)&&(i=f)}}catch(e){l=!0,u=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw u}}return i}Object.defineProperty(t,"__esModule",{value:!0});var i=a(70),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.getDistanceBW2Points=n,t.getNearestPoint=r},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(142),_=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onImageClick=function(e){e.preventDefault(),a.props.handleImageClick()},a.handleLoadComplete=a.handleLoadComplete.bind(a),a.handleLoadError=a.handleLoadError.bind(a),a.state={loaded:!1,errored:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.loadImg(this.props.link)}},{key:"componentWillReceiveProps",value:function(e){e.link!==this.props.link&&this.setState({loaded:!1,errored:!1})}},{key:"componentDidUpdate",value:function(e){this.state.loaded||e.link===this.props.link||this.loadImg(this.props.link)}},{key:"loadImg",value:function(e){var t=new Image;t.onload=this.handleLoadComplete,t.onerror=this.handleLoadError,t.src=e}},{key:"handleLoadComplete",value:function(){this.setState({loaded:!0,errored:!1}),(0,b.postListScrollChange)(),this.props.onLinkLoaded&&this.props.onLinkLoaded()}},{key:"handleLoadError",value:function(){this.setState({errored:!0,loaded:!0}),this.props.onLinkLoadError&&this.props.onLinkLoadError()}},{key:"render",value:function(){return this.state.errored||!this.state.loaded?null:v.default.createElement("div",{className:"post__embed-container"},v.default.createElement("img",{onClick:this.onImageClick,className:"img-div cursor--pointer",src:this.props.link}))}}]),t}(v.default.PureComponent);_.propTypes={link:m.default.string.isRequired,onLinkLoaded:m.default.func,onLinkLoadError:m.default.func,handleImageClick:m.default.func},t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-1073.000000, -33.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",{transform:"translate(-1.000000, 0.000000)"},m.default.createElement("g",{transform:"translate(1064.000000, 22.000000)"},m.default.createElement("g",{transform:"translate(10.000000, 11.000000)"},m.default.createElement("path",{d:"M8,1 L2,1 C2,0.447 1.553,0 1,0 C0.447,0 0,0.447 0,1 L0,15.5 C0,15.776 0.224,16 0.5,16 L1.5,16 C1.776,16 2,15.776 2,15.5 L2,11 L7,11 L7,12 C7,12.553 7.447,13 8,13 L15,13 C15.553,13 16,12.553 16,12 L16,4 C16,3.447 15.553,3 15,3 L9,3 L9,2 C9,1.447 8.553,1 8,1 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(18),E=a(1327),w=r(E),C=a(460),x=n(C),M=a(47),S=n(M),k=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"renderDeletedPost",value:function(){return b.default.createElement("p",null,b.default.createElement(_.FormattedMessage,{id:"post_body.deleted",defaultMessage:"(message deleted)"}))}},{key:"renderEditedIndicator",value:function(){return x.isEdited(this.props.post)?b.default.createElement("span",{className:"post-edited__indicator"},b.default.createElement(_.FormattedMessage,{id:"post_message_view.edited",defaultMessage:"(edited)"})):null}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.enableFormatting,n=e.options,r=e.pluginPostTypes,i=e.compactDisplay,o=e.isRHS,s=e.theme,l=e.lastPostCount;if(t.state===y.Posts.POST_DELETED)return this.renderDeletedPost();if(!a)return b.default.createElement("span",null,t.message);var u=t.type;if(u&&r.hasOwnProperty(u)){var d=r[u].component;return b.default.createElement(d,{post:t,compactDisplay:i,isRHS:o,theme:s})}var c=null;l>=0&&(c=S.createSafeId("lastPostMessageText"+l));var f=t.message,p=S.isPostEphemeral(t);if(i&&p){var h=S.localizeMessage("post_info.message.visible.compact"," (Only visible to you)");f=f.concat(h)}return b.default.createElement("div",null,b.default.createElement("span",{id:c,className:"post-message__text",onClick:S.handleFormattedTextClick},b.default.createElement(w.default,{message:f,isRHS:o,options:n,post:t})),this.renderEditedIndicator())}}]),t}(b.default.PureComponent);k.propTypes={post:g.default.object.isRequired,enableFormatting:g.default.bool,options:g.default.object,lastPostCount:g.default.number,compactDisplay:g.default.bool,isRHS:g.default.bool,theme:g.default.object.isRequired,pluginPostTypes:g.default.object},k.defaultProps={options:{},isRHS:!1,pluginPostTypes:{}},t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(70),i=n(r),o=a(218),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(215),C=a(214),x=a(142),M=a(171),S=a(12),k=n(S),T=a(1870),P=n(T),N=a(1180),O=n(N),I=function(e){function t(e){(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.getTarget=function(){return a.refs.addReactionButton},a.handleEmojiClick=function(e){a.setState({showEmojiPicker:!1});var t=e.name||e.aliases[0];a.props.actions.addReaction(a.props.post.id,t),(0,M.emitEmojiPosted)(t)},a.hideEmojiPicker=function(){a.setState({showEmojiPicker:!1})},a.toggleEmojiPicker=function(){a.setState({showEmojiPicker:!a.state.showEmojiPicker})},a.state={showEmojiPicker:!1},a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.props.post.has_reactions&&this.props.actions.getReactionsForPost(this.props.post.id)}},{key:"componentDidUpdate",value:function(e){this.props.reactions!==e.reactions&&(0,x.postListScrollChange)()}},{key:"render",value:function(){var e=this;if(!this.props.post.has_reactions||this.props.reactions&&0===this.props.reactions.length)return null;var t=new s.default,a=[];if(this.props.reactions){var n=!0,r=!1,o=void 0;try{for(var l,u=(0,i.default)(this.props.reactions);!(n=(l=u.next()).done);n=!0){var d=l.value,c=d.emoji_name;t.has(c)?t.get(c).push(d):(a.push(c),t.set(c,[d]))}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}var f=a.map(function(a){return E.default.createElement(P.default,{key:a,post:e.props.post,emojiName:a,reactions:t.get(a)||[],emojis:e.props.emojis})}),p=this.getTarget(),h=15;p&&(h=window.innerWidth-p.getBoundingClientRect().right-260)<0&&(h=15);var m=null;if("true"===window.mm_config.EnableEmojiPicker){var g=E.default.createElement(w.Tooltip,{id:"addReactionTooltip"},E.default.createElement(C.FormattedMessage,{id:"reaction_list.addReactionTooltip",defaultMessage:"Add reaction"}));m=E.default.createElement("span",{className:"emoji-picker__container"},E.default.createElement(O.default,{show:this.state.showEmojiPicker,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:h,topOffset:-5}),E.default.createElement(w.OverlayTrigger,{trigger:["hover","focus"],placement:"top",delayShow:k.default.OVERLAY_TIME_DELAY,overlay:g},E.default.createElement("div",{className:"post-reaction",onClick:this.toggleEmojiPicker},E.default.createElement("span",{className:"post-reaction__add",ref:"addReactionButton"},"+"))))}var v="post-add-reaction";return this.state.showEmojiPicker&&(v+=" post-add-reaction-emoji-picker-open"),E.default.createElement("div",{className:"post-reaction-list"},f,E.default.createElement("div",{className:v},m))}}]),t}(E.default.PureComponent);I.propTypes={post:_.default.object.isRequired,reactions:_.default.arrayOf(_.default.object),emojis:_.default.object.isRequired,actions:_.default.shape({getReactionsForPost:_.default.func.isRequired,addReaction:_.default.func.isRequired})},t.default=I},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,f.makeGetProfilesForReactions)();return function(t,a){var n=e(t,a.reactions),r=void 0;r=m.EmojiIndicesByAlias.has(a.emojiName)?m.Emojis[m.EmojiIndicesByAlias.get(a.emojiName)]:a.emojis.get(a.emojiName);var i="";return r&&(i=(0,p.getEmojiImageUrl)(r)),(0,s.default)({},a,{profiles:n,otherUsersCount:a.reactions.length-n.length,currentUserId:(0,f.getCurrentUserId)(t),reactionCount:a.reactions.length,emojiImageUrl:i})}}function i(e){return{actions:(0,u.bindActionCreators)({addReaction:d.addReaction,removeReaction:d.removeReaction,getMissingProfilesByIds:c.getMissingProfilesByIds},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(146),c=a(82),f=a(69),p=a(319),h=a(466),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(h),g=a(1871),v=n(g);t.default=(0,l.connect)(r,i)(v.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(70),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(214),w=a(171),C=a(47),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(C),M=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.loadMissingProfiles=function(){var e=a.props.reactions.map(function(e){return e.user_id});a.props.actions.getMissingProfilesByIds(e)},a.addReaction=a.addReaction.bind(a),a.removeReaction=a.removeReaction.bind(a),a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"addReaction",value:function(e){e.preventDefault();var t=this.props,a=t.actions,n=t.post,r=t.emojiName;a.addReaction(n.id,r),(0,w.emitEmojiPosted)(r)}},{key:"removeReaction",value:function(e){e.preventDefault(),this.props.actions.removeReaction(this.props.post.id,this.props.emojiName)}},{key:"render",value:function(){if(!this.props.emojiImageUrl)return null;var e=!1,t=[],a=this.props.otherUsersCount,n=!0,r=!1,o=void 0;try{for(var s,l=(0,i.default)(this.props.profiles);!(n=(s=l.next()).done);n=!0){var u=s.value;u.id===this.props.currentUserId?e=!0:t.push(x.displayUsernameForUser(u))}}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}t.sort(),e&&t.unshift(x.localizeMessage("reaction.you","You"));var d=void 0;d=a>0?t.length>0?_.default.createElement(E.FormattedMessage,{id:"reaction.usersAndOthersReacted",defaultMessage:"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}",values:{users:t.join(", "),otherUsers:a}}):_.default.createElement(E.FormattedMessage,{id:"reaction.othersReacted",defaultMessage:"{otherUsers, number} {otherUsers, plural, one {user} other {users}}",values:{otherUsers:a}}):t.length>1?_.default.createElement(E.FormattedMessage,{id:"reaction.usersReacted",defaultMessage:"{users} and {lastUser}",values:{users:t.slice(0,-1).join(", "),lastUser:t[t.length-1]}}):t[0];var c=void 0;c=t.length+a>1?e?_.default.createElement(E.FormattedMessage,{id:"reaction.reactionVerb.youAndUsers",defaultMessage:"reacted"}):_.default.createElement(E.FormattedMessage,{id:"reaction.reactionVerb.users",defaultMessage:"reacted"}):e?_.default.createElement(E.FormattedMessage,{id:"reaction.reactionVerb.you",defaultMessage:"reacted"}):_.default.createElement(E.FormattedMessage,{id:"reaction.reactionVerb.user",defaultMessage:"reacted"});var f=_.default.createElement(E.FormattedMessage,{id:"reaction.reacted",defaultMessage:"{users} {reactionVerb} with {emoji}",values:{users:_.default.createElement("b",null,d),reactionVerb:c,emoji:_.default.createElement("b",null,":"+this.props.emojiName+":")}}),p=void 0,h=void 0,m="post-reaction";return e?(p=this.removeReaction,h=_.default.createElement(E.FormattedMessage,{id:"reaction.clickToRemove",defaultMessage:"(click to remove)"}),m+=" post-reaction--current-user"):(p=this.addReaction,h=_.default.createElement(E.FormattedMessage,{id:"reaction.clickToAdd",defaultMessage:"(click to add)"})),_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:1e3,placement:"top",shouldUpdatePosition:!0,overlay:_.default.createElement(y.Tooltip,{id:this.props.post.id+"-"+this.props.emojiName+"-reaction"},f,_.default.createElement("br",null),h),onEnter:this.loadMissingProfiles},_.default.createElement("div",{className:m,onClick:p},_.default.createElement("span",{className:"post-reaction__emoji emoticon",style:{backgroundImage:"url("+this.props.emojiImageUrl+")"}}),_.default.createElement("span",{className:"post-reaction__count"},this.props.reactionCount)))}}]),t}(_.default.PureComponent);M.propTypes={post:v.default.object.isRequired,currentUserId:v.default.string.isRequired,emojiName:v.default.string.isRequired,reactionCount:v.default.number.isRequired,profiles:v.default.array.isRequired,otherUsersCount:v.default.number.isRequired,reactions:v.default.arrayOf(v.default.object).isRequired,emojiImageUrl:v.default.string.isRequired,actions:v.default.shape({addReaction:v.default.func.isRequired,getMissingProfilesByIds:v.default.func.isRequired,removeReaction:v.default.func.isRequired})},t.default=M},function(e,t,a){"use strict";function n(e){return{actions:(0,i.bindActionCreators)({showSearchResults:o.showSearchResults,showMentions:o.showMentions,showFlaggedPosts:o.showFlaggedPosts,showPinnedPosts:o.showPinnedPosts,closeRightHandSide:o.closeRightHandSide},e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(11),o=a(305),s=a(1873),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(null,n)(l.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(216),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(214),w=a(12),C=n(w),x=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleClose=function(e){e.preventDefault(),a.props.actions.closeRightHandSide(),a.props.shrink()},a.toggleSize=function(e){e.preventDefault(),a.props.toggleSize()},a.handleBack=function(e){if(e.preventDefault(),a.props.isWebrtc)return void a.props.actions.showSearchResults();switch(a.props.previousRhsState){case w.RHSStates.SEARCH:a.props.actions.showSearchResults();break;case w.RHSStates.MENTION:a.props.actions.showMentions();break;case w.RHSStates.FLAG:a.props.actions.showFlaggedPosts();break;case w.RHSStates.PIN:a.props.actions.showPinnedPosts()}},a.state={},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=void 0,t=_.default.createElement(y.Tooltip,{id:"closeSidebarTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close Sidebar"})),a=void 0;switch(this.props.previousRhsState){case w.RHSStates.SEARCH:case w.RHSStates.MENTION:a=_.default.createElement(y.Tooltip,{id:"backToResultsTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to Search Results"}));break;case w.RHSStates.FLAG:a=_.default.createElement(y.Tooltip,{id:"backToResultsTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to Flagged Posts"}));break;case w.RHSStates.PIN:a=_.default.createElement(y.Tooltip,{id:"backToResultsTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to Pinned Posts"}));break;default:this.props.isWebrtc&&(a=_.default.createElement(y.Tooltip,{id:"backToResultsTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.backToCallTooltip",defaultMessage:"Back to Call"})))}var n=_.default.createElement(y.Tooltip,{id:"expandSidebarTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),r=_.default.createElement(y.Tooltip,{id:"shrinkSidebarTooltip"},_.default.createElement(E.FormattedMessage,{id:"rhs_header.shrinkSidebarTooltip",defaultMessage:"Shrink Sidebar"}));return a&&(e=_.default.createElement("a",{href:"#",onClick:this.handleBack,className:"sidebar--right__back"},_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:"top",overlay:a},_.default.createElement("i",{className:"fa fa-angle-left"})))),_.default.createElement("div",{className:"sidebar--right__header"},_.default.createElement("span",{className:"sidebar--right__title"},e,_.default.createElement(E.FormattedMessage,{id:"rhs_header.details",defaultMessage:"Message Details"})),_.default.createElement("div",{className:"pull-right"},_.default.createElement("button",{type:"button",className:"sidebar--right__expand","aria-label":"Expand",onClick:this.toggleSize},_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:"top",overlay:n},_.default.createElement("i",{className:"fa fa-expand"})),_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:"top",overlay:r},_.default.createElement("i",{className:"fa fa-compress"}))),_.default.createElement("button",{type:"button",className:"sidebar--right__close","aria-label":"Close",onClick:this.handleClose},_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:"top",overlay:t},_.default.createElement("i",{className:"fa fa-sign-out"})))))}}]),t}(_.default.Component);x.propTypes={isWebrtc:v.default.bool,previousRhsState:v.default.oneOf((0,i.default)(w.RHSStates)),toggleSize:v.default.func,shrink:v.default.func,actions:v.default.shape({showMentions:v.default.func,showSearchResults:v.default.func,showFlaggedPosts:v.default.func,showPinnedPosts:v.default.func,closeRightHandSide:v.default.func})},t.default=x},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(18),E=a(220),w=n(E),C=a(171),x=a(42),M=r(x),S=a(48),k=r(S),T=a(59),P=r(T),N=a(12),O=r(N),I=a(460),R=n(I),A=a(47),L=n(A),D=a(1227),F=r(D),U=a(1180),j=r(U),H=a(1228),B=r(H),q=a(1231),z=r(q),G=a(1232),W=r(G),V=a(1234),$=r(V),K=a(1281),Y=r(K),X=a(1235),Z=r(X),J=a(1157),Q=r(J),ee=a(1192),te=r(ee),ae=a(1236),ne=r(ae),re=a(1208),ie=r(re),oe=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.renderPostTime=function(e){var a=t.props.post;if(a.type===O.default.PostTypes.FAKE_PARENT_DELETED)return null;var n=!(e||y.Posts.POST_DELETED===a.state||w.isPostPendingOrFailed(a));return b.default.createElement(Z.default,{isPermalink:n,eventTime:a.create_at,useMilitaryTime:t.props.useMilitaryTime,postId:a.id})},t.toggleEmojiPicker=function(){var e=!t.state.showEmojiPicker;t.setState({showEmojiPicker:e,dropdownOpened:e})},t.reactEmojiClick=function(e){t.setState({showEmojiPicker:!1});var a=e.name||e.aliases[0];(0,C.addReaction)(t.props.post.channel_id,t.props.post.id,a),(0,C.emitEmojiPosted)(a),t.handleDropdownOpened(!1)},t.getClassName=function(e,a){var n="post post--root post--thread";return M.default.getCurrentId()===e.user_id&&(n+=" current--user"),a&&(n+=" post--system"),t.props.compactDisplay&&(n+=" post--compact"),e.is_pinned&&(n+=" post--pinned"),t.state.dropdownOpened&&(n+=" post--hovered"),n},t.handleDropdownOpened=function(e){t.setState({dropdownOpened:e})},t.getDotMenuRef=function(){return t.refs.dotMenu},t.state={currentTeamDisplayName:P.default.getCurrent().name,showEmojiPicker:!1,testStateObj:!0,dropdownOpened:!1},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.status!==this.props.status||(e.isBusy!==this.props.isBusy||(e.compactDisplay!==this.props.compactDisplay||(e.useMilitaryTime!==this.props.useMilitaryTime||(e.isFlagged!==this.props.isFlagged||(e.isEmbedVisible!==this.props.isEmbedVisible||(e.previewEnabled!==this.props.previewEnabled||(!L.areObjectsEqual(e.post,this.props.post)||(!L.areObjectsEqual(e.user,this.props.user)||(!L.areObjectsEqual(e.currentUser,this.props.currentUser)||(this.state.showEmojiPicker!==t.showEmojiPicker||(this.state.dropdownOpened!==t.dropdownOpened||(this.props.previewCollapsed!==e.previewCollapsed||(this.state.width!==t.width||this.state.height!==t.height)))))))))))))}},{key:"render",value:function(){var t,a=this.props.post,n=this.props.user,r=k.default.get(a.channel_id),i=L.isPostEphemeral(a),o=R.isSystemMessage(a);r&&(t="D"===r.type?b.default.createElement(_.FormattedMessage,{id:"rhs_root.direct",defaultMessage:"Direct Message"}):r.display_name);var s=void 0;i||a.failed||o||"true"!==window.mm_config.EnableEmojiPicker||(s=b.default.createElement("span",null,b.default.createElement(j.default,{show:this.state.showEmojiPicker,onHide:this.toggleEmojiPicker,target:this.getDotMenuRef,onEmojiClick:this.reactEmojiClick,rightOffset:15,spaceRequiredAbove:342,spaceRequiredBelow:342}),b.default.createElement("button",{className:"reacticon__container reaction color--link style--none",onClick:this.toggleEmojiPicker,ref:"rhs_root_reacticon"},b.default.createElement(te.default,{className:"icon icon--emoji"}))));var l=null;a.file_ids&&a.file_ids.length>0&&(l=b.default.createElement(B.default,{post:a,compactDisplay:this.props.compactDisplay}));var u=void 0,d=void 0;o?u=b.default.createElement(ie.default,{user:{},overwriteName:b.default.createElement(_.FormattedMessage,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:O.default.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}):a.props&&a.props.from_webhook?(u=a.props.override_username&&"true"===e.window.mm_config.EnablePostUsernameOverride?b.default.createElement(ie.default,{user:n,overwriteName:a.props.override_username,disablePopover:!0}):b.default.createElement(ie.default,{user:n,disablePopover:!0}),d=b.default.createElement("div",{className:"col col__name bot-indicator"},"BOT")):u=b.default.createElement(ie.default,{user:n,status:this.props.status,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0});var c=this.props.status;a.props&&"true"===a.props.from_webhook&&(c=null);var f=void 0;f=o?b.default.createElement(ne.default,{className:"icon"}):a.props&&a.props.from_webhook?b.default.createElement(Q.default,{src:R.getProfilePicSrcForPost(a,n),width:"36",height:"36"}):b.default.createElement(Q.default,{src:R.getProfilePicSrcForPost(a,n),status:c,width:"36",height:"36",user:this.props.user,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}),this.props.compactDisplay&&(f=a.props&&a.props.from_webhook?b.default.createElement(Q.default,{src:""}):b.default.createElement(Q.default,{src:"",status:c,user:this.props.user,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}));var p="";R.isEdited(this.props.post)&&(p+=" post--edited");var h=b.default.createElement("div",{className:"post__img"},f),m=void 0;a.is_pinned&&(m=b.default.createElement("span",{className:"post__pinned-badge"},b.default.createElement(_.FormattedMessage,{id:"post_info.pinned",defaultMessage:"Pinned"})));var g=b.default.createElement(F.default,{idPrefix:O.default.RHS_ROOT,post:this.props.post,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,commentCount:this.props.commentCount}),v=void 0;this.props.post.type!==O.default.PostTypes.FAKE_PARENT_DELETED&&(v=b.default.createElement("div",{ref:"dotMenu",className:"col col__reply"},g,s));var y=void 0;return this.props.post.type!==O.default.PostTypes.FAKE_PARENT_DELETED&&(y=b.default.createElement(W.default,{idPrefix:"rhsRootPostFlag",postId:a.id,isFlagged:this.props.isFlagged})),b.default.createElement("div",{id:"thread--root",className:this.getClassName(a,o)},b.default.createElement("div",{className:"post-right-channel__name"},t),b.default.createElement("div",{className:"post__content"},h,b.default.createElement("div",null,b.default.createElement("div",{className:"post__header"},b.default.createElement("div",{className:"col__name"},u),d,b.default.createElement("div",{className:"col"},this.renderPostTime(i),m,y),v),b.default.createElement("div",{className:"post__body"},b.default.createElement("div",{className:p},b.default.createElement(z.default,{post:a,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible},b.default.createElement($.default,{post:a,isRHS:!0,hasMention:!0}))),l,b.default.createElement(Y.default,{post:a})))))}}]),a}(b.default.Component);oe.propTypes={post:g.default.object.isRequired,user:g.default.object.isRequired,currentUser:g.default.object.isRequired,compactDisplay:g.default.bool,useMilitaryTime:g.default.bool.isRequired,commentCount:g.default.number.isRequired,isFlagged:g.default.bool,status:g.default.string,previewCollapsed:g.default.string,previewEnabled:g.default.bool,isBusy:g.default.bool,isEmbedVisible:g.default.bool},oe.defaultProps={commentCount:0},t.default=oe}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(67),i=n(r),o=a(68),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(215),C=a(214),x=a(12),M=n(x),S=a(47),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(S),T=a(1876),P=n(T),N=a(1877),O=n(N),I=a(1878),R=n(I),A=a(1223),L=n(A),D=a(1233),F=n(D),U=a(1366),j=n(U),H=a(1341),B=n(H),q=M.default.KeyCodes,z=function(e){function t(){var e=this;(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return a.handleClose=function(){k.isMobile()&&setTimeout(function(){document.querySelector(".app__body .sidebar--menu").classList.add("visible"),document.querySelector("#sidebar-webrtc").classList.remove("webrtc--show"),document.querySelector("#inner-wrap-webrtc").classList.remove("webrtc--show"),document.querySelector("#inner-wrap-webrtc").classList.remove("move--left")}),a.props.actions.closeRightHandSide()},a.handleKeyDown=function(e){e.which===q.ESCAPE&&(e.stopPropagation(),e.preventDefault())},a.handleChange=function(e){var t=e.target.value;a.props.actions.updateSearchTerms(t)},a.handleUserBlur=function(){a.setState({focused:!1})},a.handleClear=function(){a.props.actions.updateSearchTerms("")},a.handleUserFocus=function(){a.setState({focused:!0})},a.handleSearch=function(){var t=(0,s.default)(i.default.mark(function t(n){var r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=7;break}return a.setState({isPristine:!1}),e.next=4,a.props.actions.showSearchResults();case 4:r=e.sent,o=r.error,o||a.handleSearchOnSuccess();case 7:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),a.handleSearchOnSuccess=function(){k.isMobile()&&a.search&&(a.search.value="")},a.handleSubmit=function(e){e.preventDefault();var t=a.props.searchTerms.trim();0!==t.length&&(a.handleSearch(t),a.search.blur())},a.searchMentions=function(e){e.preventDefault(),a.props.isMentionSearch?a.props.actions.closeRightHandSide():a.props.actions.showMentions()},a.getFlagged=function(e){e.preventDefault(),a.props.isFlaggedPosts?a.props.actions.closeRightHandSide():a.props.actions.showFlaggedPosts()},a.getSearch=function(e){a.search=e},a.state={focused:!1,isPristine:!0},a.suggestionProviders=[new P.default,new R.default],a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){k.isMobile()&&setTimeout(function(){var e=document.querySelector(".app__body .sidebar--menu");e&&e.classList.remove("visible")})}},{key:"renderHintPopover",value:function(e){return!(!this.props.isCommentsPage&&k.isMobile()&&this.state.isPristine)&&E.default.createElement(w.Popover,{id:"searchbar-help-popup",placement:"bottom",className:e},E.default.createElement(C.FormattedHTMLMessage,{id:"search_bar.usage",defaultMessage:'<h4>Search Options</h4><ul><li><span>Use </span><b>"quotation marks"</b><span> to search for phrases</span></li><li><span>Use </span><b>from:</b><span> to find posts from specific users and </span><b>in:</b><span> to find posts in specific channels</span></li></ul>'}))}},{key:"render",value:function(){var e=null;this.props.isSearchingTerm&&(e=E.default.createElement("span",{className:"fa fa-spin fa-spinner"}));var t="search-help-popover";!this.props.searchTerms&&this.state.focused&&(t+=" visible");var a=E.default.createElement(w.Tooltip,{id:"recentMentionsTooltip"},E.default.createElement(C.FormattedMessage,{id:"channel_header.recentMentions",defaultMessage:"Recent Mentions"})),n=E.default.createElement(w.Tooltip,{id:"flaggedTooltip",className:"text-nowrap"},E.default.createElement(C.FormattedMessage,{id:"channel_header.flagged",defaultMessage:"Flagged Posts"})),r=void 0,i=void 0;if(this.props.showMentionFlagBtns){var o=this.props.isMentionSearch?"active":"";r=E.default.createElement(w.OverlayTrigger,{trigger:["hover","focus"],delayShow:M.default.OVERLAY_TIME_DELAY,placement:"bottom",overlay:a},E.default.createElement("div",{className:"channel-header__icon "+o,onClick:this.searchMentions},E.default.createElement(j.default,{className:"icon icon__mentions","aria-hidden":"true"})));var s=this.props.isFlaggedPosts?"active":"";i=E.default.createElement(w.OverlayTrigger,{trigger:["hover","focus"],delayShow:M.default.OVERLAY_TIME_DELAY,placement:"bottom",overlay:n},E.default.createElement("div",{className:"channel-header__icon "+s},E.default.createElement("button",{onClick:this.getFlagged,className:"style--none"},E.default.createElement(F.default,{className:"icon icon__flag"}))))}var l="sidebar__search-clear";!this.props.isSearchingTerm&&this.props.searchTerms&&""!==this.props.searchTerms.trim()&&(l+=" visible");var u="search__form";return this.state.focused&&(u+=" focused"),E.default.createElement("div",{className:"sidebar-right__table"},E.default.createElement("div",{className:"sidebar-collapse__container"},E.default.createElement("div",{className:"sidebar-collapse",onClick:this.handleClose},E.default.createElement("span",{className:"fa fa-chevron-left"}))),E.default.createElement("div",{id:"searchFormContainer",className:"search-form__container"},E.default.createElement("form",{role:"form",className:u,onSubmit:this.handleSubmit,style:G.searchForm,autoComplete:"off"},E.default.createElement(B.default,{id:"searchIcon",className:"search__icon","aria-hidden":"true"}),E.default.createElement(L.default,{id:"searchBox",ref:this.getSearch,className:"search-bar",placeholder:k.localizeMessage("search_bar.search","Search"),value:this.props.searchTerms,onFocus:this.handleUserFocus,onBlur:this.handleUserBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,listComponent:O.default,providers:this.suggestionProviders,type:"search",autoFocus:this.props.isFocus&&""===this.props.searchTerms}),E.default.createElement("div",{id:"searchClearButton",className:l,onClick:this.handleClear},E.default.createElement("span",{className:"sidebar__search-clear-x","aria-hidden":"true"},"×")),e,this.renderHintPopover(t))),E.default.createElement("div",null,r),E.default.createElement("div",null,i))}}]),t}(E.default.Component);z.propTypes={isSearchingTerm:_.default.bool,searchTerms:_.default.string,isMentionSearch:_.default.bool,isFlaggedPosts:_.default.bool,actions:_.default.shape({updateSearchTerms:_.default.func,showSearchResults:_.default.func,showMentions:_.default.func,showFlaggedPosts:_.default.func,closeRightHandSide:_.default.func})},t.default=z,z.defaultProps={showMentionFlagBtns:!0,isFocus:!1},z.propTypes={showMentionFlagBtns:_.default.bool,isCommentsPage:_.default.bool,isFocus:_.default.bool};var G={searchForm:{overflow:"visible"}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),i=n(r),o=a(70),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(0),_=n(b),y=a(172),E=a(49),w=n(E),C=a(48),x=n(C),M=a(304),S=a(12),k=a(1183),T=n(k),P=a(1167),N=n(P),O=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSelection,n="search-autocomplete__item";return a&&(n+=" selected"),_.default.createElement("div",{onClick:this.handleClick,className:n},_.default.createElement("i",{className:"fa fa fa-plus-square"}),t.name)}}]),t}(N.default),I=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"handlePretextChanged",value:function(e,t){var a=this,n=/\b(?:in|channel):\s*(\S*)$/i.exec(t.toLowerCase());if(n){var r=n[1];this.startNewRequest(e,r),(0,y.autocompleteChannels)(r,function(t){if(!a.shouldCancelDispatch(r)){var n=t,o=x.default.getAll(),l=[],u=!0,d=!1,c=void 0;try{for(var f,p=(0,s.default)((0,i.default)(o));!(u=(f=p.next()).done);u=!0){var h=f.value,m=o[h];m.name.startsWith(r)&&m.type===S.Constants.PRIVATE_CHANNEL&&l.push(m)}}catch(e){d=!0,c=e}finally{try{!u&&p.return&&p.return()}finally{if(d)throw c}}var g=[];n.forEach(function(e){e.name.startsWith(r)&&g.push(e)}),l=l.sort(M.sortChannelsByDisplayName),g=g.sort(M.sortChannelsByDisplayName);var v=g.concat(l),b=v.map(function(e){return e.name});w.default.handleServerAction({type:S.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:e,matchedPretext:r,terms:b,items:v,component:O})}})}return Boolean(n)}}]),t}(T.default);t.default=I},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(167),v=n(g),b=a(0),_=n(b),y=a(215),E=a(39),w=n(E),C=a(214),x=a(12),M=n(x),S=a(1224),k=n(S),T=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"getContent",value:function(){return(0,v.default)(w.default.findDOMNode(this.refs.popover)).find(".popover-content")}},{key:"renderChannelDivider",value:function(e){var t=void 0;return t=e===M.default.OPEN_CHANNEL?_.default.createElement(C.FormattedMessage,{id:"suggestion.search.public",defaultMessage:"Public Channels"}):_.default.createElement(C.FormattedMessage,{id:"suggestion.search.private",defaultMessage:"Private Channels"}),_.default.createElement("div",{key:e+"-divider",className:"search-autocomplete__divider"},_.default.createElement("span",null,t))}},{key:"render",value:function(){if(0===this.state.items.length)return null;for(var e=[],t=0;t<this.state.items.length;t++){var a=this.state.items[t],n=this.state.terms[t],r=n===this.state.selection,i=this.state.components[t];0!==t&&a.type===this.state.items[t-1].type||(a.type===M.default.OPEN_CHANNEL?e.push(this.renderChannelDivider(M.default.OPEN_CHANNEL)):a.type===M.default.PRIVATE_CHANNEL&&e.push(this.renderChannelDivider(M.default.PRIVATE_CHANNEL))),e.push(_.default.createElement(i,{key:n,ref:n,item:a,term:n,matchedPretext:this.state.matchedPretext[t],isSelection:r,onClick:this.props.onCompleteWord}))}return _.default.createElement(y.Popover,{ref:"popover",id:"search-autocomplete__popover",className:"search-help-popover autocomplete visible",placement:"bottom"},e)}}]),t}(k.default);T.propTypes=(0,i.default)({},k.default.propTypes),t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(0),v=n(g),b=a(168),_=a(49),y=n(_),E=a(12),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(1183),M=n(x),S=a(1167),k=n(S),T=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSelection,n="search-autocomplete__item";a&&(n+=" selected");var r=t.username,i="";return(t.first_name||t.last_name)&&t.nickname?i="- "+C.getFullName(t)+" ("+t.nickname+")":t.nickname?i="- ("+t.nickname+")":(t.first_name||t.last_name)&&(i="- "+C.getFullName(t)),v.default.createElement("div",{className:n,onClick:this.handleClick},v.default.createElement("i",{className:"fa fa fa-plus-square"}),v.default.createElement("img",{className:"profile-img rounded",src:C.imageURLForUser(t)}),v.default.createElement("div",{className:"mention--align"},v.default.createElement("span",null,r),v.default.createElement("span",{className:"mention__fullname"}," ",i)))}}]),t}(k.default),P=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"handlePretextChanged",value:function(e,t){var a=this,n=/\bfrom:\s*(\S*)$/i.exec(t.toLowerCase());if(n){var r=n[1];this.startNewRequest(e,r),(0,b.autocompleteUsersInTeam)(r,function(t){if(!a.shouldCancelDispatch(r)){var n=(0,i.default)([],t.users),o=n.map(function(e){return e.username});y.default.handleServerAction({type:E.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,id:e,matchedPretext:r,terms:o,items:n,component:T})}})}return Boolean(n)}}]),t}(M.default);t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=void 0,t=void 0,a=void 0,n=void 0,r=void 0;return function(i){var s=(0,c.getSearchResults)(i);if(s&&s!==e){e=s,t=e.filter(function(e){return Boolean(e)}),a=new l.default;var u=t.map(function(e){return e.channel_id}),f=!0,h=!1,v=void 0;try{for(var b,y=(0,o.default)(u);!(f=(b=y.next()).done);f=!0){var E=b.value;a.has(E)||a.set(E,(0,d.getChannel)(i,E))}}catch(e){h=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw v}}}var w=_(i,g.Preferences.CATEGORY_FLAGGED_POST);if(w!==n){n=w,r=new l.default;var C=!0,x=!1,M=void 0;try{for(var S,k=(0,o.default)(n);!(C=(S=k.next()).done);C=!0){var T=S.value;r.set(T.name,!0)}}catch(e){x=!0,M=e}finally{try{!C&&k.return&&k.return()}finally{if(x)throw M}}}return{results:t,channels:a,searchTerms:(0,m.getSearchTerms)(i),isFlaggedByPostId:r,isSearchingTerm:(0,m.getIsSearchingTerm)(i),isSearchingFlaggedPost:(0,m.getIsSearchingFlaggedPost)(i),isSearchingPinnedPost:(0,m.getIsSearchingPinnedPost)(i),compactDisplay:p.get(i,g.Preferences.CATEGORY_DISPLAY_SETTINGS,g.Preferences.MESSAGE_DISPLAY,g.Preferences.MESSAGE_DISPLAY_DEFAULT)===g.Preferences.MESSAGE_DISPLAY_COMPACT}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(70),o=n(i),s=a(218),l=n(s),u=a(141),d=a(144),c=a(145),f=a(89),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(f),h=a(305),m=a(307),g=a(12),v=a(1880),b=n(v),_=p.makeGetCategory(),y={selectPost:h.selectPostFromRightHandSideSearch};t.default=(0,u.connect)(r,y)(b.default)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return N.default.createElement("div",(0,x.default)({},e,{className:"scrollbar--view"}))}function i(e){return N.default.createElement("div",(0,x.default)({},e,{className:"scrollbar--horizontal"}))}function o(e){return N.default.createElement("div",(0,x.default)({},e,{className:"scrollbar--vertical"}))}Object.defineProperty(t,"__esModule",{value:!0});var s=a(217),l=n(s),u=a(88),d=n(u),c=a(121),f=n(c),p=a(34),h=n(p),m=a(30),g=n(m),v=a(31),b=n(v),_=a(35),y=n(_),E=a(36),w=n(E),C=a(28),x=n(C);t.renderView=r,t.renderThumbHorizontal=i,t.renderThumbVertical=o;var M=a(167),S=n(M),k=a(27),T=n(k),P=a(0),N=n(P),O=a(214),I=a(1345),R=n(I),A=a(1881),L=n(A),D=a(1883),F=n(D),U=a(1233),j=n(U),H=a(42),B=n(H),q=a(461),z=n(q),G=a(12),W=n(G),V=a(47),$=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(V),K=function(t){function a(e){(0,g.default)(this,a);var t=(0,y.default)(this,(a.__proto__||(0,h.default)(a)).call(this,e));return t.handleResize=function(){t.setState({windowWidth:$.windowWidth(),windowHeight:$.windowHeight()})},t.onUserChange=function(){t.setState({profiles:JSON.parse((0,f.default)(B.default.getProfiles()))})},t.onBusy=function(e){t.setState({isBusy:e})},t.onStatusChange=function(){t.setState({statuses:(0,d.default)({},B.default.getStatuses())})},t.resize=function(){(0,S.default)("#search-items-container").scrollTop(0)},t.state={windowWidth:$.windowWidth(),windowHeight:$.windowHeight(),profiles:JSON.parse((0,f.default)(B.default.getProfiles())),isBusy:z.default.isBusy(),statuses:(0,d.default)({},B.default.getStatuses())},t}return(0,w.default)(a,t),(0,b.default)(a,[{key:"componentDidMount",value:function(){B.default.addChangeListener(this.onUserChange),B.default.addStatusesChangeListener(this.onStatusChange),z.default.addBusyListener(this.onBusy),this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){B.default.removeChangeListener(this.onUserChange),B.default.removeStatusesChangeListener(this.onStatusChange),z.default.removeBusyListener(this.onBusy),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){this.props.searchTerms!==e.searchTerms&&this.resize()}},{key:"render",value:function(){var t=this.props.results,a=!t||0===t.length,n=this.props.searchTerms,s=this.state.profiles||{},u=null;if(this.props.isSearchingTerm||this.props.isSearchingFlaggedPost||this.props.isSearchingPinnedPost)u=N.default.createElement("div",{className:"sidebar--right__subheader"},N.default.createElement("div",{className:"sidebar--right__loading"},N.default.createElement("i",{className:"fa fa-spinner fa-spin"}),N.default.createElement(O.FormattedMessage,{id:"search_header.loading",defaultMessage:"Searching..."})));else if(this.props.isFlaggedPosts&&a){var d=[N.default.createElement("li",{key:"pin1"},N.default.createElement(O.FormattedMessage,{id:"search_results.usageFlag1",defaultMessage:"You haven't flagged any messages yet."})),N.default.createElement("li",{key:"pin2"},N.default.createElement(O.FormattedMessage,{id:"search_results.usageFlag2",defaultMessage:"You can add a flag to messages and comments by clicking the "}),N.default.createElement(j.default,{className:"usage__icon"}),N.default.createElement(O.FormattedMessage,{id:"search_results.usageFlag3",defaultMessage:" icon next to the timestamp."})),N.default.createElement("li",{key:"pin3"},N.default.createElement(O.FormattedMessage,{id:"search_results.usageFlag4",defaultMessage:"Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users."}))];"true"===e.window.mm_config.DataRetentionEnableMessageDeletion&&d.push(N.default.createElement("li",null,N.default.createElement(O.FormattedMessage,{id:"search_results.usage.dataRetention",defaultMessage:"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.",values:{days:e.window.mm_config.DataRetentionMessageRetentionDays}}))),u=N.default.createElement("div",{className:"sidebar--right__subheader"},N.default.createElement("ul",null,d))}else if(this.props.isPinnedPosts&&a){var c=[N.default.createElement("li",{key:"pin1"},N.default.createElement(O.FormattedMessage,{id:"search_results.usagePin1",defaultMessage:"There are no pinned messages yet."})),N.default.createElement("li",{key:"pin2"},N.default.createElement(O.FormattedMessage,{id:"search_results.usagePin2",defaultMessage:"All members of this channel can pin important or useful messages."})),N.default.createElement("li",{key:"pin3"},N.default.createElement(O.FormattedMessage,{id:"search_results.usagePin3",defaultMessage:"Pinned messages are visible to all channel members."})),N.default.createElement("li",{key:"pin4"},N.default.createElement(O.FormattedMessage,{id:"search_results.usagePin4",defaultMessage:'To pin a message: Go to the message that you want to pin and click [...] > "Pin to channel".'}))];"true"===e.window.mm_config.DataRetentionEnableMessageDeletion&&c.push(N.default.createElement("li",null,N.default.createElement(O.FormattedMessage,{id:"search_results.usage.dataRetention",defaultMessage:"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.",values:{days:e.window.mm_config.DataRetentionMessageRetentionDays}}))),u=N.default.createElement("div",{className:"sidebar--right__subheader"},N.default.createElement("ul",null,c))}else if(!n&&a){var f=[N.default.createElement("li",{key:"quotes"},N.default.createElement(O.FormattedMessage,{id:"search_results.usage.phrasesSuggestion",defaultMessage:"Use {quotationMarks} to search for phrases",values:{quotationMarks:N.default.createElement("b",null,N.default.createElement(O.FormattedMessage,{id:"search_results.usage.phrasesSuggestion.quotationMarks",defaultMessage:'"quotation marks"'}))}})),N.default.createElement("li",{key:"fromIn"},N.default.createElement(O.FormattedMessage,{id:"search_results.usage.fromInSuggestion",defaultMessage:"Use {fromUser} to find posts from specific users and {inChannel} to find posts in specific channels",values:{fromUser:"from:",inChannel:"in:"}}))];u=N.default.createElement("div",{className:"sidebar--right__subheader"},N.default.createElement("ul",null,f))}else if(a){var p=[N.default.createElement("li",{key:"partialPhrase"},N.default.createElement(O.FormattedMessage,{id:"search_results.noResults.partialPhraseSuggestion",defaultMessage:'If you\'re searching a partial phrase (ex. searching "rea", looking for "reach" or "reaction"), append a * to your search term.'})),N.default.createElement("li",{key:"stopWords"},N.default.createElement(O.FormattedMessage,{id:"search_results.noResults.stopWordsSuggestion",defaultMessage:'Two letter searches and common words like "this", "a" and "is" won\'t appear in search results due to the excessive results returned.'}))];"true"===e.window.mm_config.DataRetentionEnableMessageDeletion&&p.push(N.default.createElement("li",null,N.default.createElement(O.FormattedMessage,{id:"search_results.usage.dataRetention",defaultMessage:"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.",values:{days:e.window.mm_config.DataRetentionMessageRetentionDays}}))),u=N.default.createElement("div",{className:"sidebar--right__subheader"},N.default.createElement("h4",null,N.default.createElement(O.FormattedMessage,{id:"search_results.noResults",defaultMessage:"No results found. Try again?"})),N.default.createElement("ul",null,p))}else{var h=void 0;this.props.isPinnedPosts?(h=[].concat((0,l.default)(t)),h.sort(function(e,t){return t.create_at-e.create_at})):h=t,u=h.map(function(e,t,a){var r=void 0;r=B.default.getCurrentId()===e.user_id?B.default.getCurrentUser():s[e.user_id];var i="offline";this.state.statuses&&(i=this.state.statuses[e.user_id]||"offline");var o=!1;this.props.isFlaggedByPostId&&(o=this.props.isFlaggedByPostId.get(e.id)||!1);var l=a.length-t-1;return N.default.createElement(F.default,{key:e.id,channel:this.props.channels.get(e.channel_id),compactDisplay:this.props.compactDisplay,post:e,lastPostCount:l>=0&&l<W.default.TEST_ID_COUNT?l:-1,user:r,term:n,isMentionSearch:this.props.isMentionSearch,useMilitaryTime:this.props.useMilitaryTime,shrink:this.props.shrink,isFlagged:o,isBusy:this.state.isBusy,status:i,onSelect:this.props.selectPost})},this)}return N.default.createElement("div",{className:"sidebar-right__body"},N.default.createElement(L.default,{isMentionSearch:this.props.isMentionSearch,toggleSize:this.props.toggleSize,shrink:this.props.shrink,isFlaggedPosts:this.props.isFlaggedPosts,isPinnedPosts:this.props.isPinnedPosts,channelDisplayName:this.props.channelDisplayName,isLoading:this.props.isSearchingTerm}),N.default.createElement(R.default,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:i,renderThumbVertical:o,renderView:r,onScroll:this.handleScroll},N.default.createElement("div",{id:"search-items-container",className:"search-items-container"},u)))}}]),a}(N.default.PureComponent);K.propTypes={results:T.default.array,channels:T.default.object,searchTerms:T.default.string,isFlaggedByPostId:T.default.object,isSearchingTerm:T.default.bool,isSearchingFlaggedPost:T.default.bool,isSearchingPinnedPost:T.default.bool,compactDisplay:T.default.bool,useMilitaryTime:T.default.bool.isRequired,toggleSize:T.default.func,shrink:T.default.func,isMentionSearch:T.default.bool,isFlaggedPosts:T.default.bool,isPinnedPosts:T.default.bool,channelDisplayName:T.default.string.isRequired,selectPost:T.default.func},t.default=K}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return{actions:(0,i.bindActionCreators)({closeRightHandSide:o.closeRightHandSide},e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(11),o=a(305),s=a(1882),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(null,n)(l.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(12),E=n(y),w=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.handleClose=function(e){e.preventDefault(),n.props.actions.closeRightHandSide(),n.props.shrink()},n.toggleSize=function(e){e.preventDefault(),n.props.toggleSize()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=v.default.createElement(_.FormattedMessage,{id:"search_header.results",defaultMessage:"Search Results"}),t=v.default.createElement(b.Tooltip,{id:"closeSidebarTooltip"},v.default.createElement(_.FormattedMessage,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close Sidebar"})),a=v.default.createElement(b.Tooltip,{id:"expandSidebarTooltip"},v.default.createElement(_.FormattedMessage,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),n=v.default.createElement(b.Tooltip,{id:"shrinkSidebarTooltip"},v.default.createElement(_.FormattedMessage,{id:"rhs_header.shrinkSidebarTooltip",defaultMessage:"Shrink Sidebar"}));return this.props.isMentionSearch?e=v.default.createElement(_.FormattedMessage,{id:"search_header.title2",defaultMessage:"Recent Mentions"}):this.props.isFlaggedPosts?e=v.default.createElement(_.FormattedMessage,{id:"search_header.title3",defaultMessage:"Flagged Posts"}):this.props.isPinnedPosts&&(e=v.default.createElement(_.FormattedMessage,{id:"search_header.title4",defaultMessage:"Pinned posts in {channelDisplayName}",values:{channelDisplayName:this.props.channelDisplayName}})),v.default.createElement("div",{className:"sidebar--right__header"},v.default.createElement("span",{className:"sidebar--right__title"},e),v.default.createElement("div",{className:"pull-right"},v.default.createElement("button",{type:"button",className:"sidebar--right__expand","aria-label":"Expand",onClick:this.toggleSize},v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:E.default.OVERLAY_TIME_DELAY,placement:"top",overlay:a},v.default.createElement("i",{className:"fa fa-expand"})),v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:E.default.OVERLAY_TIME_DELAY,placement:"top",overlay:n},v.default.createElement("i",{className:"fa fa-compress"}))),v.default.createElement("button",{type:"button",className:"sidebar--right__close","aria-label":"Close",title:"Close",onClick:this.handleClose},v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:E.default.OVERLAY_TIME_DELAY,placement:"top",overlay:t},v.default.createElement("i",{className:"fa fa-sign-out"})))))}}]),t}(v.default.Component);w.propTypes={isMentionSearch:m.default.bool,isFlaggedPosts:m.default.bool,isPinnedPosts:m.default.bool,toggleSize:m.default.func,shrink:m.default.func,channelDisplayName:m.default.string.isRequired,actions:m.default.shape({closeRightHandSide:m.default.func})},t.default=w},function(e,t,a){"use strict";function n(){var e=(0,l.makeGetCommentCountForPost)();return function(t,a){return{currentTeamName:(0,s.getCurrentTeam)(t).name,commentCountForPost:e(t,{post:a.post})}}}function r(e){return{actions:(0,o.bindActionCreators)({closeRightHandSide:u.closeRightHandSide},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(170),l=a(145),u=a(305),d=a(1884),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(0),g=r(m),v=a(27),b=r(v),_=a(214),y=a(18),E=a(220),w=n(E),C=a(1234),x=r(C),M=a(1228),S=r(M),k=a(1367),T=r(k),P=a(1227),N=r(P),O=a(1157),I=r(O),R=a(1208),A=r(R),L=a(1274),D=r(L),F=a(1231),U=r(F),j=a(1232),H=r(j),B=a(1235),q=r(B),z=a(81),G=a(12),W=r(G),V=a(460),$=n(V),K=a(47),Y=n(K),X=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.shrinkSidebar=function(){setTimeout(function(){t.props.shrink()})},t.handleFocusRHSClick=function(e){e.preventDefault(),t.props.onSelect(t.props.post)},t.handleJumpClick=function(){Y.isMobile()&&t.props.actions.closeRightHandSide(),t.shrinkSidebar(),z.browserHistory.push("/"+t.props.currentTeamName+"/pl/"+t.props.post.id)},t.handleDropdownOpened=function(e){t.setState({dropdownOpened:e})},t.renderPostTime=function(){var e=t.props.post,a=!(y.Posts.POST_DELETED===e.state||w.isPostPendingOrFailed(e));return g.default.createElement(q.default,{isPermalink:a,eventTime:e.create_at,useMilitaryTime:t.props.useMilitaryTime,postId:e.id})},t.getClassName=function(){var e="post post--thread";return t.props.compactDisplay&&(e+=" post--compact"),t.state.dropdownOpened&&(e+=" post--hovered"),e},t.state={dropdownOpened:!1},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"render",value:function(){var t=null,a=this.props.channel,n=this.props.user||{},r=this.props.post;a&&(t=a.display_name,a.type===W.default.DM_CHANNEL&&(t=g.default.createElement(_.FormattedMessage,{id:"search_item.direct",defaultMessage:"Direct Message (with {username})",values:{username:Y.displayUsernameForUser(Y.getDirectTeammate(a.id))}})));var i=void 0,o=!1;r.props&&r.props.from_webhook&&r.props.override_username&&"true"===e.window.mm_config.EnablePostUsernameOverride&&(i=r.props.override_username,o=!0);var s=void 0;r.props&&r.props.from_webhook&&(s=g.default.createElement("div",{className:"bot-indicator"},W.default.BOT_NAME));var l=g.default.createElement(I.default,{src:$.getProfilePicSrcForPost(r,n),user:this.props.user,status:this.props.status,isBusy:this.props.isBusy}),u=g.default.createElement("div",{className:"post__img"},l),d="";$.isEdited(this.props.post)&&(d+=" post--edited");var c=null;r.file_ids&&r.file_ids.length>0&&(c=g.default.createElement(S.default,{post:r,compactDisplay:this.props.compactDisplay}));var f=void 0,p=void 0,h=void 0;r.state===W.default.POST_DELETED?f=g.default.createElement("p",null,g.default.createElement(_.FormattedMessage,{id:"post_body.deleted",defaultMessage:"(message deleted)"})):(p=g.default.createElement(H.default,{idPrefix:"searchPostFlag",idCount:this.props.lastPostCount,postId:r.id,isFlagged:this.props.isFlagged}),h=g.default.createElement("div",{className:"col__controls"},g.default.createElement(N.default,{idPrefix:W.default.SEARCH_POST,idCount:this.props.lastPostCount,post:r,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,commentCount:this.props.commentCountForPost}),g.default.createElement(T.default,{idPrefix:"searchCommentIcon",idCount:this.props.lastPostCount,handleCommentClick:this.handleFocusRHSClick,searchStyle:"search-item__comment"}),g.default.createElement("a",{onClick:this.handleJumpClick,className:"search-item__jump"},g.default.createElement(_.FormattedMessage,{id:"search_item.jump",defaultMessage:"Jump"}))),f=g.default.createElement(U.default,{post:r},g.default.createElement(x.default,{post:r,options:{searchTerm:this.props.term,mentionHighlight:this.props.isMentionSearch}})));var m=void 0;r.is_pinned&&(m=g.default.createElement("span",{className:"post__pinned-badge"},g.default.createElement(_.FormattedMessage,{id:"post_info.pinned",defaultMessage:"Pinned"})));var v=Y.getDateForUnixTicks(r.create_at);return g.default.createElement("div",{className:"search-item__container"},g.default.createElement(D.default,{date:v}),g.default.createElement("div",{className:this.getClassName()},g.default.createElement("div",{className:"search-channel__name"},t),g.default.createElement("div",{className:"post__content"},u,g.default.createElement("div",null,g.default.createElement("div",{className:"post__header"},g.default.createElement("div",{className:"col col__name"},g.default.createElement("strong",null,g.default.createElement(A.default,{user:n,overwriteName:i,disablePopover:o,status:this.props.status,isBusy:this.props.isBusy}))),s,g.default.createElement("div",{className:"col"},this.renderPostTime(),m,p),h),g.default.createElement("div",{className:"search-item-snippet post__body"},g.default.createElement("div",{className:d},f,c))))))}}]),a}(g.default.PureComponent);X.propTypes={post:b.default.object,lastPostCount:b.default.number,user:b.default.object,channel:b.default.object,compactDisplay:b.default.bool,isMentionSearch:b.default.bool,term:b.default.string,useMilitaryTime:b.default.bool.isRequired,isFlagged:b.default.bool,isBusy:b.default.bool,status:b.default.string,currentTeamName:b.default.string,commentCountForPost:b.default.number,shrink:b.default.func,onSelect:b.default.func,actions:b.default.shape({closeRightHandSide:b.default.func.isRequired}).isRequired},t.default=X}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",width:"17px",height:"17px",viewBox:"-158 242 18 18",style:v},m.default.createElement("path",{d:"M-142.2,252.6c-2-3-4.8-4.7-8.3-4.8v-3.3c0-0.2-0.1-0.3-0.2-0.3s-0.3,0-0.4,0.1l-6.9,6.2c-0.1,0.1-0.1,0.2-0.1,0.3 c0,0.1,0,0.2,0.1,0.3l6.9,6.4c0.1,0.1,0.3,0.1,0.4,0.1c0.1-0.1,0.2-0.2,0.2-0.4v-3.8c4.2,0,7.4,0.4,9.6,4.4c0.1,0.1,0.2,0.2,0.3,0.2 c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.3,0.2-0.4C-140.2,257.3-140.6,255-142.2,252.6z M-150.8,252.5c-0.2,0-0.4,0.2-0.4,0.4v3.3l-6-5.5 l6-5.3v2.8c0,0.2,0.2,0.4,0.4,0.4c3.3,0,6,1.5,8,4.5c0.5,0.8,0.9,1.6,1.2,2.3C-144,252.8-147.1,252.5-150.8,252.5z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={enableBackground:"new -158 242 18 18"}},function(e,t,a){"use strict";function n(e){return{isMentionSearch:(0,l.getRhsState)(e)===u.RHSStates.MENTION}}function r(e){return{actions:(0,o.bindActionCreators)({showMentions:s.showMentions,showFlaggedPosts:s.showFlaggedPosts,closeRightHandSide:s.closeRightHandSide},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(305),l=a(307),u=a(12),d=a(1887),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(214),w=a(457),C=a(142),x=n(C),M=a(120),S=r(M),k=a(59),T=r(k),P=a(42),N=r(P),O=a(461),I=r(O),R=a(12),A=a(143),L=a(169),D=n(L),F=a(47),U=n(F),j=a(1283),H=r(j),B=a(1368),q=r(B),z=a(1890),G=r(z),W=a(1284),V=r(W),$=a(1226),K=r($),Y=a(1285),X=r(Y),Z=a(1237),J=function(t){function a(t){(0,d.default)(this,a);var n=(0,h.default)(this,(a.__proto__||(0,l.default)(a)).call(this,t));return n.handleClick=function(e){I.default.isBusy()&&(I.default.emitChanged({action:R.WebrtcActionTypes.IN_PROGRESS}),e.preventDefault())},n.handleAboutModal=function(){n.setState({showAboutModal:!0})},n.aboutModalDismissed=function(){n.setState({showAboutModal:!1})},n.showAddUsersToTeamModal=function(e){e.preventDefault(),n.setState({showAddUsersToTeamModal:!0,showDropdown:!1})},n.hideAddUsersToTeamModal=function(){n.setState({showAddUsersToTeamModal:!1})},n.showTeamSettingsModal=function(e){e.preventDefault(),n.setState({showTeamSettingsModal:!0,showDropdown:!1})},n.hideTeamSettingsModal=function(){n.setState({showTeamSettingsModal:!1})},n.getFlagged=function(e){e.preventDefault(),n.props.actions.showFlaggedPosts(),n.closeRightSidebar()},n.getStateFromStores=function(){var t=S.default.getInt(R.Preferences.TUTORIAL_STEP,N.default.getCurrentId(),999);return{currentUser:N.default.getCurrentUser(),teamMembers:T.default.getMyTeamMembers(),teamListings:T.default.getTeamListings(),showTutorialTip:t===R.TutorialSteps.MENU_POPOVER&&U.isMobile()&&"true"===e.window.mm_config.EnableTutorial}},n.onChange=function(){n.setState(n.getStateFromStores())},n.searchMentions=function(e){e.preventDefault(),n.props.isMentionSearch?n.props.actions.closeRightHandSide():(n.closeRightSidebar(),n.props.actions.showMentions())},n.closeLeftSidebar=function(){U.isMobile()&&setTimeout(function(){document.querySelector(".app__body .inner-wrap").classList.remove("move--right"),document.querySelector(".app__body .sidebar--left").classList.remove("move--right")})},n.openRightSidebar=function(){U.isMobile()&&setTimeout(function(){document.querySelector(".app__body .inner-wrap").classList.add("move--left-small"),document.querySelector(".app__body .sidebar--menu").classList.add("move--left")})},n.closeRightSidebar=function(){U.isMobile()&&setTimeout(function(){document.querySelector(".app__body .inner-wrap").classList.remove("move--left-small"),document.querySelector(".app__body .sidebar--menu").classList.remove("move--left")})},n.showAccountSettingsModal=function(){x.showAccountSettingsModal()},n.handleEmitUserLoggedOutEvent=function(){x.emitUserLoggedOutEvent()},n.state=(0,o.default)({},n.getStateFromStores(),{showAboutModal:!1,showAddUsersToTeamModal:!1,showTeamSettingsModal:!1}),n}return(0,g.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){T.default.addChangeListener(this.onChange),S.default.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){T.default.removeChangeListener(this.onChange),S.default.removeChangeListener(this.onChange)}},{key:"render",value:function(){var t=N.default.getCurrentUser(),a=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0,l=void 0,u=!1,d=!1,c=null;if(null!=t){u=T.default.isTeamAdminForCurrentTeam()||N.default.isSystemAdminForCurrentUser(),d=N.default.isSystemAdminForCurrentUser(),n=y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:x.showInviteMemberModal},y.default.createElement("i",{className:"icon fa fa-user-plus"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.inviteNew",defaultMessage:"Send Email Invite"}))),r=y.default.createElement("li",null,y.default.createElement("a",{id:"addUsersToTeam",href:"#",onClick:this.showAddUsersToTeamModal},y.default.createElement("i",{className:"icon fa fa-user-plus"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.addMemberToTeam",defaultMessage:"Add Members to Team"}))),this.props.teamType===R.Constants.OPEN_TEAM&&"true"===e.mm_config.EnableUserCreation&&(a=y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:x.showGetTeamInviteLinkModal},y.default.createElement("i",{className:"icon fa fa-link"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.teamLink",defaultMessage:"Get Team Invite Link"})))),"true"===e.window.mm_license.IsLicensed&&(e.window.mm_config.RestrictTeamInvite!==R.Constants.PERMISSIONS_SYSTEM_ADMIN||d?e.window.mm_config.RestrictTeamInvite!==R.Constants.PERMISSIONS_TEAM_ADMIN||u||(a=null,n=null,r=null):(a=null,n=null,r=null));var f=!1,p=this.state.teamMembers.reduce(function(e,t){return e[t.team_id]=!0,e},{});for(var h in this.state.teamListings)if(this.state.teamListings.hasOwnProperty(h)&&!p[h]){f=!0;break}f&&!e.mm_config.ExperimentalPrimaryTeam&&(l=y.default.createElement("li",{key:"joinTeam_li"},y.default.createElement(w.Link,{to:"/select_team"},y.default.createElement("i",{className:"icon fa fa-plus-square"}),y.default.createElement(E.FormattedMessage,{id:"navbar_dropdown.join",defaultMessage:"Join Another Team"})))),("true"===e.window.mm_config.EnableTeamCreation||d)&&(c=y.default.createElement("li",{key:"newTeam_li"},y.default.createElement(w.Link,{id:"createTeam",key:"newTeam_a",to:"/create_team",onClick:this.handleClick},y.default.createElement("i",{className:"icon fa fa-plus-square"}),y.default.createElement(E.FormattedMessage,{id:"navbar_dropdown.create",defaultMessage:"Create a New Team"}))))}o=y.default.createElement("li",null,y.default.createElement(K.default,{dialogType:V.default},y.default.createElement("i",{className:"icon fa fa-users"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.viewMembers",defaultMessage:"View Members"})));var m="";e.mm_config.ExperimentalPrimaryTeam||(m=y.default.createElement("li",{key:"leaveTeam_li"},y.default.createElement("a",{id:"leaveTeam",href:"#",onClick:x.showLeaveTeamModal},y.default.createElement(G.default,{className:"icon"}),y.default.createElement(E.FormattedMessage,{id:"navbar_dropdown.leave",defaultMessage:"Leave Team"})))),u&&(i=y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.showTeamSettingsModal},y.default.createElement("i",{className:"icon fa fa-globe"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.teamSettings",defaultMessage:"Team Settings"}))),o=y.default.createElement("li",null,y.default.createElement(K.default,{dialogType:V.default,dialogProps:{isAdmin:u}},y.default.createElement("i",{className:"icon fa fa-users"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.manageMembers",defaultMessage:"Manage Members"})))),d&&!U.isMobile()&&(s=y.default.createElement("li",null,y.default.createElement(w.Link,{to:"/admin_console",onClick:this.handleClick},y.default.createElement("i",{className:"icon fa fa-wrench"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.console",defaultMessage:"System Console"}))));var g="";null!=e.window.mm_config.SiteName&&(g=e.window.mm_config.SiteName);var v=g;this.props.teamDisplayName&&(v=this.props.teamDisplayName);var b=null;e.window.mm_config.HelpLink&&(b=y.default.createElement("li",null,y.default.createElement(w.Link,{target:"_blank",rel:"noopener noreferrer",to:e.window.mm_config.HelpLink},y.default.createElement("i",{className:"icon fa fa-question"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.help",defaultMessage:"Help"}))));var _=null;e.window.mm_config.ReportAProblemLink&&(_=y.default.createElement("li",null,y.default.createElement(w.Link,{target:"_blank",rel:"noopener noreferrer",to:e.window.mm_config.ReportAProblemLink},y.default.createElement("i",{className:"icon fa fa-phone"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.report",defaultMessage:"Report a Problem"}))));var C=null;this.state.showTutorialTip&&(C=(0,Z.createMenuTip)(function(e){return e.preventDefault()},!0),this.closeLeftSidebar(),this.openRightSidebar());var M=null;e.window.mm_config.AppDownloadLink&&!D.isMobileApp()&&(M=y.default.createElement("li",null,y.default.createElement(w.Link,{target:"_blank",rel:"noopener noreferrer",to:(0,A.useSafeUrl)(e.window.mm_config.AppDownloadLink)},y.default.createElement("i",{className:"icon fa fa-mobile"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.nativeApps",defaultMessage:"Download Apps"}))));var S=void 0;this.state.showAddUsersToTeamModal&&(S=y.default.createElement(q.default,{onModalDismissed:this.hideAddUsersToTeamModal}));var k=null;(i||o||l||c||m)&&(k=y.default.createElement("li",{className:"divider"}));var P=null;return s&&(P=y.default.createElement("li",{className:"divider"})),y.default.createElement("div",{className:"sidebar--menu",id:"sidebar-menu"},y.default.createElement("div",{className:"team__header theme"},y.default.createElement(w.Link,{className:"team__name",to:"/channels/"+R.Constants.DEFAULT_CHANNEL},v)),y.default.createElement("div",{className:"nav-pills__container"},C,y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.searchMentions},y.default.createElement("i",{className:"icon mentions"},"@"),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.recentMentions",defaultMessage:"Recent Mentions"}))),y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.getFlagged},y.default.createElement("i",{className:"icon fa fa-flag"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.flagged",defaultMessage:"Flagged Posts"}))),y.default.createElement("li",{className:"divider"}),y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.showAccountSettingsModal},y.default.createElement("i",{className:"icon fa fa-cog"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.accountSettings",defaultMessage:"Account Settings"}))),y.default.createElement("li",{className:"divider"}),n,a,r,k,i,o,c,l,m,P,s,y.default.createElement("li",{className:"divider"}),b,_,M,y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.handleAboutModal},y.default.createElement("i",{className:"icon fa fa-info"}),y.default.createElement(E.FormattedMessage,{id:"navbar_dropdown.about",defaultMessage:"About Mattermost"}))),y.default.createElement("li",{className:"divider"}),y.default.createElement("li",null,y.default.createElement("a",{href:"#",onClick:this.handleEmitUserLoggedOutEvent},y.default.createElement("i",{className:"icon fa fa-sign-out"}),y.default.createElement(E.FormattedMessage,{id:"sidebar_right_menu.logout",defaultMessage:"Logout"}))))),y.default.createElement(H.default,{show:this.state.showAboutModal,onModalDismissed:this.aboutModalDismissed}),y.default.createElement(X.default,{show:this.state.showTeamSettingsModal,onModalDismissed:this.hideTeamSettingsModal}),S)}}]),a}(y.default.Component);J.propTypes={teamType:b.default.string,teamDisplayName:b.default.string,isMentionSearch:b.default.bool,actions:b.default.shape({showMentions:b.default.func,showFlaggedPosts:b.default.func,closeRightHandSide:b.default.func})},t.default=J}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(1236),E=n(y),w=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.doHide=a.doHide.bind(a),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"doHide",value:function(){this.props.onModalDismissed()}},{key:"render",value:function(){var e=this.props.config,t=this.props.license,a=v.default.createElement(_.FormattedMessage,{id:"about.teamEditiont0",defaultMessage:"Team Edition"}),n=v.default.createElement(_.FormattedMessage,{id:"about.teamEditionSt",defaultMessage:"All your team communication in one place, instantly searchable and accessible anywhere."}),r=v.default.createElement("div",null,v.default.createElement(_.FormattedMessage,{id:"about.teamEditionLearn",defaultMessage:"Join the Mattermost community at "}),v.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.mattermost.org/"},"mattermost.org")),i=void 0;"true"===e.BuildEnterpriseReady&&(a=v.default.createElement(_.FormattedMessage,{id:"about.teamEditiont1",defaultMessage:"Enterprise Edition"}),n=v.default.createElement(_.FormattedMessage,{id:"about.enterpriseEditionSt",defaultMessage:"Modern communication from behind your firewall."}),r=v.default.createElement("div",null,v.default.createElement(_.FormattedMessage,{id:"about.enterpriseEditionLearn",defaultMessage:"Learn more about Enterprise Edition at "}),v.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://about.mattermost.com/"},"about.mattermost.com")),"true"===t.IsLicensed&&(a=v.default.createElement(_.FormattedMessage,{id:"about.enterpriseEditione1",defaultMessage:"Enterprise Edition"}),i=v.default.createElement("div",{className:"form-group"},v.default.createElement(_.FormattedMessage,{id:"about.licensed",defaultMessage:"Licensed to:"})," ",t.Company)));var o=e.Version;return e.BuildNumber!==e.Version&&(o+=" ("+e.BuildNumber+")"),v.default.createElement(b.Modal,{dialogClassName:"about-modal",show:this.props.show,onHide:this.doHide},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,v.default.createElement(_.FormattedMessage,{id:"about.title",defaultMessage:"About Mattermost"}))),v.default.createElement(b.Modal.Body,null,v.default.createElement("div",{className:"about-modal__content"},v.default.createElement("div",{className:"about-modal__logo"},v.default.createElement(E.default,null)),v.default.createElement("div",null,v.default.createElement("h3",{className:"about-modal__title"},"Mattermost"," ",a),v.default.createElement("p",{className:"about-modal__subtitle padding-bottom"},n),v.default.createElement("div",{className:"form-group less"},v.default.createElement("div",null,v.default.createElement(_.FormattedMessage,{id:"about.version",defaultMessage:"Version:"}),v.default.createElement("span",{id:"versionString"},o)),v.default.createElement("div",null,v.default.createElement(_.FormattedMessage,{id:"about.database",defaultMessage:"Database:"})," "+e.SQLDriverName)),i)),v.default.createElement("div",{className:"about-modal__footer"},r,v.default.createElement("div",{className:"form-group about-modal__copyright"},v.default.createElement(_.FormattedMessage,{id:"about.copyright",defaultMessage:"Copyright 2015 - {currentYear} Mattermost, Inc. All rights reserved",values:{currentYear:(new Date).getFullYear()}}))),v.default.createElement("div",{className:"about-modal__notice form-group padding-top x2"},v.default.createElement("p",null,v.default.createElement(_.FormattedHTMLMessage,{id:"about.notice",defaultMessage:'Mattermost is made possible by the open source software used in our <a href="https://about.mattermost.com/platform-notice-txt/" target="_blank">platform</a>, <a href="https://about.mattermost.com/desktop-notice-txt/" target="_blank">desktop</a> and <a href="https://about.mattermost.com/mobile-notice-txt/" target="_blank">mobile</a> apps.'}))),v.default.createElement("div",{className:"about-modal__hash"},v.default.createElement("p",null,v.default.createElement(_.FormattedMessage,{id:"about.hash",defaultMessage:"Build Hash:"})," ",e.BuildHash,v.default.createElement("br",null),v.default.createElement(_.FormattedMessage,{id:"about.hashee",defaultMessage:"EE Build Hash:"})," ",e.BuildHashEnterprise),v.default.createElement("p",null,v.default.createElement(_.FormattedMessage,{id:"about.date",defaultMessage:"Build Date:"})," ",e.BuildDate))))}}]),t}(v.default.PureComponent);w.defaultProps={show:!1},w.propTypes={show:m.default.bool.isRequired,onModalDismissed:m.default.func.isRequired,config:m.default.object.isRequired,license:m.default.object.isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(214),w=a(23),C=a(69),x=a(1147),M=a(168),S=a(40),k=n(S),T=a(59),P=n(T),N=a(42),O=n(N),I=a(12),R=n(I),A=a(47),L=a(1270),D=n(L),F=a(1157),U=n(F),j=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleHide=a.handleHide.bind(a),a.handleExit=a.handleExit.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleDelete=a.handleDelete.bind(a),a.onChange=a.onChange.bind(a),a.search=a.search.bind(a),a.addValue=a.addValue.bind(a),a.handlePageChange=a.handlePageChange.bind(a),a.searchTimeoutId=0,a.state={users:(0,i.default)([],O.default.getProfileListNotInTeam(P.default.getCurrentId(),!0)),values:[],show:!0,search:!1,saving:!1,addError:null},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){O.default.addChangeListener(this.onChange),O.default.addNotInTeamChangeListener(this.onChange),O.default.addStatusesChangeListener(this.onChange),this.props.actions.getProfilesNotInTeam(P.default.getCurrentId(),0,100)}},{key:"componentWillUnmount",value:function(){O.default.removeChangeListener(this.onChange),O.default.removeNotInTeamChangeListener(this.onChange),O.default.removeStatusesChangeListener(this.onChange)}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"handleExit",value:function(){this.props.onModalDismissed&&this.props.onModalDismissed()}},{key:"handleResponse",value:function(e){var t=null;e&&e.message&&(t=e.message),this.setState({saving:!1,addError:t})}},{key:"handleSubmit",value:function(e){var t=this;e&&e.preventDefault();var a=this.state.values.map(function(e){return e.id});0!==a.length&&(this.setState({saving:!0}),(0,x.addUsersToTeam)(P.default.getCurrentId(),a,function(){t.handleResponse(),t.handleHide()},function(e){t.handleResponse(e)}))}},{key:"addValue",value:function(e){var t=(0,i.default)([],this.state.values),a=t.map(function(e){return e.id});e&&e.id&&-1===a.indexOf(e.id)&&t.push(e),this.setState({values:t})}},{key:"onChange",value:function(){var e=void 0;e=this.term?(0,i.default)([],(0,C.searchProfilesNotInCurrentTeam)(k.default.getState(),this.term,!0)):(0,i.default)([],O.default.getProfileListNotInTeam(P.default.getCurrentId(),!0));for(var t=0;t<e.length;t++){var a=(0,i.default)({},e[t]);a.value=a.id,a.label="@"+a.username,e[t]=a}this.setState({users:e})}},{key:"handlePageChange",value:function(e,t){e>t&&this.props.actions.getProfilesNotInTeam(P.default.getCurrentId(),e+1,50)}},{key:"search",value:function(e){if(clearTimeout(this.searchTimeoutId),this.term=e,""===e)return void this.onChange();this.searchTimeoutId=setTimeout(function(){(0,M.searchUsersNotInTeam)(e,P.default.getCurrentId(),{})},R.default.SEARCH_TIMEOUT_MILLISECONDS)}},{key:"handleDelete",value:function(e){this.setState({values:e})}},{key:"renderOption",value:function(e,t,a){var n="";return t&&(n="more-modal__row--selected"),_.default.createElement("div",{key:e.id,ref:t?"selected":e.id,className:"more-modal__row clickable "+n,onClick:function(){return a(e)}},_.default.createElement(U.default,{src:w.Client4.getProfilePictureUrl(e.id,e.last_picture_update),width:"32",height:"32"}),_.default.createElement("div",{className:"more-modal__details"},_.default.createElement("div",{className:"more-modal__name"},(0,A.displayEntireNameForUser)(e)),_.default.createElement("div",{className:"more-modal__description"},e.email)),_.default.createElement("div",{className:"more-modal__actions"},_.default.createElement("div",{className:"more-modal__actions--round"},_.default.createElement("i",{className:"fa fa-plus"}))))}},{key:"renderValue",value:function(e){return e.username}},{key:"render",value:function(){var e=_.default.createElement(E.FormattedMessage,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:20-this.state.values.length}}),t=(0,A.localizeMessage)("multiselect.add","Add"),a=[];this.state.users&&(a=this.state.users.filter(function(e){return 0===e.delete_at}));var n=null;return this.state.addError&&(n=_.default.createElement("div",{className:"has-error col-sm-12"},_.default.createElement("label",{className:"control-label font-weight--normal"},this.state.addError))),_.default.createElement(y.Modal,{dialogClassName:"more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},_.default.createElement(y.Modal.Header,{closeButton:!0},_.default.createElement(y.Modal.Title,null,_.default.createElement(E.FormattedMessage,{id:"add_users_to_team.title",defaultMessage:"Add New Members To {teamName} Team",values:{teamName:_.default.createElement("strong",null,P.default.getCurrent().display_name)}}))),_.default.createElement(y.Modal.Body,null,n,_.default.createElement(D.default,{key:"addUsersToTeamKey",options:a,optionRenderer:this.renderOption,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:20,numRemainingText:e,buttonSubmitText:t,saving:this.state.saving})))}}]),t}(_.default.Component);j.propTypes={onModalDismissed:v.default.func,actions:v.default.shape({getProfilesNotInTeam:v.default.func.isRequired}).isRequired},t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 164 164",style:v},m.default.createElement("path",{d:"M26.023,164L26.023,7.035L26.022,0.32L137.658,0.32L137.658,164L124.228,164L124.228, 13.749L39.452,13.749L39.452,164L26.023, 164ZM118.876,164L118.876,18.619L58.137,32.918L58.137,149.701L118.876,164Z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(1892),E=n(y),w=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onHide=function(){a.setState({show:!1})},a.state={show:!0},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e="";return this.props.currentTeam&&(e=this.props.currentTeam.display_name),v.default.createElement(b.Modal,{dialogClassName:"more-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,v.default.createElement(_.FormattedMessage,{id:"team_member_modal.members",defaultMessage:"{team} Members",values:{team:e}}))),v.default.createElement(b.Modal.Body,null,v.default.createElement(E.default,{isAdmin:this.props.isAdmin})))}}]),t}(v.default.PureComponent);w.propTypes={currentTeam:m.default.object.isRequired,onHide:m.default.func.isRequired,isAdmin:m.default.bool.isRequired,onLoad:m.default.func},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getTeamStats:d.getTeamStats},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(173),c=a(1893),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(69),E=a(168),w=a(40),C=n(w),x=a(59),M=n(x),S=a(42),k=n(S),T=a(12),P=n(T),N=a(169),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(N),I=a(1334),R=n(I),A=a(1894),L=n(A),D=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));a.onChange=a.onChange.bind(a),a.onStatsChange=a.onStatsChange.bind(a),a.search=a.search.bind(a),a.loadComplete=a.loadComplete.bind(a),a.searchTimeoutId=0,a.term="";var n=M.default.getCurrentStats();return a.state={users:k.default.getProfileListInTeam(),teamMembers:(0,i.default)([],M.default.getMembersInTeam()),total:n.active_member_count,loading:!0},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){k.default.addInTeamChangeListener(this.onChange),k.default.addStatusesChangeListener(this.onChange),M.default.addChangeListener(this.onChange),M.default.addStatsChangeListener(this.onStatsChange),(0,E.loadProfilesAndTeamMembers)(0,P.default.PROFILE_CHUNK_SIZE,M.default.getCurrentId(),this.loadComplete),this.props.actions.getTeamStats(M.default.getCurrentId())}},{key:"componentWillUnmount",value:function(){k.default.removeInTeamChangeListener(this.onChange),k.default.removeStatusesChangeListener(this.onChange),M.default.removeChangeListener(this.onChange),M.default.removeStatsChangeListener(this.onStatsChange)}},{key:"loadComplete",value:function(){this.setState({loading:!1})}},{key:"onChange",value:function(){var e=void 0;e=this.term?(0,y.searchProfilesInCurrentTeam)(C.default.getState(),this.term):k.default.getProfileListInTeam(),this.setState({users:e,teamMembers:(0,i.default)([],M.default.getMembersInTeam())})}},{key:"onStatsChange",value:function(){var e=M.default.getCurrentStats();this.setState({total:e.active_member_count})}},{key:"nextPage",value:function(e){(0,E.loadProfilesAndTeamMembers)(e+1,50)}},{key:"search",value:function(e){var t=this;if(clearTimeout(this.searchTimeoutId),this.term=e,""===e)return this.setState({loading:!1}),this.searchTimeoutId="",void this.onChange();var a=setTimeout(function(){(0,E.searchUsers)(e,M.default.getCurrentId(),{},function(e){a===t.searchTimeoutId&&(t.setState({loading:!0}),(0,E.loadTeamMembersForProfilesList)(e,M.default.getCurrentId(),t.loadComplete))})},P.default.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=a}},{key:"render",value:function(){var e=null;this.props.isAdmin&&(e=[L.default]);var t=this.state.teamMembers,a=this.state.users,n={},r=void 0;if(this.state.loading)r=null;else{r=[];for(var i=0;i<a.length;i++){var o=a[i];t[o.id]&&0===o.delete_at&&(r.push(o),n[o.id]={teamMember:t[o.id]})}}return _.default.createElement(R.default,{users:r,usersPerPage:50,total:this.state.total,nextPage:this.nextPage,search:this.search,actions:e,actionUserProps:n,focusOnMount:!O.isMobile()})}}]),t}(_.default.Component);D.propTypes={isAdmin:v.default.bool,actions:v.default.shape({getTeamStats:v.default.func.isRequired}).isRequired},t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getUser:f.getUser,getTeamStats:c.getTeamStats,getChannelStats:d.getChannelStats},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(90),c=a(173),f=a(82),p=a(1895),h=n(p);t.default=(0,l.connect)(r,i)(h.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(81),y=a(1147),E=a(168),w=a(48),C=n(w),x=a(59),M=n(x),S=a(42),k=n(S),T=a(47),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(T),N=a(1144),O=n(N),I=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleMakeMember=a.handleMakeMember.bind(a),a.handleRemoveFromTeam=a.handleRemoveFromTeam.bind(a),a.handleMakeActive=a.handleMakeActive.bind(a),a.handleMakeNotActive=a.handleMakeNotActive.bind(a),a.handleMakeAdmin=a.handleMakeAdmin.bind(a),a.handleDemote=a.handleDemote.bind(a),a.handleDemoteSubmit=a.handleDemoteSubmit.bind(a),a.handleDemoteCancel=a.handleDemoteCancel.bind(a),a.state={serverError:null,showDemoteModal:!1,user:null,role:null},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"handleMakeMember",value:function(){var e=this,t=k.default.getCurrentUser();this.props.user.id===t.id&&t.roles.includes("system_admin")?this.handleDemote(this.props.user,"team_user"):(0,y.updateTeamMemberRoles)(this.props.teamMember.team_id,this.props.user.id,"team_user",function(){e.props.actions.getUser(e.props.user.id),e.props.user.id===t.id&&(0,E.loadMyTeamMembers)()},function(t){e.setState({serverError:t.message})})}},{key:"handleRemoveFromTeam",value:function(){var e=this;(0,y.removeUserFromTeam)(this.props.teamMember.team_id,this.props.user.id,function(){k.default.removeProfileFromTeam(e.props.teamMember.team_id,e.props.user.id),k.default.emitInTeamChange(),e.props.actions.getTeamStats(e.props.teamMember.team_id)},function(t){e.setState({serverError:t.message})})}},{key:"handleMakeActive",value:function(){var e=this;(0,E.updateActive)(this.props.user.id,!0,function(){e.props.actions.getChannelStats(C.default.getCurrentId()),e.props.actions.getTeamStats(e.props.teamMember.team_id)},function(t){e.setState({serverError:t.message})})}},{key:"handleMakeNotActive",value:function(){var e=this;(0,E.updateActive)(this.props.user.id,!1,function(){e.props.actions.getChannelStats(C.default.getCurrentId()),e.props.actions.getTeamStats(e.props.teamMember.team_id)},function(t){e.setState({serverError:t.message})})}},{key:"handleMakeAdmin",value:function(){var e=this,t=k.default.getCurrentUser();this.props.user.id===t.id&&t.roles.includes("system_admin")?this.handleDemote(this.props.user,"team_user team_admin"):(0,y.updateTeamMemberRoles)(this.props.teamMember.team_id,this.props.user.id,"team_user team_admin",function(){e.props.actions.getUser(e.props.user.id)},function(t){e.setState({serverError:t.message})})}},{key:"handleDemote",value:function(e,t,a){this.setState({serverError:this.state.serverError,showDemoteModal:!0,user:e,role:t,newRole:a})}},{key:"handleDemoteCancel",value:function(){this.setState({serverError:null,showDemoteModal:!1,user:null,role:null,newRole:null})}},{key:"handleDemoteSubmit",value:function(){var e=this;(0,y.updateTeamMemberRoles)(this.props.teamMember.team_id,this.props.user.id,this.state.newRole,function(){e.props.actions.getUser(e.props.user.id);var t=M.default.getCurrentTeamUrl();t?_.browserHistory.push(t):_.browserHistory.push("/")},function(t){e.setState({serverError:t.message})})}},{key:"render",value:function(){var e=null;this.state.serverError&&(e=v.default.createElement("div",{className:"has-error"},v.default.createElement("label",{className:"has-error control-label"},this.state.serverError)));var t=this.props.teamMember,a=this.props.user,n=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.member",defaultMessage:"Member"});t.roles.length>0&&P.isAdmin(t.roles)&&(n=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.teamAdmin",defaultMessage:"Team Admin"})),a.roles.length>0&&P.isSystemAdmin(a.roles)&&(n=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.systemAdmin",defaultMessage:"System Admin"}));var r=k.default.getCurrentUser(),i=P.isAdmin(t.roles)&&!P.isSystemAdmin(a.roles),o=!P.isAdmin(t.roles)&&!P.isSystemAdmin(a.roles);P.isSystemAdmin(a.roles);a.delete_at>0&&(n=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.inactive",defaultMessage:"Inactive"}),i=!1,o=!1,!0);var s=null;o&&(s=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{role:"menuitem",href:"#",onClick:this.handleMakeAdmin},v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.makeAdmin",defaultMessage:"Make Team Admin"}))));var l=null;i&&(l=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{role:"menuitem",href:"#",onClick:this.handleMakeMember},v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.makeMember",defaultMessage:"Make Member"}))));var u=null;this.props.user.id!==r.id&&(u=v.default.createElement("li",{role:"presentation"},v.default.createElement("a",{role:"menuitem",href:"#",onClick:this.handleRemoveFromTeam},v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.leave_team",defaultMessage:"Remove From Team"}))));var d=null;if(this.props.user.id===r.id){var c=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.confirmDemoteRoleTitle",defaultMessage:"Confirm demotion from System Admin role"}),f=v.default.createElement("div",null,v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.confirmDemoteDescription",defaultMessage:"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you'll need to re-assign a System Admin by accessing the Mattermost server through a terminal and running the following command."}),v.default.createElement("br",null),v.default.createElement("br",null),v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.confirmDemotionCmd",defaultMessage:"platform roles system_admin {username}",vallues:{username:r.username}}),e),p=v.default.createElement(b.FormattedMessage,{id:"team_members_dropdown.confirmDemotion",defaultMessage:"Confirm Demotion"});d=v.default.createElement(O.default,{show:this.state.showDemoteModal,title:c,message:f,confirmButtonText:p,onConfirm:this.handleDemoteSubmit,onCancel:this.handleDemoteCancel})}return u||s||l?v.default.createElement("div",{className:"dropdown member-drop"},v.default.createElement("button",{className:"dropdown-toggle theme color--link style--none",type:"button","data-toggle":"dropdown","aria-expanded":"true"},v.default.createElement("span",null,n," "),v.default.createElement("span",{className:"fa fa-chevron-down"})),v.default.createElement("ul",{className:"dropdown-menu member-menu",role:"menu"},u,s,l,null,null),d,e):v.default.createElement("div",null,n)}}]),t}(v.default.Component);I.propTypes={user:m.default.object.isRequired,teamMember:m.default.object.isRequired,actions:m.default.shape({getUser:m.default.func.isRequired,getTeamStats:m.default.func.isRequired,getChannelStats:m.default.func.isRequired}).isRequired},t.default=I},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(59),_=n(b),y=a(47),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),w=a(1898),C=n(w),x=a(1899),M=n(x),S=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.state={team:_.default.getCurrent()},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){_.default.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){_.default.removeChangeListener(this.onChange)}},{key:"onChange",value:function(){var e=_.default.getCurrent();E.areObjectsEqual(this.state.team,e)||this.setState({team:e})}},{key:"render",value:function(){if(!this.state.team)return null;var e=void 0;switch(this.props.activeTab){case"general":e=v.default.createElement("div",null,v.default.createElement(C.default,{team:this.state.team,activeSection:this.props.activeSection,updateSection:this.props.updateSection,closeModal:this.props.closeModal,collapseModal:this.props.collapseModal}));break;case"import":e=v.default.createElement("div",null,v.default.createElement(M.default,{team:this.state.team,activeSection:this.props.activeSection,updateSection:this.props.updateSection,closeModal:this.props.closeModal,collapseModal:this.props.collapseModal}));break;default:e=v.default.createElement("div",null)}return e}}]),t}(v.default.Component);t.default=S,S.defaultProps={activeTab:"",activeSection:""},S.propTypes={activeTab:m.default.string.isRequired,activeSection:m.default.string.isRequired,updateSection:m.default.func.isRequired,closeModal:m.default.func.isRequired,collapseModal:m.default.func.isRequired}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(167),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(214),C=a(1147),x=a(12),M=n(x),S=a(47),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(S),T=a(1152),P=n(T),N=a(1158),O=n(N),I=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleUpdateSection=function(e){a.updateSection(e)},a.updateSection=a.updateSection.bind(a),a.handleNameSubmit=a.handleNameSubmit.bind(a),a.handleInviteIdSubmit=a.handleInviteIdSubmit.bind(a),a.handleOpenInviteSubmit=a.handleOpenInviteSubmit.bind(a),a.handleDescriptionSubmit=a.handleDescriptionSubmit.bind(a),a.handleClose=a.handleClose.bind(a),a.updateName=a.updateName.bind(a),a.updateDescription=a.updateDescription.bind(a),a.updateInviteId=a.updateInviteId.bind(a),a.handleOpenInviteRadio=a.handleOpenInviteRadio.bind(a),a.handleGenerateInviteId=a.handleGenerateInviteId.bind(a),a.state=a.setupInitialState(e),a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"updateSection",value:function(e){(0,v.default)(".section-max").length&&(0,v.default)(".settings-modal .modal-body").scrollTop(0).perfectScrollbar("update"),this.setState(this.setupInitialState(this.props)),this.props.updateSection(e)}},{key:"setupInitialState",value:function(e){var t=e.team;return{name:t.display_name,invite_id:t.invite_id,allow_open_invite:t.allow_open_invite,description:t.description,serverError:"",clientError:""}}},{key:"componentWillReceiveProps",value:function(e){this.setState({name:e.team.display_name,description:e.team.description,invite_id:e.team.invite_id,allow_open_invite:e.team.allow_open_invite})}},{key:"handleGenerateInviteId",value:function(e){e.preventDefault();for(var t="",a=0;a<32;a++)t+=Math.floor(16*Math.random()).toString(16);this.setState({invite_id:t})}},{key:"handleOpenInviteRadio",value:function(e){this.setState({allow_open_invite:e})}},{key:"handleOpenInviteSubmit",value:function(){var e=this,t={serverError:"",clientError:""},a=(0,i.default)({},this.props.team);a.allow_open_invite=this.state.allow_open_invite,(0,C.updateTeam)(a,function(){e.updateSection("")},function(a){t.serverError=a.message,e.setState(t)})}},{key:"handleNameSubmit",value:function(){var e=this,t={serverError:"",clientError:""},a=!0,n=this.state.name.trim();if(n?n.length<M.default.MIN_TEAMNAME_LENGTH?(t.clientError=E.default.createElement(w.FormattedMessage,{id:"general_tab.teamNameRestrictions",defaultMessage:"Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.",values:{min:M.default.MIN_TEAMNAME_LENGTH,max:M.default.MAX_TEAMNAME_LENGTH}}),a=!1):t.clientError="":(t.clientError=k.localizeMessage("general_tab.required","This field is required"),a=!1),this.setState(t),a){var r=(0,i.default)({},this.props.team);r.display_name=this.state.name,(0,C.updateTeam)(r,function(){e.updateSection("")},function(a){t.serverError=a.message,e.setState(t)})}}},{key:"handleInviteIdSubmit",value:function(){var e=this,t={serverError:"",clientError:""},a=!0;if(this.state.invite_id.trim()?t.clientError="":(t.clientError=k.localizeMessage("general_tab.required","This field is required"),a=!1),this.setState(t),a){var n=(0,i.default)({},this.props.team);n.invite_id=this.state.invite_id,(0,C.updateTeam)(n,function(){e.updateSection("")},function(a){t.serverError=a.message,e.setState(t)})}}},{key:"handleClose",value:function(){this.updateSection("")}},{key:"handleDescriptionSubmit",value:function(){var e=this,t={serverError:"",clientError:""},a=!0;if(this.state.description.trim()===this.props.team.description?(t.clientError=k.localizeMessage("general_tab.chooseDescription","Please choose a new description for your team"),a=!1):t.clientError="",this.setState(t),a){var n=(0,i.default)({},this.props.team);n.description=this.state.description,(0,C.updateTeam)(n,function(){e.updateSection("")},function(a){t.serverError=a.message,e.setState(t)})}}},{key:"componentDidMount",value:function(){(0,v.default)("#team_settings").on("hidden.bs.modal",this.handleClose)}},{key:"componentWillUnmount",value:function(){(0,v.default)("#team_settings").off("hidden.bs.modal",this.handleClose)}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updateDescription",value:function(e){this.setState({description:e.target.value})}},{key:"updateInviteId",value:function(e){this.setState({invite_id:e.target.value})}},{key:"render",value:function(){var e=null,t=null;this.state.clientError&&(e=this.state.clientError),this.state.serverError&&(t=this.state.serverError);var a=void 0;if("open_invite"===this.props.activeSection){var n=[E.default.createElement("div",{key:"userOpenInviteOptions"},E.default.createElement("div",{className:"radio"},E.default.createElement("label",null,E.default.createElement("input",{id:"teamOpenInvite",name:"userOpenInviteOptions",type:"radio",defaultChecked:this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!0)}),E.default.createElement(w.FormattedMessage,{id:"general_tab.yes",defaultMessage:"Yes"})),E.default.createElement("br",null)),E.default.createElement("div",{className:"radio"},E.default.createElement("label",null,E.default.createElement("input",{id:"teamOpenInviteNo",name:"userOpenInviteOptions",type:"radio",defaultChecked:!this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!1)}),E.default.createElement(w.FormattedMessage,{id:"general_tab.no",defaultMessage:"No"})),E.default.createElement("br",null)),E.default.createElement("div",null,E.default.createElement("br",null),E.default.createElement(w.FormattedMessage,{id:"general_tab.openInviteDesc",defaultMessage:"When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team."})))];a=E.default.createElement(P.default,{title:k.localizeMessage("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),inputs:n,submit:this.handleOpenInviteSubmit,serverError:t,updateSection:this.handleUpdateSection})}else{var r="";r=!0===this.state.allow_open_invite?k.localizeMessage("general_tab.yes","Yes"):k.localizeMessage("general_tab.no","No"),a=E.default.createElement(O.default,{title:k.localizeMessage("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),describe:r,updateSection:this.handleUpdateSection,section:"open_invite"})}var i=void 0;if("invite_id"===this.props.activeSection){var o=[];o.push(E.default.createElement("div",{key:"teamInviteSetting"},E.default.createElement("div",{className:"row"},E.default.createElement("label",{className:"col-sm-5 control-label visible-xs-block"}),E.default.createElement("div",{className:"col-sm-12"},E.default.createElement("input",{id:"teamInviteId",autoFocus:!0,className:"form-control",type:"text",onChange:this.updateInviteId,value:this.state.invite_id,maxLength:"32"}),E.default.createElement("div",{className:"padding-top x2"},E.default.createElement("button",{id:"teamInviteIdRegenerate",className:"color--link style--none",onClick:this.handleGenerateInviteId},E.default.createElement(w.FormattedMessage,{id:"general_tab.regenerate",defaultMessage:"Regenerate"}))))),E.default.createElement("div",{className:"setting-list__hint"},E.default.createElement(w.FormattedMessage,{id:"general_tab.codeLongDesc",defaultMessage:"The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.",values:{getTeamInviteLink:E.default.createElement("strong",null,E.default.createElement(w.FormattedMessage,{id:"general_tab.getTeamInviteLink",defaultMessage:"Get Team Invite Link"}))}})))),i=E.default.createElement(P.default,{title:k.localizeMessage("general_tab.codeTitle","Invite Code"),inputs:o,submit:this.handleInviteIdSubmit,serverError:t,clientError:e,updateSection:this.handleUpdateSection})}else i=E.default.createElement(O.default,{title:k.localizeMessage("general_tab.codeTitle","Invite Code"),describe:k.localizeMessage("general_tab.codeDesc","Click 'Edit' to regenerate Invite Code."),updateSection:this.handleUpdateSection,section:"invite_id"});var s=void 0;if("name"===this.props.activeSection){var l=[],u=E.default.createElement(w.FormattedMessage,{id:"general_tab.teamName",defaultMessage:"Team Name"});k.isMobile()&&(u=""),l.push(E.default.createElement("div",{key:"teamNameSetting",className:"form-group"},E.default.createElement("label",{className:"col-sm-5 control-label"},u),E.default.createElement("div",{className:"col-sm-7"},E.default.createElement("input",{id:"teamName",autoFocus:!0,className:"form-control",type:"text",maxLength:M.default.MAX_TEAMNAME_LENGTH.toString(),onChange:this.updateName,value:this.state.name}))));var d=E.default.createElement("span",null,k.localizeMessage("general_tab.teamNameInfo","Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar."));s=E.default.createElement(P.default,{title:k.localizeMessage("general_tab.teamName","Team Name"),inputs:l,submit:this.handleNameSubmit,serverError:t,clientError:e,updateSection:this.handleUpdateSection,extraInfo:d})}else{var c=this.state.name;s=E.default.createElement(O.default,{title:k.localizeMessage("general_tab.teamName","Team Name"),describe:c,updateSection:this.handleUpdateSection,section:"name"})}var f=void 0;if("description"===this.props.activeSection){var p=[],h=E.default.createElement(w.FormattedMessage,{id:"general_tab.teamDescription",defaultMessage:"Team Description"});k.isMobile()&&(h=""),p.push(E.default.createElement("div",{key:"teamDescriptionSetting",className:"form-group"},E.default.createElement("label",{className:"col-sm-5 control-label"},h),E.default.createElement("div",{className:"col-sm-7"},E.default.createElement("input",{id:"teamDescription",autoFocus:!0,className:"form-control",type:"text",maxLength:M.default.MAX_TEAMDESCRIPTION_LENGTH.toString(),onChange:this.updateDescription,value:this.state.description}))));var m=E.default.createElement("span",null,k.localizeMessage("general_tab.teamDescriptionInfo","Team description provides additional information to help users select the right team. Maximum of 50 characters."));f=E.default.createElement(P.default,{title:k.localizeMessage("general_tab.teamDescription","Team Description"),inputs:p,submit:this.handleDescriptionSubmit,serverError:t,clientError:e,updateSection:this.handleUpdateSection,extraInfo:m})}else{var g="";g=this.state.description?this.state.description:E.default.createElement(w.FormattedMessage,{id:"general_tab.emptyDescription",defaultMessage:"Click 'Edit' to add a team description."}),f=E.default.createElement(O.default,{title:k.localizeMessage("general_tab.teamDescription","Team Description"),describe:g,updateSection:this.handleUpdateSection,section:"description"})}return E.default.createElement("div",null,E.default.createElement("div",{className:"modal-header"},E.default.createElement("button",{id:"closeButton",type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},E.default.createElement("span",{"aria-hidden":"true"},"×")),E.default.createElement("h4",{className:"modal-title",ref:"title"},E.default.createElement("div",{className:"modal-back"},E.default.createElement("i",{className:"fa fa-angle-left",onClick:this.props.collapseModal})),E.default.createElement(w.FormattedMessage,{id:"general_tab.title",defaultMessage:"General Settings"}))),E.default.createElement("div",{ref:"wrapper",className:"user-settings"},E.default.createElement("h3",{className:"tab-header"},E.default.createElement(w.FormattedMessage,{id:"general_tab.title",defaultMessage:"General Settings"})),E.default.createElement("div",{className:"divider-dark first"}),s,E.default.createElement("div",{className:"divider-light"}),f,E.default.createElement("div",{className:"divider-light"}),a,E.default.createElement("div",{className:"divider-light"}),i,E.default.createElement("div",{className:"divider-dark"})))}}]),t}(E.default.Component);I.propTypes={updateSection:_.default.func.isRequired,team:_.default.object.isRequired,activeSection:_.default.string.isRequired,closeModal:_.default.func.isRequired,collapseModal:_.default.func.isRequired},t.default=I},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(27),v=n(g),b=a(214),_=a(47),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(_),E=a(1900),w=n(E),C=(0,b.defineMessages)({importSlack:{id:"team_import_tab.importSlack",defaultMessage:"Import from Slack (Beta)"}}),x=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onImportFailure=a.onImportFailure.bind(a),a.onImportSuccess=a.onImportSuccess.bind(a),a.doImportSlack=a.doImportSlack.bind(a),a.state={status:"ready",link:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"onImportFailure",value:function(){this.setState({status:"fail"})}},{key:"onImportSuccess",value:function(e){this.setState({status:"done",link:"data:application/octet-stream;charset=utf-8,"+encodeURIComponent(atob(e.results))})}},{key:"doImportSlack",value:function(e){this.setState({status:"in-progress",link:""}),y.importSlack(e,this.onImportSuccess,this.onImportFailure)}},{key:"render",value:function(){var e,t=this.props.intl.formatMessage,a=m.default.createElement("a",{href:"https://docs.mattermost.com/administration/migrating.html#migrating-from-slack",target:"_blank",rel:"noopener noreferrer"},m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpDocsLink",defaultMessage:"documentation"})),n=m.default.createElement("strong",null,m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpExportInstructions",defaultMessage:"Slack > Team Settings > Import/Export Data > Export > Start Export"})),r=m.default.createElement("a",{href:"https://github.com/grundleborg/slack-advanced-exporter",target:"_blank",rel:"noopener noreferrer"},m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpExporterLink",defaultMessage:"Slack Advanced Exporter"})),i=m.default.createElement("div",null,m.default.createElement("p",null,m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpLine1",defaultMessage:"Slack import to Mattermost supports importing of messages in your Slack team's public channels."})),m.default.createElement("p",null,m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpLine2",defaultMessage:"To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.",values:{exportInstructions:n,uploadDocsLink:a}})),m.default.createElement("p",null,m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importHelpLine3",defaultMessage:"To import posts with attached files, see {slackAdvancedExporterLink} for details.",values:{slackAdvancedExporterLink:r}}))),o=m.default.createElement(w.default,{title:t(C.importSlack),submit:this.doImportSlack,helpText:i,fileTypesAccepted:".zip"});switch(this.state.status){case"ready":e="";break;case"in-progress":e=m.default.createElement("p",{className:"confirm-import alert alert-warning"},m.default.createElement("i",{className:"fa fa-spinner fa-pulse"}),m.default.createElement(b.FormattedMessage,{id:"team_import_tab.importing",defaultMessage:" Importing..."}));break;case"done":e=m.default.createElement("p",{className:"confirm-import alert alert-success"},m.default.createElement("i",{className:"fa fa-check"}),m.default.createElement(b.FormattedMessage,{id:"team_import_tab.successful",defaultMessage:" Import successful: "}),m.default.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},m.default.createElement(b.FormattedMessage,{id:"team_import_tab.summary",defaultMessage:"View Summary"})));break;case"fail":e=m.default.createElement("p",{className:"confirm-import alert alert-warning"},m.default.createElement("i",{className:"fa fa-warning"}),m.default.createElement(b.FormattedMessage,{id:"team_import_tab.failure",defaultMessage:" Import failure: "}),m.default.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},m.default.createElement(b.FormattedMessage,{id:"team_import_tab.summary",defaultMessage:"View Summary"})))}return m.default.createElement("div",null,m.default.createElement("div",{className:"modal-header"},m.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},m.default.createElement("span",{"aria-hidden":"true"},"×")),m.default.createElement("h4",{className:"modal-title",ref:"title"},m.default.createElement("div",{className:"modal-back"},m.default.createElement("i",{className:"fa fa-angle-left",onClick:this.props.collapseModal})),m.default.createElement(b.FormattedMessage,{id:"team_import_tab.import",defaultMessage:"Import"}))),m.default.createElement("div",{ref:"wrapper",className:"user-settings"},m.default.createElement("h3",{className:"tab-header"},m.default.createElement(b.FormattedMessage,{id:"team_import_tab.import",defaultMessage:"Import"})),m.default.createElement("div",{className:"divider-dark first"}),o,m.default.createElement("div",{className:"divider-dark"}),e))}}]),t}(m.default.Component);x.propTypes={intl:b.intlShape.isRequired,closeModal:v.default.func.isRequired,collapseModal:v.default.func.isRequired},t.default=(0,b.injectIntl)(x)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(39),E=n(y),w=a(214),C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.doFileSelect=a.doFileSelect.bind(a),a.doSubmit=a.doSubmit.bind(a),a.state={clientError:a.props.clientError,serverError:a.props.serverError,filename:""},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({clientError:this.props.clientError,serverError:this.props.serverError})}},{key:"doFileSelect",value:function(e){e.preventDefault();var t=(0,m.default)(e.target).val();"fakepath"===t.substring(3,11)&&(t=t.substring(12)),this.setState({clientError:"",serverError:"",filename:t})}},{key:"doSubmit",value:function(e){e.preventDefault();var t=E.default.findDOMNode(this.refs.uploadinput);t.files&&t.files[0]?this.props.submit(t.files[0]):this.setState({clientError:!0})}},{key:"render",value:function(){var e=null;this.state.clientError&&(e=_.default.createElement("div",{className:"file-status"},_.default.createElement(w.FormattedMessage,{id:"setting_upload.noFile",defaultMessage:"No file selected."})));var t=null;this.state.serverError&&(t=_.default.createElement("div",{className:"file-status"},this.state.serverError));var a=null,n="btn btn-sm btn-primary disabled";return this.state.filename&&(a=_.default.createElement("div",{className:"file-status file-name"},this.state.filename),n="btn btn-sm btn-primary"),_.default.createElement("ul",{className:"section-max"},_.default.createElement("li",{className:"col-sm-12 section-title"},this.props.title),_.default.createElement("li",{className:"col-sm-offset-3 col-sm-9"},this.props.helpText),_.default.createElement("li",{className:"col-sm-offset-3 col-sm-9"},_.default.createElement("ul",{className:"setting-list"},_.default.createElement("li",{className:"setting-list-item"},_.default.createElement("span",{className:"btn btn-sm btn-primary btn-file sel-btn"},_.default.createElement(w.FormattedMessage,{id:"setting_upload.select",defaultMessage:"Select file"}),_.default.createElement("input",{ref:"uploadinput",accept:this.props.fileTypesAccepted,type:"file",onChange:this.doFileSelect})),_.default.createElement("a",{className:n,onClick:this.doSubmit},_.default.createElement(w.FormattedMessage,{id:"setting_upload.import",defaultMessage:"Import"})),a,t,e))))}}]),t}(_.default.Component);t.default=C,C.propTypes={title:v.default.string.isRequired,submit:v.default.func.isRequired,fileTypesAccepted:v.default.string.isRequired,clientError:v.default.string,serverError:v.default.string,helpText:v.default.object}},function(e,t,a){e.exports=a.p+"files/f89e113dbd8096fa76dd9ecca67ea57c.gif"},function(e,t,a){e.exports=a.p+"files/f5a93efd142cd455d2f3d2b6cfa0e17e.gif"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(215),v=a(214),b=a(1155),_=n(b),y=a(12),E=n(y),w=E.default.ActionTypes,C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleOnHide=function(){a.setState({show:!1})},a.updateShow=a.updateShow.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleChange=a.handleChange.bind(a),a.state={value:"",inputError:"",show:!1,callback:null},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){_.default.addModalListener(w.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}},{key:"componentWillUnmount",value:function(){_.default.removeModalListener(w.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}},{key:"updateShow",value:function(e,t){this.setState({show:e,callback:t.callback})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.value;if(!this.isInputValid(t))return void this.setState({inputError:m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})});var a=t.split(","),n={type:"custom"};n.sidebarBg=a[0],n.sidebarText=a[5],n.sidebarUnreadText=a[5],n.sidebarTextHoverBg=a[4],n.sidebarTextActiveBorder=a[2],n.sidebarTextActiveColor=a[3],n.sidebarHeaderBg=a[1],n.sidebarHeaderTextColor=a[5],n.onlineIndicator=a[6],n.awayIndicator="#E0B333",n.mentionBg=a[7],n.mentionColor="#ffffff",n.centerChannelBg="#ffffff",n.centerChannelColor="#333333",n.newMessageSeparator="#F80",n.linkColor="#2389d7",n.buttonBg="#26a970",n.buttonColor="#ffffff",n.mentionHighlightBg="#fff2bb",n.mentionHighlightLink="#2f81b7",n.codeTheme="github",this.state.callback(n),this.setState({show:!1,callback:null})}},{key:"isInputValid",value:function(e){if(0===e.length)return!1;if(-1!==e.indexOf(" "))return!1;if(e.length>0&&-1===e.indexOf(","))return!1;if(e.length>0){var t=e.split(",");if(8!==t.length)return!1;for(var a=0;a<t.length;a++){if(7!==t[a].length&&4!==t[a].length)return!1;if("#"!==t[a].charAt(0))return!1}}return!0}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.isInputValid(t)?this.setState({inputError:null}):this.setState({inputError:m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})})}},{key:"render",value:function(){return m.default.createElement("span",null,m.default.createElement(g.Modal,{show:this.state.show,onHide:this.handleOnHide},m.default.createElement(g.Modal.Header,{closeButton:!0},m.default.createElement(g.Modal.Title,null,m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.importHeader",defaultMessage:"Import Slack Theme"}))),m.default.createElement("form",{role:"form",className:"form-horizontal"},m.default.createElement(g.Modal.Body,null,m.default.createElement("p",null,m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.importBody",defaultMessage:'To import a theme, go to a Slack team and look for "Preferences -> Sidebar Theme". Open the custom theme option, copy the theme color values and paste them here:'})),m.default.createElement("div",{className:"form-group less"},m.default.createElement("div",{className:"col-sm-12"},m.default.createElement("input",{id:"themeVector",type:"text",className:"form-control",value:this.state.value,onChange:this.handleChange}),m.default.createElement("div",{className:"input__help"},this.state.inputError)))),m.default.createElement(g.Modal.Footer,null,m.default.createElement("button",{id:"cancelButton",type:"button",className:"btn btn-default",onClick:this.handleOnHide},m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.cancel",defaultMessage:"Cancel"})),m.default.createElement("button",{id:"submitButton",onClick:this.handleSubmit,type:"submit",className:"btn btn-primary",tabIndex:"3"},m.default.createElement(v.FormattedMessage,{id:"user.settings.import_theme.submit",defaultMessage:"Submit"}))))))}}]),t}(m.default.Component);t.default=C},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(0),v=n(g),b=a(215),_=a(39),y=n(_),E=a(214),w=a(1155),C=n(w),x=a(42),M=n(x),S=a(12),k=n(S),T=a(47),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(T),N=a(1144),O=n(N),I=a(463),R=a(1905),A=n(R),L=a(1369),D=n(L),F=(0,E.defineMessages)({general:{id:"user.settings.modal.general",defaultMessage:"General"},security:{id:"user.settings.modal.security",defaultMessage:"Security"},notifications:{id:"user.settings.modal.notifications",defaultMessage:"Notifications"},display:{id:"user.settings.modal.display",defaultMessage:"Display"},sidebar:{id:"user.settings.modal.sidebar",defaultMessage:"Sidebar"},advanced:{id:"user.settings.modal.advanced",defaultMessage:"Advanced"},confirmTitle:{id:"user.settings.modal.confirmTitle",defaultMessage:"Discard Changes?"},confirmMsg:{id:"user.settings.modal.confirmMsg",defaultMessage:"You have unsaved changes, are you sure you want to discard them?"},confirmBtns:{id:"user.settings.modal.confirmBtns",defaultMessage:"Yes, Discard"}}),U=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.handleHide=t.handleHide.bind(t),t.handleHidden=t.handleHidden.bind(t),t.handleCollapse=t.handleCollapse.bind(t),t.handleConfirm=t.handleConfirm.bind(t),t.handleCancelConfirmation=t.handleCancelConfirmation.bind(t),t.handleToggle=t.handleToggle.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.closeModal=t.closeModal.bind(t),t.collapseModal=t.collapseModal.bind(t),t.updateTab=t.updateTab.bind(t),t.updateSection=t.updateSection.bind(t),t.onUserChanged=t.onUserChanged.bind(t),t.state={active_tab:"general",active_section:"",showConfirmModal:!1,enforceFocus:!0,currentUser:M.default.getCurrentUser(),show:!1},t.requireConfirm=!1,t.mounted=!1,t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"onUserChanged",value:function(){this.mounted&&this.setState({currentUser:M.default.getCurrentUser()})}},{key:"componentDidMount",value:function(){this.mounted=!0,M.default.addChangeListener(this.onUserChanged),C.default.addModalListener(k.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL,this.handleToggle),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,C.default.removeModalListener(k.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL,this.handleToggle),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){M.default.removeChangeListener(this.onUserChanged),P.isMobile()||(0,m.default)(".settings-content .minimize-settings").perfectScrollbar("update")}},{key:"handleKeyDown",value:function(e){P.cmdOrCtrlPressed(e)&&e.shiftKey&&e.keyCode===k.default.KeyCodes.A&&this.setState({show:!this.state.show})}},{key:"handleToggle",value:function(e){this.setState({show:e})}},{key:"handleHide",value:function(){var e=this;if(this.requireConfirm)return this.afterConfirm=function(){return e.handleHide()},void this.showConfirmModal();this.setState({show:!1})}},{key:"handleHidden",value:function(){this.setState({active_tab:"general",active_section:""})}},{key:"handleCollapse",value:function(){(0,m.default)(y.default.findDOMNode(this.refs.modalBody)).closest(".modal-dialog").removeClass("display--content"),this.setState({active_tab:"",active_section:""})}},{key:"handleConfirm",value:function(){this.setState({showConfirmModal:!1,enforceFocus:!0}),this.requireConfirm=!1,this.afterConfirm&&(this.afterConfirm(),this.afterConfirm=null)}},{key:"handleCancelConfirmation",value:function(){this.setState({showConfirmModal:!1,enforceFocus:!0}),this.afterConfirm=null}},{key:"showConfirmModal",value:function(e){this.setState({showConfirmModal:!0,enforceFocus:!1}),e&&(this.afterConfirm=e)}},{key:"closeModal",value:function(){this.requireConfirm?this.showConfirmModal(this.closeModal):this.handleHide()}},{key:"collapseModal",value:function(){this.requireConfirm?this.showConfirmModal(this.collapseModal):this.handleCollapse()}},{key:"updateTab",value:function(e,t){var a=this;!t&&this.requireConfirm?this.showConfirmModal(function(){return a.updateTab(e,!0)}):this.setState({active_tab:e,active_section:""})}},{key:"updateSection",value:function(e,t){var a=this;!t&&this.requireConfirm?this.showConfirmModal(function(){return a.updateSection(e,!0)}):this.setState({active_section:e})}},{key:"render",value:function(){var t=this,a=this.props.intl.formatMessage;if(null==this.state.currentUser)return v.default.createElement("div",null);var n=[];return n.push({name:"general",uiName:a(F.general),icon:"icon fa fa-gear"}),n.push({name:"security",uiName:a(F.security),icon:"icon fa fa-lock"}),n.push({name:"notifications",uiName:a(F.notifications),icon:"icon fa fa-exclamation-circle"}),n.push({name:"display",uiName:a(F.display),icon:"icon fa fa-eye"}),"true"!==e.mm_config.CloseUnusedDirectMessages&&"true"!==e.mm_config.ExperimentalGroupUnreadChannels||n.push({name:"sidebar",uiName:a(F.sidebar),icon:"icon fa fa-columns"}),n.push({name:"advanced",uiName:a(F.advanced),icon:"icon fa fa-list-alt"}),v.default.createElement(b.Modal,{id:"accountSettingsModal",dialogClassName:"settings-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHidden,enforceFocus:this.state.enforceFocus},v.default.createElement(b.Modal.Header,{id:"accountSettingsHeader",closeButton:!0},v.default.createElement(b.Modal.Title,{id:"accountSettingsTitle"},v.default.createElement(E.FormattedMessage,{id:"user.settings.modal.title",defaultMessage:"Account Settings"}))),v.default.createElement(b.Modal.Body,{ref:"modalBody"},v.default.createElement("div",{className:"settings-table"},v.default.createElement("div",{className:"settings-links"},v.default.createElement(I.AsyncComponent,{doLoad:D.default,tabs:n,activeTab:this.state.active_tab,updateTab:this.updateTab})),v.default.createElement("div",{className:"settings-content minimize-settings"},v.default.createElement(I.AsyncComponent,{doLoad:A.default,ref:"userSettings",activeTab:this.state.active_tab,activeSection:this.state.active_section,updateSection:this.updateSection,updateTab:this.updateTab,closeModal:this.closeModal,collapseModal:this.collapseModal,setEnforceFocus:function(e){return t.setState({enforceFocus:e})},setRequireConfirm:function(e){t.requireConfirm=e}})))),v.default.createElement(O.default,{title:a(F.confirmTitle),message:a(F.confirmMsg),confirmButtonText:a(F.confirmBtns),show:this.state.showConfirmModal,onConfirm:this.handleConfirm,onCancel:this.handleCancelConfirmation}))}}]),a}(v.default.Component);U.propTypes={intl:E.intlShape.isRequired},t.default=(0,E.injectIntl)(U)}).call(t,a(22))},function(e,t,a){e.exports=function(e){a.e(3).then(function(t){e(a(1906))}.bind(null,a)).catch(a.oe)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(0),o=n(i),s=a(1131),l=n(s),u=a(1139),d=a(2073),c=n(d),f=t.AlphaPicker=function(e){var t=e.rgb,a=e.hsl,n=e.width,i=e.height,s=e.onChange,d=e.direction,c=e.style,f=e.renderers,p=e.pointer,h=e.className,m=void 0===h?"":h,g=(0,l.default)({default:{picker:{position:"relative",width:n,height:i},alpha:{radius:"2px",style:c}}});return o.default.createElement("div",{style:g.picker,className:"alpha-picker "+m},o.default.createElement(u.Alpha,r({},g.alpha,{rgb:t,hsl:a,pointer:p,renderers:f,onChange:s,direction:d})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:c.default},t.default=(0,u.ColorWrap)(f)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=a(1956),i=n(r),o=a(1303),s=n(o),l=a(1967),u=n(l),d=a(1173),c=n(d),f=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return(0,c.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return a.push(e)}):(0,u.default)(t)?(0,s.default)(t,function(e,t){!0===e&&a.push(t),a.push(t+"-"+e)}):(0,i.default)(t)&&a.push(t)}),a};t.default=f},function(e,t,a){function n(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==s}var r=a(1181),i=a(1154),o=a(1182),s="[object String]";e.exports=n},function(e,t,a){var n=a(1958),r=n();e.exports=r},function(e,t){function a(e){return function(t,a,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===a(i[l],l,i))break}return t}}e.exports=a},function(e,t){function a(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}e.exports=a},function(e,t,a){function n(e){return i(e)&&r(e)==o}var r=a(1181),i=a(1182),o="[object Arguments]";e.exports=n},function(e,t){function a(){return!1}e.exports=a},function(e,t,a){function n(e){return o(e)&&i(e.length)&&!!s[r(e)]}var r=a(1181),i=a(1305),o=a(1182),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=n},function(e,t){function a(e){return function(t){return e(t)}}e.exports=a},function(e,t,a){(function(e){var n=a(1326),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,a(462)(e))},function(e,t,a){function n(e){if(!r(e))return i(e);var t=[];for(var a in Object(e))s.call(e,a)&&"constructor"!=a&&t.push(a);return t}var r=a(1306),i=a(1966),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,a){var n=a(1405),r=n(Object.keys,Object);e.exports=r},function(e,t,a){function n(e){if(!o(e)||r(e)!=s)return!1;var t=i(e);if(null===t)return!0;var a=c.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&d.call(a)==f}var r=a(1181),i=a(1307),o=a(1182),s="[object Object]",l=Function.prototype,u=Object.prototype,d=l.toString,c=u.hasOwnProperty,f=d.call(Object);e.exports=n},function(e,t,a){function n(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):l(e)}var r=a(1969),i=a(2011),o=a(1408),s=a(1154),l=a(2021);e.exports=n},function(e,t,a){function n(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(a){return a===e||r(a,e,t)}}var r=a(1970),i=a(2010),o=a(1422);e.exports=n},function(e,t,a){function n(e,t,a,n){var l=a.length,u=l,d=!n;if(null==e)return!u;for(e=Object(e);l--;){var c=a[l];if(d&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<u;){c=a[l];var f=c[0],p=e[f],h=c[1];if(d&&c[2]){if(void 0===p&&!(f in e))return!1}else{var m=new r;if(n)var g=n(p,h,f,e,t,m);if(!(void 0===g?i(h,p,o|s,n,m):g))return!1}}return!0}var r=a(1308),i=a(1411),o=1,s=2;e.exports=n},function(e,t){function a(){this.__data__=[],this.size=0}e.exports=a},function(e,t,a){function n(e){var t=this.__data__,a=r(t,e);return!(a<0)&&(a==t.length-1?t.pop():o.call(t,a,1),--this.size,!0)}var r=a(1241),i=Array.prototype,o=i.splice;e.exports=n},function(e,t,a){function n(e){var t=this.__data__,a=r(t,e);return a<0?void 0:t[a][1]}var r=a(1241);e.exports=n},function(e,t,a){function n(e){return r(this.__data__,e)>-1}var r=a(1241);e.exports=n},function(e,t,a){function n(e,t){var a=this.__data__,n=r(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this}var r=a(1241);e.exports=n},function(e,t,a){function n(){this.__data__=new r,this.size=0}var r=a(1240);e.exports=n},function(e,t){function a(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}e.exports=a},function(e,t){function a(e){return this.__data__.get(e)}e.exports=a},function(e,t){function a(e){return this.__data__.has(e)}e.exports=a},function(e,t,a){function n(e,t){var a=this.__data__;if(a instanceof r){var n=a.__data__;if(!i||n.length<s-1)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new o(n)}return a.set(e,t),this.size=a.size,this}var r=a(1240),i=a(1310),o=a(1311),s=200;e.exports=n},function(e,t,a){function n(e){return!(!o(e)||i(e))&&(r(e)?h:u).test(s(e))}var r=a(1406),i=a(1982),o=a(1166),s=a(1410),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,d=Function.prototype,c=Object.prototype,f=d.toString,p=c.hasOwnProperty,h=RegExp("^"+f.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,a){function n(e){return!!i&&i in e}var r=a(1983),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t,a){var n=a(1156),r=n["__core-js_shared__"];e.exports=r},function(e,t){function a(e,t){return null==e?void 0:e[t]}e.exports=a},function(e,t,a){function n(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}var r=a(1986),i=a(1240),o=a(1310);e.exports=n},function(e,t,a){function n(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}var r=a(1987),i=a(1988),o=a(1989),s=a(1990),l=a(1991);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=o,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,a){function n(){this.__data__=r?r(null):{},this.size=0}var r=a(1242);e.exports=n},function(e,t){function a(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=a},function(e,t,a){function n(e){var t=this.__data__;if(r){var a=t[e];return a===i?void 0:a}return s.call(t,e)?t[e]:void 0}var r=a(1242),i="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,a){function n(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}var r=a(1242),i=Object.prototype,o=i.hasOwnProperty;e.exports=n},function(e,t,a){function n(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=r&&void 0===t?i:t,this}var r=a(1242),i="__lodash_hash_undefined__";e.exports=n},function(e,t,a){function n(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=a(1243);e.exports=n},function(e,t){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},function(e,t,a){function n(e){return r(this,e).get(e)}var r=a(1243);e.exports=n},function(e,t,a){function n(e){return r(this,e).has(e)}var r=a(1243);e.exports=n},function(e,t,a){function n(e,t){var a=r(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this}var r=a(1243);e.exports=n},function(e,t,a){function n(e,t,a,n,g,b){var _=u(e),y=u(t),E=_?h:l(e),w=y?h:l(t);E=E==p?m:E,w=w==p?m:w;var C=E==m,x=w==m,M=E==w;if(M&&d(e)){if(!d(t))return!1;_=!0,C=!1}if(M&&!C)return b||(b=new r),_||c(e)?i(e,t,a,n,g,b):o(e,t,E,a,n,g,b);if(!(a&f)){var S=C&&v.call(e,"__wrapped__"),k=x&&v.call(t,"__wrapped__");if(S||k){var T=S?e.value():e,P=k?t.value():t;return b||(b=new r),g(T,P,a,n,b)}}return!!M&&(b||(b=new r),s(e,t,a,n,g,b))}var r=a(1308),i=a(1412),o=a(2003),s=a(2004),l=a(1420),u=a(1154),d=a(1304),c=a(1404),f=1,p="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;e.exports=n},function(e,t,a){function n(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new r;++t<a;)this.add(e[t])}var r=a(1311),i=a(1999),o=a(2e3);n.prototype.add=n.prototype.push=i,n.prototype.has=o,e.exports=n},function(e,t){function a(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=a},function(e,t){function a(e){return this.__data__.has(e)}e.exports=a},function(e,t){function a(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}e.exports=a},function(e,t){function a(e,t){return e.has(t)}e.exports=a},function(e,t,a){function n(e,t,a,n,r,C,M){switch(a){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!C(new i(e),new i(t)));case f:case p:case g:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case _:return e==t+"";case m:var S=l;case b:var k=n&d;if(S||(S=u),e.size!=t.size&&!k)return!1;var T=M.get(e);if(T)return T==t;n|=c,M.set(e,t);var P=s(S(e),S(t),n,r,C,M);return M.delete(e),P;case y:if(x)return x.call(e)==x.call(t)}return!1}var r=a(1203),i=a(1413),o=a(1309),s=a(1412),l=a(1414),u=a(1415),d=1,c=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",_="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",w="[object DataView]",C=r?r.prototype:void 0,x=C?C.valueOf:void 0;e.exports=n},function(e,t,a){function n(e,t,a,n,o,l){var u=a&i,d=r(e),c=d.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var p=d[f];if(!(u?p in t:s.call(t,p)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=u;++f<c;){p=d[f];var v=e[p],b=t[p];if(n)var _=u?n(b,v,p,t,e,l):n(v,b,p,e,t,l);if(!(void 0===_?v===b||o(v,b,a,n,l):_)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var y=e.constructor,E=t.constructor;y!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof E&&E instanceof E)&&(m=!1)}return l.delete(e),l.delete(t),m}var r=a(1416),i=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t){function a(e,t){for(var a=-1,n=null==e?0:e.length,r=0,i=[];++a<n;){var o=e[a];t(o,a,e)&&(i[r++]=o)}return i}e.exports=a},function(e,t,a){var n=a(1188),r=a(1156),i=n(r,"DataView");e.exports=i},function(e,t,a){var n=a(1188),r=a(1156),i=n(r,"Promise");e.exports=i},function(e,t,a){var n=a(1188),r=a(1156),i=n(r,"Set");e.exports=i},function(e,t,a){var n=a(1188),r=a(1156),i=n(r,"WeakMap");e.exports=i},function(e,t,a){function n(e){for(var t=i(e),a=t.length;a--;){var n=t[a],o=e[n];t[a]=[n,o,r(o)]}return t}var r=a(1421),i=a(1211);e.exports=n},function(e,t,a){function n(e,t){return s(e)&&l(t)?u(d(e),t):function(a){var n=i(a,e);return void 0===n&&n===t?o(a,e):r(t,n,c|f)}}var r=a(1411),i=a(2012),o=a(2018),s=a(1313),l=a(1421),u=a(1422),d=a(1244),c=1,f=2;e.exports=n},function(e,t,a){function n(e,t,a){var n=null==e?void 0:r(e,t);return void 0===n?a:n}var r=a(1423);e.exports=n},function(e,t,a){var n=a(2014),r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(i,function(e,a,n,r){t.push(n?r.replace(o,"$1"):a||e)}),t});e.exports=s},function(e,t,a){function n(e){var t=r(e,function(e){return a.size===i&&a.clear(),e}),a=t.cache;return t}var r=a(2015),i=500;e.exports=n},function(e,t,a){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var o=e.apply(this,n);return a.cache=i.set(r,o)||i,o};return a.cache=new(n.Cache||r),a}var r=a(1311),i="Expected a function";n.Cache=r,e.exports=n},function(e,t,a){function n(e){return null==e?"":r(e)}var r=a(2017);e.exports=n},function(e,t,a){function n(e){if("string"==typeof e)return e;if(o(e))return i(e,n)+"";if(s(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=a(1203),i=a(1409),o=a(1154),s=a(1220),l=1/0,u=r?r.prototype:void 0,d=u?u.toString:void 0;e.exports=n},function(e,t,a){function n(e,t){return null!=e&&i(e,t,r)}var r=a(2019),i=a(2020);e.exports=n},function(e,t){function a(e,t){return null!=e&&t in Object(e)}e.exports=a},function(e,t,a){function n(e,t,a){t=r(t,e);for(var n=-1,d=t.length,c=!1;++n<d;){var f=u(t[n]);if(!(c=null!=e&&a(e,f)))break;e=e[f]}return c||++n!=d?c:!!(d=null==e?0:e.length)&&l(d)&&s(f,d)&&(o(e)||i(e))}var r=a(1424),i=a(1402),o=a(1154),s=a(1403),l=a(1305),u=a(1244);e.exports=n},function(e,t,a){function n(e){return o(e)?r(s(e)):i(e)}var r=a(2022),i=a(2023),o=a(1313),s=a(1244);e.exports=n},function(e,t){function a(e){return function(t){return null==t?void 0:t[e]}}e.exports=a},function(e,t,a){function n(e){return function(t){return r(t,e)}}var r=a(1423);e.exports=n},function(e,t,a){function n(e,t){var a=-1,n=i(e)?Array(e.length):[];return r(e,function(e,r,i){n[++a]=t(e,r,i)}),n}var r=a(1425),i=a(1239);e.exports=n},function(e,t,a){function n(e,t){return function(a,n){if(null==a)return a;if(!r(a))return e(a,n);for(var i=a.length,o=t?i:-1,s=Object(a);(t?o--:++o<i)&&!1!==n(s[o],o,s););return a}}var r=a(1239);e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(1303),i=n(r),o=a(2027),s=n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.default&&(0,s.default)(e.default)||{};return t.map(function(t){var n=e[t];return n&&(0,i.default)(n,function(e,t){a[t]||(a[t]={}),a[t]=l({},a[t],n[t])}),t}),a};t.default=u},function(e,t,a){function n(e){return r(e,i|o)}var r=a(2028),i=1,o=4;e.exports=n},function(e,t,a){function n(e,t,a,O,I,R){var A,L=t&C,D=t&x,F=t&M;if(a&&(A=I?a(e,O,I,R):a(e)),void 0!==A)return A;if(!E(e))return e;var U=_(e);if(U){if(A=g(e),!L)return d(e,A)}else{var j=m(e),H=j==k||j==T;if(y(e))return u(e,L);if(j==P||j==S||H&&!I){if(A=D||H?{}:b(e),!L)return D?f(e,l(A,e)):c(e,s(A,e))}else{if(!N[j])return I?e:{};A=v(e,j,n,L)}}R||(R=new r);var B=R.get(e);if(B)return B;R.set(e,A);var q=F?D?h:p:D?keysIn:w,z=U?void 0:q(e);return i(z||e,function(r,i){z&&(i=r,r=e[i]),o(A,i,n(r,t,a,i,e,R))}),A}var r=a(1308),i=a(1426),o=a(1427),s=a(2030),l=a(2031),u=a(2034),d=a(2035),c=a(2036),f=a(2037),p=a(1416),h=a(2038),m=a(1420),g=a(2039),v=a(2040),b=a(2049),_=a(1154),y=a(1304),E=a(1166),w=a(1211),C=1,x=2,M=4,S="[object Arguments]",k="[object Function]",T="[object GeneratorFunction]",P="[object Object]",N={};N[S]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[P]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[k]=N["[object WeakMap]"]=!1,e.exports=n},function(e,t,a){var n=a(1188),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,a){function n(e,t){return e&&r(t,i(t),e)}var r=a(1245),i=a(1211);e.exports=n},function(e,t,a){function n(e,t){return e&&r(t,i(t),e)}var r=a(1245),i=a(1429);e.exports=n},function(e,t,a){function n(e){if(!r(e))return o(e);var t=i(e),a=[];for(var n in e)("constructor"!=n||!t&&l.call(e,n))&&a.push(n);return a}var r=a(1166),i=a(1306),o=a(2033),s=Object.prototype,l=s.hasOwnProperty;e.exports=n},function(e,t){function a(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}e.exports=a},function(e,t,a){(function(e){function n(e,t){if(t)return e.slice();var a=e.length,n=u?u(a):new e.constructor(a);return e.copy(n),n}var r=a(1156),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s?r.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=n}).call(t,a(462)(e))},function(e,t){function a(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}e.exports=a},function(e,t,a){function n(e,t){return r(e,i(e),t)}var r=a(1245),i=a(1312);e.exports=n},function(e,t,a){function n(e,t){return r(e,i(e),t)}var r=a(1245),i=a(1430);e.exports=n},function(e,t,a){function n(e){return r(e,o,i)}var r=a(1417),i=a(1430),o=a(1429);e.exports=n},function(e,t){function a(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var n=Object.prototype,r=n.hasOwnProperty;e.exports=a},function(e,t,a){function n(e,t,a,n){var N=e.constructor;switch(t){case _:return r(e);case c:case f:return new N(+e);case y:return i(e,n);case E:case w:case C:case x:case M:case S:case k:case T:case P:return d(e,n);case p:return o(e,n,a);case h:case v:return new N(e);case m:return s(e);case g:return l(e,n,a);case b:return u(e)}}var r=a(1314),i=a(2041),o=a(2042),s=a(2044),l=a(2045),u=a(2047),d=a(2048),c="[object Boolean]",f="[object Date]",p="[object Map]",h="[object Number]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",x="[object Int16Array]",M="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]";e.exports=n},function(e,t,a){function n(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var r=a(1314);e.exports=n},function(e,t,a){function n(e,t,a){var n=t?a(o(e),s):o(e);return i(n,r,new e.constructor)}var r=a(2043),i=a(1431),o=a(1414),s=1;e.exports=n},function(e,t){function a(e,t){return e.set(t[0],t[1]),e}e.exports=a},function(e,t){function a(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=a},function(e,t,a){function n(e,t,a){var n=t?a(o(e),s):o(e);return i(n,r,new e.constructor)}var r=a(2046),i=a(1431),o=a(1415),s=1;e.exports=n},function(e,t){function a(e,t){return e.add(t),e}e.exports=a},function(e,t,a){function n(e){return o?Object(o.call(e)):{}}var r=a(1203),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=n},function(e,t,a){function n(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var r=a(1314);e.exports=n},function(e,t,a){function n(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}var r=a(2050),i=a(1307),o=a(1306);e.exports=n},function(e,t,a){var n=a(1166),r=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var n=a(1303),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var a=t[e];return a||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,r.default)(e,function(e,a){var n={};(0,r.default)(e,function(e,t){var a=o[t];a?n=i({},n,a(e)):n[t]=e}),t[a]=n}),t};t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function s(){var a,i,u,d;n(this,s);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return i=u=r(this,(a=s.__proto__||Object.getPrototypeOf(s)).call.apply(a,[this].concat(f))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return l.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},l.default.createElement(e,o({},u.props,u.state)))},d=i,r(u,d)}return i(s,a),s}(l.default.Component)};t.default=u},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function s(){var a,i,u,d;n(this,s);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return i=u=r(this,(a=s.__proto__||Object.getPrototypeOf(s)).call.apply(a,[this].concat(f))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return l.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},l.default.createElement(e,o({},u.props,u.state)))},d=i,r(u,d)}return i(s,a),s}(l.default.Component)};t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var a={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),a};t.default=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=a(1131),f=n(c),p=a(2056),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(p),m=a(1432),g=n(m),v=t.Alpha=function(e){function t(){var e,a,n,o;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleChange=function(e,t){var a=h.calculateChange(e,t,n.props,n.container);a&&n.props.onChange&&n.props.onChange(a,e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},o=a,i(n,o)}return o(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,a=(0,f.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden"},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:s({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return d.default.createElement("div",{style:a.alpha},d.default.createElement("div",{style:a.checkboard},d.default.createElement(g.default,{renderers:this.props.renderers})),d.default.createElement("div",{style:a.gradient}),d.default.createElement("div",{style:a.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},d.default.createElement("div",{style:a.pointer},this.props.pointer?d.default.createElement(this.props.pointer,this.props):d.default.createElement("div",{style:a.slider}))))}}]),t}(u.PureComponent||u.Component);t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.clientWidth,i=n.clientHeight,o="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(n.getBoundingClientRect().left+window.pageXOffset),u=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===a.direction){var d=void 0;if(d=u<0?0:u>i?1:Math.round(100*u/i)/100,a.hsl.a!==d)return{h:a.hsl.h,s:a.hsl.s,l:a.hsl.l,a:d,source:"rgb"}}else{var c=void 0;if(c=l<0?0:l>r?1:Math.round(100*l/r)/100,a.a!==c)return{h:a.hsl.h,s:a.hsl.s,l:a.hsl.l,a:c,source:"rgb"}}return null}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=t.render=function(e,t,a,n){if("undefined"==typeof document&&!n)return null;var r=n?new n:document.createElement("canvas");r.width=2*a,r.height=2*a;var i=r.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,r.width,r.height),i.fillStyle=t,i.fillRect(0,0,a,a),i.translate(a,a),i.fillRect(0,0,a,a),r.toDataURL()):null};t.get=function(e,t,a,i){var o=e+"-"+t+"-"+a+(i?"-server":""),s=r(e,t,a,i);return n[o]?n[o]:(n[o]=s,s)}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=a(1131),f=n(c),p=t.EditableInput=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.handleBlur=function(){a.state.blurValue&&a.setState({value:a.state.blurValue,blurValue:null})},a.handleChange=function(e){a.props.label?a.props.onChange&&a.props.onChange(r({},a.props.label,e.target.value),e):a.props.onChange&&a.props.onChange(e.target.value,e),a.setState({value:e.target.value})},a.handleKeyDown=function(e){var t=String(e.target.value),n=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=a.props.arrowOffset||1;38===e.keyCode&&(null!==a.props.label?a.props.onChange&&a.props.onChange(r({},a.props.label,i+o),e):a.props.onChange&&a.props.onChange(i+o,e),n?a.setState({value:i+o+"%"}):a.setState({value:i+o})),40===e.keyCode&&(null!==a.props.label?a.props.onChange&&a.props.onChange(r({},a.props.label,i-o),e):a.props.onChange&&a.props.onChange(i-o,e),n?a.setState({value:i-o+"%"}):a.setState({value:i-o}))}},a.handleDrag=function(e){if(a.props.dragLabel){var t=Math.round(a.props.value+e.movementX);t>=0&&t<=a.props.dragMax&&a.props.onChange&&a.props.onChange(r({},a.props.label,t),e)}},a.handleMouseDown=function(e){a.props.dragLabel&&(e.preventDefault(),a.handleDrag(e),window.addEventListener("mousemove",a.handleDrag),window.addEventListener("mouseup",a.handleMouseUp))},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleDrag),window.removeEventListener("mouseup",a.handleMouseUp)},a.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},a}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,f.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return d.default.createElement("div",{style:t.wrap},d.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label?d.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(u.PureComponent||u.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),u=n(l),d=a(1131),c=n(d),f=a(2060),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(f),h=t.Hue=function(e){function t(){var e,a,n,o;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleChange=function(e,t){var a=p.calculateChange(e,t,n.props,n.container);a&&n.props.onChange&&n.props.onChange(a,e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},o=a,i(n,o)}return o(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,a=void 0===t?"horizontal":t,n=(0,c.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%"},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===a});return u.default.createElement("div",{style:n.hue},u.default.createElement("div",{className:"hue-"+a,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),u.default.createElement("div",{style:n.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:n.slider}))))}}]),t}(l.PureComponent||l.Component);t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.clientWidth,i=n.clientHeight,o="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(n.getBoundingClientRect().left+window.pageXOffset),u=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===a.direction){var d=void 0;if(u<0)d=359;else if(u>i)d=0;else{var c=-100*u/i+100;d=360*c/100}if(a.hsl.h!==d)return{h:d,s:a.hsl.s,l:a.hsl.l,a:a.hsl.a,source:"rgb"}}else{var f=void 0;if(l<0)f=0;else if(l>r)f=359;else{var p=100*l/r;f=360*p/100}if(a.hsl.h!==f)return{h:f,s:a.hsl.s,l:a.hsl.l,a:a.hsl.a,source:"rgb"}}return null}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=t.Raised=function(e){var t=e.zDepth,a=e.radius,n=e.background,r=e.children,o=(0,u.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:a,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return i.default.createElement("div",{style:o.wrap},i.default.createElement("div",{style:o.bg}),i.default.createElement("div",{style:o.content},r))};d.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number},d.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=d},function(e,t,a){"use strict";var n=a(2063),r=a(2064),i=a(2065);e.exports=function(){function e(e,t,a,n,o,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";function n(e,t,a,n,i,o,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,n,i,o,s,l],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=n},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),u=n(l),d=a(1131),c=n(d),f=a(1325),p=n(f),h=a(2067),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(h),g=t.Saturation=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e,t){a.props.onChange&&a.throttle(a.props.onChange,m.calculateChange(e,t,a.props,a.container),e)},a.handleMouseDown=function(e){a.handleChange(e,!0),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.throttle=(0,p.default)(function(e,t,a){e(t,a)},50),a}return o(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},a=t.color,n=t.white,r=t.black,i=t.pointer,o=t.circle,s=(0,c.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:n,black:r,pointer:i,circle:o}},{custom:!!this.props.style});return u.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),u.default.createElement("div",{style:s.white,className:"saturation-white"},u.default.createElement("div",{style:s.black,className:"saturation-black"}),u.default.createElement("div",{style:s.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:s.circle}))))}}]),t}(l.PureComponent||l.Component);t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.getBoundingClientRect(),i=r.width,o=r.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),d=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i?u=i:d<0?d=0:d>o&&(d=o);var c=100*u/i,f=-100*d/o+100;return{h:a.hsl.h,s:c,v:f,a:a.hsl.a,source:"rgb"}}},function(e,t,a){e.exports=a(2069)},function(e,t,a){function n(e,t){return(s(e)?r:i)(e,o(t))}var r=a(1426),i=a(1425),o=a(1407),s=a(1154);e.exports=n},function(e,t,a){var n;!function(r){function i(e,t){if(e=e||"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var a=o(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=G(100*this._a)/100,this._format=t.format||a.format,this._gradientType=t.gradientType,this._r<1&&(this._r=G(this._r)),this._g<1&&(this._g=G(this._g)),this._b<1&&(this._b=G(this._b)),this._ok=a.ok,this._tc_id=z++}function o(e){var t={r:0,g:0,b:0},a=1,n=null,r=null,i=null,o=!1,l=!1;return"string"==typeof e&&(e=j(e)),"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(t=s(e.r,e.g,e.b),o=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(n=L(e.s),r=L(e.v),t=c(e.h,n,r),o=!0,l="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(n=L(e.s),i=L(e.l),t=u(e.h,n,i),o=!0,l="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=T(a),{ok:o,format:e.format||l,r:W(255,V(t.r,0)),g:W(255,V(t.g,0)),b:W(255,V(t.b,0)),a:a}}function s(e,t,a){return{r:255*P(e,255),g:255*P(t,255),b:255*P(a,255)}}function l(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,i=V(e,t,a),o=W(e,t,a),s=(i+o)/2;if(i==o)n=r=0;else{var l=i-o;switch(r=s>.5?l/(2-i-o):l/(i+o),i){case e:n=(t-a)/l+(t<a?6:0);break;case t:n=(a-e)/l+2;break;case a:n=(e-t)/l+4}n/=6}return{h:n,s:r,l:s}}function u(e,t,a){function n(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}var r,i,o;if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)r=i=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,l=2*a-s;r=n(l,s,e+1/3),i=n(l,s,e),o=n(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function d(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,i=V(e,t,a),o=W(e,t,a),s=i,l=i-o;if(r=0===i?0:l/i,i==o)n=0;else{switch(i){case e:n=(t-a)/l+(t<a?6:0);break;case t:n=(a-e)/l+2;break;case a:n=(e-t)/l+4}n/=6}return{h:n,s:r,v:s}}function c(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=r.floor(e),i=e-n,o=a*(1-t),s=a*(1-i*t),l=a*(1-(1-i)*t),u=n%6;return{r:255*[a,s,o,o,l,a][u],g:255*[l,a,a,s,o,o][u],b:255*[o,o,l,a,a,s][u]}}function f(e,t,a,n){var r=[A(G(e).toString(16)),A(G(t).toString(16)),A(G(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function p(e,t,a,n,r){var i=[A(G(e).toString(16)),A(G(t).toString(16)),A(G(a).toString(16)),A(D(n))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function h(e,t,a,n){return[A(D(n)),A(G(e).toString(16)),A(G(t).toString(16)),A(G(a).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var a=i(e).toHsl();return a.s-=t/100,a.s=N(a.s),i(a)}function g(e,t){t=0===t?0:t||10;var a=i(e).toHsl();return a.s+=t/100,a.s=N(a.s),i(a)}function v(e){return i(e).desaturate(100)}function b(e,t){t=0===t?0:t||10;var a=i(e).toHsl();return a.l+=t/100,a.l=N(a.l),i(a)}function _(e,t){t=0===t?0:t||10;var a=i(e).toRgb();return a.r=V(0,W(255,a.r-G(-t/100*255))),a.g=V(0,W(255,a.g-G(-t/100*255))),a.b=V(0,W(255,a.b-G(-t/100*255))),i(a)}function y(e,t){t=0===t?0:t||10;var a=i(e).toHsl();return a.l-=t/100,a.l=N(a.l),i(a)}function E(e,t){var a=i(e).toHsl(),n=(a.h+t)%360;return a.h=n<0?360+n:n,i(a)}function w(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function C(e){var t=i(e).toHsl(),a=t.h;return[i(e),i({h:(a+120)%360,s:t.s,l:t.l}),i({h:(a+240)%360,s:t.s,l:t.l})]}function x(e){var t=i(e).toHsl(),a=t.h;return[i(e),i({h:(a+90)%360,s:t.s,l:t.l}),i({h:(a+180)%360,s:t.s,l:t.l}),i({h:(a+270)%360,s:t.s,l:t.l})]}function M(e){var t=i(e).toHsl(),a=t.h;return[i(e),i({h:(a+72)%360,s:t.s,l:t.l}),i({h:(a+216)%360,s:t.s,l:t.l})]}function S(e,t,a){t=t||6,a=a||30;var n=i(e).toHsl(),r=360/a,o=[i(e)];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,o.push(i(n));return o}function k(e,t){t=t||6;for(var a=i(e).toHsv(),n=a.h,r=a.s,o=a.v,s=[],l=1/t;t--;)s.push(i({h:n,s:r,v:o})),o=(o+l)%1;return s}function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){I(e)&&(e="100%");var a=R(e);return e=W(t,V(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return W(1,V(0,e))}function O(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"==typeof e&&-1!=e.indexOf("%")}function A(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function D(e){return r.round(255*parseFloat(e)).toString(16)}function F(e){return O(e)/255}function U(e){return!!X.CSS_UNIT.exec(e)}function j(e){e=e.replace(B,"").replace(q,"").toLowerCase();var t=!1;if(K[e])e=K[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var a;return(a=X.rgb.exec(e))?{r:a[1],g:a[2],b:a[3]}:(a=X.rgba.exec(e))?{r:a[1],g:a[2],b:a[3],a:a[4]}:(a=X.hsl.exec(e))?{h:a[1],s:a[2],l:a[3]}:(a=X.hsla.exec(e))?{h:a[1],s:a[2],l:a[3],a:a[4]}:(a=X.hsv.exec(e))?{h:a[1],s:a[2],v:a[3]}:(a=X.hsva.exec(e))?{h:a[1],s:a[2],v:a[3],a:a[4]}:(a=X.hex8.exec(e))?{r:O(a[1]),g:O(a[2]),b:O(a[3]),a:F(a[4]),format:t?"name":"hex8"}:(a=X.hex6.exec(e))?{r:O(a[1]),g:O(a[2]),b:O(a[3]),format:t?"name":"hex"}:(a=X.hex4.exec(e))?{r:O(a[1]+""+a[1]),g:O(a[2]+""+a[2]),b:O(a[3]+""+a[3]),a:F(a[4]+""+a[4]),format:t?"name":"hex8"}:!!(a=X.hex3.exec(e))&&{r:O(a[1]+""+a[1]),g:O(a[2]+""+a[2]),b:O(a[3]+""+a[3]),format:t?"name":"hex"}}function H(e){var t,a;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),a=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==a&&"large"!==a&&(a="small"),{level:t,size:a}}var B=/^\s+/,q=/\s+$/,z=0,G=r.round,W=r.min,V=r.max,$=r.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n,i,o,s=this.toRgb();return e=s.r/255,t=s.g/255,a=s.b/255,n=e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4),o=a<=.03928?a/12.92:r.pow((a+.055)/1.055,2.4),.2126*n+.7152*i+.0722*o},setAlpha:function(e){return this._a=T(e),this._roundA=G(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=G(360*e.h),a=G(100*e.s),n=G(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=G(360*e.h),a=G(100*e.s),n=G(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return p(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*P(this._r,255))+"%",g:G(100*P(this._g,255))+"%",b:G(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+G(100*P(this._r,255))+"%, "+G(100*P(this._g,255))+"%, "+G(100*P(this._b,255))+"%)":"rgba("+G(100*P(this._r,255))+"%, "+G(100*P(this._g,255))+"%, "+G(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),a=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var r=i(e);a="#"+h(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},i.fromRatio=function(e,t){if("object"==typeof e){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]="a"===n?e[n]:L(e[n]));e=a}return i(e,t)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:$(),g:$(),b:$()})},i.mix=function(e,t,a){a=0===a?0:a||50;var n=i(e).toRgb(),r=i(t).toRgb(),o=a/100;return i({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},i.readability=function(e,t){var a=i(e),n=i(t);return(r.max(a.getLuminance(),n.getLuminance())+.05)/(r.min(a.getLuminance(),n.getLuminance())+.05)},i.isReadable=function(e,t,a){var n,r,o=i.readability(e,t);switch(r=!1,n=H(a),n.level+n.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},i.mostReadable=function(e,t,a){var n,r,o,s,l=null,u=0;a=a||{},r=a.includeFallbackColors,o=a.level,s=a.size;for(var d=0;d<t.length;d++)(n=i.readability(e,t[d]))>u&&(u=n,l=i(t[d]));return i.isReadable(e,l,{level:o,size:s})||!r?l:(a.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],a))};var K=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=i.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(K),X=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",a="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=i:void 0!==(n=function(){return i}.call(t,a,t,e))&&(e.exports=n)}(Math)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(0),o=n(i),s=a(1131),l=n(s),u=a(2072),d=a(1139),c=t.Swatch=function(e){var t=e.color,a=e.style,n=e.onClick,i=void 0===n?function(){}:n,s=e.onHover,u=e.title,c=void 0===u?t:u,f=e.children,p=e.focus,h=e.focusStyle,m=void 0===h?{}:h,g="transparent"===t,v=(0,l.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},a,p?m:{})}}),b=function(e){return i(t,e)},_=function(e){return 13===e.keyCode&&i(t,e)},y=function(e){return s(t,e)},E={};return s&&(E.onMouseOver=y),o.default.createElement("div",r({style:v.swatch,onClick:b,title:c,tabIndex:0,onKeyDown:_},E),f,g&&o.default.createElement(d.Checkboard,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,u.handleFocus)(c)},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function s(){var a,i,u,d;n(this,s);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return i=u=r(this,(a=s.__proto__||Object.getPrototypeOf(s)).call.apply(a,[this].concat(f))),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},u.render=function(){return l.default.createElement(t,{onFocus:u.handleFocus,onBlur:u.handleBlur},l.default.createElement(e,o({},u.props,u.state)))},d=i,r(u,d)}return i(s,a),s}(l.default.Component)}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.AlphaPointer=function(e){var t=e.direction,a=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.default.createElement("div",{style:a.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1168),c=n(d),f=a(1139),p=a(2075),h=n(p),m=t.Block=function(e){var t=e.onChange,a=e.onSwatchHover,n=e.hex,r=e.colors,o=e.width,s=e.triangle,l=e.className,d=void 0===l?"":l,p="transparent"===n,m=function(e,a){c.default.isValidHex(e)&&t({hex:e,source:"hex"},a)},g=(0,u.default)({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p?"rgba(0,0,0,0.4)":"#fff",position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===s});return i.default.createElement("div",{style:g.card,className:"block-picker "+d},i.default.createElement("div",{style:g.triangle}),i.default.createElement("div",{style:g.head},p&&i.default.createElement(f.Checkboard,{borderRadius:"6px 6px 0 0"}),i.default.createElement("div",{style:g.label},n)),i.default.createElement("div",{style:g.body},i.default.createElement(h.default,{colors:r,onClick:m,onSwatchHover:a}),i.default.createElement(f.EditableInput,{style:{input:g.input},value:n,onChange:m})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"])},m.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,f.ColorWrap)(m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1173),u=n(l),d=a(1139),c=t.BlockSwatches=function(e){var t=e.colors,a=e.onClick,n=e.onSwatchHover,r=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return i.default.createElement("div",{style:r.swatches},(0,u.default)(t,function(e){return i.default.createElement(d.Swatch,{key:e,color:e,style:r.swatch,onClick:a,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),i.default.createElement("div",{style:r.clear}))};t.default=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1173),c=n(d),f=a(1434),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(f),h=a(1139),m=a(2077),g=n(m),v=t.Circle=function(e){var t=e.width,a=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.circleSize,l=e.circleSpacing,d=e.className,f=void 0===d?"":d,p=(0,u.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-l,marginBottom:-l}}}),h=function(e,t){return a({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:p.card,className:"circle-picker "+f},(0,c.default)(r,function(e){return i.default.createElement(g.default,{key:e,color:e,onClick:h,onSwatchHover:n,active:o===e.toLowerCase(),circleSize:s,circleSpacing:l})}))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),circleSize:s.default.number,circleSpacing:s.default.number},v.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[p.red[500],p.pink[500],p.purple[500],p.deepPurple[500],p.indigo[500],p.blue[500],p.lightBlue[500],p.cyan[500],p.teal[500],p.green[500],p.lightGreen[500],p.lime[500],p.yellow[500],p.amber[500],p.orange[500],p.deepOrange[500],p.brown[500],p.blueGrey[500]]},t.default=(0,h.ColorWrap)(v)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=t.CircleSwatch=function(e){var t=e.color,a=e.onClick,n=e.onSwatchHover,r=e.hover,o=e.active,u=e.circleSize,d=e.circleSpacing,c=(0,s.default)({default:{swatch:{width:u,height:u,marginRight:d,marginBottom:d,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:r,active:o});return i.default.createElement("div",{style:c.swatch},i.default.createElement(l.Swatch,{style:c.Swatch,color:t,onClick:a,onHover:n,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};u.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(u)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1139),c=a(2079),f=n(c),p=a(2080),h=n(p),m=a(2081),g=n(m),v=t.Chrome=function(e){var t=e.onChange,a=e.disableAlpha,n=e.rgb,r=e.hsl,o=e.hsv,s=e.hex,l=e.renderers,c=e.className,p=void 0===c?"":c,m=(0,u.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:a});return i.default.createElement("div",{style:m.picker,className:"chrome-picker "+p},i.default.createElement("div",{style:m.saturation},i.default.createElement(d.Saturation,{style:m.Saturation,hsl:r,hsv:o,pointer:g.default,onChange:t})),i.default.createElement("div",{style:m.body},i.default.createElement("div",{style:m.controls,className:"flexbox-fix"},i.default.createElement("div",{style:m.color},i.default.createElement("div",{style:m.swatch},i.default.createElement("div",{style:m.active}),i.default.createElement(d.Checkboard,{renderers:l}))),i.default.createElement("div",{style:m.toggles},i.default.createElement("div",{style:m.hue},i.default.createElement(d.Hue,{style:m.Hue,hsl:r,pointer:h.default,onChange:t})),i.default.createElement("div",{style:m.alpha},i.default.createElement(d.Alpha,{style:m.Alpha,rgb:n,hsl:r,pointer:h.default,renderers:l,onChange:t})))),i.default.createElement(f.default,{rgb:n,hsl:r,hex:s,onChange:t,disableAlpha:a})))};v.propTypes={disableAlpha:s.default.bool},v.defaultProps={disableAlpha:!1},t.default=(0,d.ColorWrap)(v)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),u=n(l),d=a(1131),c=n(d),f=a(1168),p=n(f),h=a(1139),m=t.ChromeFields=function(e){function t(){var e,a,n,o;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={view:""},n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?p.default.isValidHex(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&n.props.onChange({h:e.h||n.props.hsl.h,s:e.s&&e.s||n.props.hsl.s,l:e.l&&e.l||n.props.hsl.l,source:"hsl"},t)},n.showHighlight=function(e){e.target.style.background="#eee"},n.hideHighlight=function(e){e.target.style.background="transparent"},o=a,i(n,o)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,c.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return"hex"===this.state.view?a=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?a=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),u.default.createElement("div",{style:t.alpha},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(a=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:t.alpha},u.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),u.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},a,u.default.createElement("div",{style:t.toggle},u.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},u.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},u.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),u.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(u.default.Component);t.default=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.ChromePointer=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.ChromePointerCircle=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1173),c=n(d),f=a(1168),p=n(f),h=a(1139),m=a(2083),g=n(m),v=a(2084),b=n(v),_=t.Compact=function(e){var t=e.onChange,a=e.onSwatchHover,n=e.colors,r=e.hex,o=e.rgb,s=e.className,l=void 0===s?"":s,d=(0,u.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),f=function(e,a){e.hex?p.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):t(e,a)};return i.default.createElement(h.Raised,{style:d.Compact},i.default.createElement("div",{style:d.compact,className:"compact-picker "+l},i.default.createElement("div",null,(0,c.default)(n,function(e){return i.default.createElement(g.default,{key:e,color:e,active:e.toLowerCase()===r,onClick:f,onSwatchHover:a})}),i.default.createElement("div",{style:d.clear})),i.default.createElement(b.default,{hex:r,rgb:o,onChange:f})))};_.propTypes={colors:s.default.arrayOf(s.default.string)},_.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,h.ColorWrap)(_)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=t.CompactColor=function(e){var t=e.color,a=e.onClick,n=void 0===a?function(){}:a,r=e.onSwatchHover,o=e.active,u=(0,s.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:"#fff",borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.default.createElement(l.Swatch,{style:u.color,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},i.default.createElement("div",{style:u.dot}))};t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=t.CompactFields=function(e){var t=e.hex,a=e.rgb,n=e.onChange,r=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?n({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return i.default.createElement("div",{style:r.fields,className:"flexbox-fix"},i.default.createElement("div",{style:r.active}),i.default.createElement(l.EditableInput,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:t,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:a.r,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:a.g,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:a.b,onChange:o}))};t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1173),c=n(d),f=a(1139),p=a(2086),h=n(p),m=t.Github=function(e){var t=e.width,a=e.colors,n=e.onChange,r=e.onSwatchHover,o=e.triangle,s=e.className,l=void 0===s?"":s,d=(0,u.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-right-triangle":"bottom-right"===o}),f=function(e,t){return n({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:d.card,className:"github-picker "+l},i.default.createElement("div",{style:d.triangleShadow}),i.default.createElement("div",{style:d.triangle}),(0,c.default)(a,function(e){return i.default.createElement(h.default,{color:e,key:e,onClick:f,onSwatchHover:r})}))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right"])},m.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,f.ColorWrap)(m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=t.GithubSwatch=function(e){var t=e.hover,a=e.color,n=e.onClick,r=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return i.default.createElement("div",{style:u.swatch},i.default.createElement(l.Swatch,{color:a,onClick:n,onHover:r,focusStyle:o}))};t.default=(0,o.handleHover)(u)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(0),o=n(i),s=a(1131),l=n(s),u=a(1139),d=a(2088),c=n(d),f=t.HuePicker=function(e){var t=e.width,a=e.height,n=e.onChange,i=e.hsl,s=e.direction,d=e.pointer,c=e.className,f=void 0===c?"":c,p=(0,l.default)({default:{picker:{position:"relative",width:t,height:a},hue:{radius:"2px"}}}),h=function(e){return n({a:1,h:e.h,l:.5,s:1})};return o.default.createElement("div",{style:p.picker,className:"hue-picker "+f},o.default.createElement(u.Hue,r({},p.hue,{hsl:i,pointer:d,onChange:h,direction:s})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:c.default},t.default=(0,u.ColorWrap)(f)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.SliderPointer=function(e){var t=e.direction,a=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.default.createElement("div",{style:a.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1168),u=n(l),d=a(1139),c=t.Material=function(e){var t=e.onChange,a=e.hex,n=e.rgb,r=e.className,o=void 0===r?"":r,l=(0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+a,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),c=function(e,a){e.hex?u.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},a)};return i.default.createElement(d.Raised,null,i.default.createElement("div",{style:l.material,className:"material-picker "+o},i.default.createElement(d.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:a,onChange:c}),i.default.createElement("div",{style:l.split,className:"flexbox-fix"},i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:n.r,onChange:c})),i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:n.g,onChange:c})),i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:n.b,onChange:c})))))};t.default=(0,d.ColorWrap)(c)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),u=n(l),d=a(1160),c=n(d),f=a(1131),p=n(f),h=a(1139),m=a(2091),g=n(m),v=a(2092),b=n(v),_=a(2093),y=n(_),E=a(2094),w=n(E),C=a(2095),x=n(C),M=t.Photoshop=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={currentColor:e.hex},a}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,a=(0,p.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return u.default.createElement("div",{style:a.picker,className:"photoshop-picker "+t},u.default.createElement("div",{style:a.head},this.props.header),u.default.createElement("div",{style:a.body,className:"flexbox-fix"},u.default.createElement("div",{style:a.saturation},u.default.createElement(h.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:b.default,onChange:this.props.onChange})),u.default.createElement("div",{style:a.hue},u.default.createElement(h.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:y.default,onChange:this.props.onChange})),u.default.createElement("div",{style:a.controls},u.default.createElement("div",{style:a.top,className:"flexbox-fix"},u.default.createElement("div",{style:a.previews},u.default.createElement(x.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),u.default.createElement("div",{style:a.actions},u.default.createElement(w.default,{label:"OK",onClick:this.props.onAccept,active:!0}),u.default.createElement(w.default,{label:"Cancel",onClick:this.props.onCancel}),u.default.createElement(g.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(u.default.Component);M.propTypes={header:c.default.string},M.defaultProps={header:"Color Picker"},t.default=(0,h.ColorWrap)(M)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1168),u=n(l),d=a(1139),c=t.PhotoshopPicker=function(e){var t=e.onChange,a=e.rgb,n=e.hsv,r=e.hex,o=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(e,r){e["#"]?u.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},r)};return i.default.createElement("div",{style:o.fields},i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(n.h),onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:l}),i.default.createElement("div",{style:o.divider}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:a.r,onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:a.g,onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:a.b,onChange:l}),i.default.createElement("div",{style:o.divider}),i.default.createElement(d.EditableInput,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:r.replace("#",""),onChange:l}),i.default.createElement("div",{style:o.fieldSymbols},i.default.createElement("div",{style:o.symbol},"°"),i.default.createElement("div",{style:o.symbol},"%"),i.default.createElement("div",{style:o.symbol},"%")))};t.default=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.PhotoshopPointerCircle=function(e){var t=e.hsl,a=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return i.default.createElement("div",{style:a.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.PhotoshopPointerCircle=function(){var e=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return i.default.createElement("div",{style:e.pointer},i.default.createElement("div",{style:e.left},i.default.createElement("div",{style:e.leftInside})),i.default.createElement("div",{style:e.right},i.default.createElement("div",{style:e.rightInside})))};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.PhotoshopBotton=function(e){var t=e.onClick,a=e.label,n=e.children,r=e.active,o=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return i.default.createElement("div",{style:o.button,onClick:t},a||n)};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.PhotoshopPreviews=function(e){var t=e.rgb,a=e.currentColor,n=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:a,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return i.default.createElement("div",null,i.default.createElement("div",{style:n.label},"new"),i.default.createElement("div",{style:n.swatches},i.default.createElement("div",{style:n.new}),i.default.createElement("div",{style:n.current})),i.default.createElement("div",{style:n.label},"current"))};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1139),c=a(2097),f=n(c),p=a(2098),h=n(p),m=t.Sketch=function(e){var t=e.width,a=e.rgb,n=e.hex,r=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,p=e.presetColors,m=e.renderers,g=e.className,v=void 0===g?"":g,b=(0,u.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+a.r+","+a.g+","+a.b+","+a.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:c});return i.default.createElement("div",{style:b.picker,className:"sketch-picker "+v},i.default.createElement("div",{style:b.saturation},i.default.createElement(d.Saturation,{style:b.Saturation,hsl:o,hsv:r,onChange:s})),i.default.createElement("div",{style:b.controls,className:"flexbox-fix"},i.default.createElement("div",{style:b.sliders},i.default.createElement("div",{style:b.hue},i.default.createElement(d.Hue,{style:b.Hue,hsl:o,onChange:s})),i.default.createElement("div",{style:b.alpha},i.default.createElement(d.Alpha,{style:b.Alpha,rgb:a,hsl:o,renderers:m,onChange:s}))),i.default.createElement("div",{style:b.color},i.default.createElement(d.Checkboard,null),i.default.createElement("div",{style:b.activeColor}))),i.default.createElement(f.default,{rgb:a,hsl:o,hex:n,onChange:s,disableAlpha:c}),i.default.createElement(h.default,{colors:p,onClick:s,onSwatchHover:l}))};m.propTypes={disableAlpha:s.default.bool,width:s.default.oneOfType([s.default.string,s.default.number])},m.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,d.ColorWrap)(m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1168),u=n(l),d=a(1139),c=t.SketchFields=function(e){var t=e.onChange,a=e.rgb,n=e.hsl,r=e.hex,o=e.disableAlpha,l=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),c=function(e,r){e.hex?u.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,a:a.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},r))};return i.default.createElement("div",{style:l.fields,className:"flexbox-fix"},i.default.createElement("div",{style:l.double},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"hex",value:r.replace("#",""),onChange:c})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"r",value:a.r,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"g",value:a.g,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"b",value:a.b,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.alpha},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*a.a),onChange:c,dragLabel:"true",dragMax:"100"})))};t.default=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(0),o=n(i),s=a(1160),l=n(s),u=a(1131),d=n(u),c=a(1139),f=t.SketchPresetColors=function(e){var t=e.colors,a=e.onClick,n=void 0===a?function(){}:a,i=e.onSwatchHover,s=(0,d.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),l=function(e,t){n({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e;return o.default.createElement("div",{key:t.color,style:s.swatchWrap},o.default.createElement(c.Swatch,r({},t,{style:s.swatch,onClick:l,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};f.propTypes={colors:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.shape({color:l.default.string,title:l.default.string})])).isRequired},t.default=f},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=a(2100),d=n(u),c=a(2102),f=n(c),p=t.Slider=function(e){var t=e.hsl,a=e.onChange,n=e.pointer,r=e.className,o=void 0===r?"":r,u=(0,s.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return i.default.createElement("div",{className:"slider-picker "+o},i.default.createElement("div",{style:u.hue},i.default.createElement(l.Hue,{style:u.Hue,hsl:t,pointer:n,onChange:a})),i.default.createElement("div",{style:u.swatches},i.default.createElement(d.default,{hsl:t,onClick:a})))};p.defaultProps={pointer:f.default},t.default=(0,l.ColorWrap)(p)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(2101),u=n(l),d=t.SliderSwatches=function(e){var t=e.onClick,a=e.hsl,n=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return i.default.createElement("div",{style:n.swatches},i.default.createElement("div",{style:n.swatch},i.default.createElement(u.default,{hsl:a,offset:".80",active:Math.round(100*a.l)/100==.8&&Math.round(100*a.s)/100==.5,onClick:t,first:!0})),i.default.createElement("div",{style:n.swatch},i.default.createElement(u.default,{hsl:a,offset:".65",active:Math.round(100*a.l)/100==.65&&Math.round(100*a.s)/100==.5,onClick:t})),i.default.createElement("div",{style:n.swatch},i.default.createElement(u.default,{hsl:a,offset:".50",active:Math.round(100*a.l)/100==.5&&Math.round(100*a.s)/100==.5,onClick:t})),i.default.createElement("div",{style:n.swatch},i.default.createElement(u.default,{hsl:a,offset:".35",active:Math.round(100*a.l)/100==.35&&Math.round(100*a.s)/100==.5,onClick:t})),i.default.createElement("div",{style:n.swatch},i.default.createElement(u.default,{hsl:a,offset:".20",active:Math.round(100*a.l)/100==.2&&Math.round(100*a.s)/100==.5,onClick:t,last:!0})),i.default.createElement("div",{style:n.clear}))};t.default=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.SliderSwatch=function(e){var t=e.hsl,a=e.offset,n=e.onClick,r=void 0===n?function(){}:n,o=e.active,l=e.first,u=e.last,d=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*a+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:l,last:u}),c=function(e){return r({h:t.h,s:.5,l:a,source:"hsl"},e)};return i.default.createElement("div",{style:d.swatch,onClick:c})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=t.SliderPointer=function(){var e=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1173),c=n(d),f=a(1168),p=n(f),h=a(1434),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(h),g=a(1139),v=a(2104),b=n(v),_=t.Swatches=function(e){var t=e.width,a=e.height,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,l=e.className,d=void 0===l?"":l,f=(0,u.default)({default:{picker:{width:t,height:a},overflow:{height:a,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),h=function(e,t){p.default.isValidHex(e)&&n({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:f.picker,className:"swatches-picker "+d},i.default.createElement(g.Raised,null,i.default.createElement("div",{style:f.overflow},i.default.createElement("div",{style:f.body},(0,c.default)(o,function(e){return i.default.createElement(b.default,{key:e.toString(),group:e,active:s,onClick:h,onSwatchHover:r})}),i.default.createElement("div",{style:f.clear})))))};_.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.arrayOf(s.default.string))},_.defaultProps={width:320,height:240,colors:[[m.red[900],m.red[700],m.red[500],m.red[300],m.red[100]],[m.pink[900],m.pink[700],m.pink[500],m.pink[300],m.pink[100]],[m.purple[900],m.purple[700],m.purple[500],m.purple[300],m.purple[100]],[m.deepPurple[900],m.deepPurple[700],m.deepPurple[500],m.deepPurple[300],m.deepPurple[100]],[m.indigo[900],m.indigo[700],m.indigo[500],m.indigo[300],m.indigo[100]],[m.blue[900],m.blue[700],m.blue[500],m.blue[300],m.blue[100]],[m.lightBlue[900],m.lightBlue[700],m.lightBlue[500],m.lightBlue[300],m.lightBlue[100]],[m.cyan[900],m.cyan[700],m.cyan[500],m.cyan[300],m.cyan[100]],[m.teal[900],m.teal[700],m.teal[500],m.teal[300],m.teal[100]],["#194D33",m.green[700],m.green[500],m.green[300],m.green[100]],[m.lightGreen[900],m.lightGreen[700],m.lightGreen[500],m.lightGreen[300],m.lightGreen[100]],[m.lime[900],m.lime[700],m.lime[500],m.lime[300],m.lime[100]],[m.yellow[900],m.yellow[700],m.yellow[500],m.yellow[300],m.yellow[100]],[m.amber[900],m.amber[700],m.amber[500],m.amber[300],m.amber[100]],[m.orange[900],m.orange[700],m.orange[500],m.orange[300],m.orange[100]],[m.deepOrange[900],m.deepOrange[700],m.deepOrange[500],m.deepOrange[300],m.deepOrange[100]],[m.brown[900],m.brown[700],m.brown[500],m.brown[300],m.brown[100]],[m.blueGrey[900],m.blueGrey[700],m.blueGrey[500],m.blueGrey[300],m.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,g.ColorWrap)(_)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1173),u=n(l),d=a(2105),c=n(d),f=t.SwatchesGroup=function(e){var t=e.onClick,a=e.onSwatchHover,n=e.group,r=e.active,o=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return i.default.createElement("div",{style:o.group},(0,u.default)(n,function(e,o){return i.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===r,first:0===o,last:o===n.length-1,onClick:t,onSwatchHover:a})}))};t.default=f},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=a(0),i=n(r),o=a(1131),s=n(o),l=a(1139),u=t.SwatchesColor=function(e){var t=e.color,a=e.onClick,n=void 0===a?function(){}:a,r=e.onSwatchHover,o=e.first,u=e.last,d=e.active,c=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:"#fff",marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:o,last:u,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.default.createElement(l.Swatch,{color:t,style:c.color,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},i.default.createElement("div",{style:c.check},i.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=a(0),i=n(r),o=a(1160),s=n(o),l=a(1131),u=n(l),d=a(1173),c=n(d),f=a(1168),p=n(f),h=a(1139),m=t.Twitter=function(e){var t=e.onChange,a=e.onSwatchHover,n=e.hex,r=e.colors,o=e.width,s=e.triangle,l=e.className,d=void 0===l?"":l,f=(0,u.default)({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),m=function(e,a){p.default.isValidHex(e)&&t({hex:e,source:"hex"},a)};return i.default.createElement("div",{style:f.card,className:"twitter-picker "+d},i.default.createElement("div",{style:f.triangleShadow}),i.default.createElement("div",{style:f.triangle}),i.default.createElement("div",{style:f.body},(0,c.default)(r,function(e,t){return i.default.createElement(h.Swatch,{key:t,color:e,hex:e,style:f.swatch,onClick:m,onHover:a,focusStyle:{boxShadow:"0 0 4px "+e}})}),i.default.createElement("div",{style:f.hash},"#"),i.default.createElement(h.EditableInput,{style:{input:f.input},value:n.replace("#",""),onChange:m}),i.default.createElement("div",{style:f.clear})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string)},m.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,h.ColorWrap)(m)},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(167),g=r(m),v=a(0),b=r(v),_=a(214),y=a(142),E=n(y),w=a(312),C=n(w),x=a(42),M=r(x),S=a(461),k=r(S),T=a(315),P=r(T),N=a(12),O=a(47),I=n(O),R=a(1436),A=r(R),L=N.Constants.PRE_RELEASE_FEATURES,D=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.mounted=!1,e.closeNotification=e.closeNotification.bind(e),e.onIncomingCall=e.onIncomingCall.bind(e),e.onCancelCall=e.onCancelCall.bind(e),e.onRhs=e.onRhs.bind(e),e.handleClose=e.handleClose.bind(e),e.handleAnswer=e.handleAnswer.bind(e),e.handleTimeout=e.handleTimeout.bind(e),e.stopRinging=e.stopRinging.bind(e),e.closeRightHandSide=e.closeRightHandSide.bind(e),e.state={userCalling:null,rhsOpened:!1},e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){k.default.addNotifyListener(this.onIncomingCall),k.default.addChangedListener(this.onCancelCall),k.default.addRhsChangedListener(this.onRhs),this.mounted=!0}},{key:"componentWillUnmount",value:function(){k.default.removeNotifyListener(this.onIncomingCall),k.default.removeChangedListener(this.onCancelCall),k.default.removeRhsChangedListener(this.onRhs),this.refs.ring&&this.refs.ring.removeListener("ended",this.handleTimeout),this.mounted=!1}},{key:"componentDidUpdate",value:function(){this.state.userCalling&&this.refs.ring.addEventListener("ended",this.handleTimeout)}},{key:"closeNotification",value:function(){this.setState({userCalling:null})}},{key:"stopRinging",value:function(){this.refs.ring&&(this.refs.ring.pause(),this.refs.ring.currentTime=0),this.setState({userCalling:null})}},{key:"closeRightHandSide",value:function(e){e.preventDefault(),E.emitCloseRightHandSide(),setTimeout(function(){(0,g.default)(".app__body .inner-wrap").addClass("move--left")},0)}},{key:"onIncomingCall",value:function(e){if(this.mounted){var t=e.from_user_id,a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;I.isFeatureEnabled(L.WEBRTC_PREVIEW)?k.default.isBusy()?(P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.BUSY,from_user_id:M.default.getCurrentId(),to_user_id:t}),this.stopRinging()):a?(k.default.setVideoCallWith(t),this.setState({userCalling:M.default.getProfile(t)})):(P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.UNSUPPORTED,from_user_id:M.default.getCurrentId(),to_user_id:t}),this.stopRinging()):(P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.DISABLED,from_user_id:M.default.getCurrentId(),to_user_id:t}),this.stopRinging())}}},{key:"onCancelCall",value:function(e){if(e){if(e.action!==N.WebrtcActionTypes.CANCEL)return;if(this.state.userCalling)if(e.from_user_uid===M.default.getCurrentId()&&e.calling_user_id===this.state.userCalling.id);else if(e.from_user_id!==this.state.userCalling.id)return}k.default.setVideoCallWith(null),this.closeNotification()}},{key:"onRhs",value:function(e){this.setState({rhsOpened:e})}},{key:"handleTimeout",value:function(){P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.NO_ANSWER,from_user_id:M.default.getCurrentId(),to_user_id:this.state.userCalling.id}),this.onCancelCall()}},{key:"handleAnswer",value:function(e){e&&e.preventDefault();var t=this.state.userCalling;if(t){var a=t.id,n=M.default.getCurrentId(),r={action:N.WebrtcActionTypes.ANSWER,from_user_id:n,to_user_id:a};E.emitCloseRightHandSide(),C.initWebrtc(a,!1),P.default.sendMessage("webrtc",r),setTimeout(function(){r.from_user_id=a,r.to_user_id=n,C.handle(r),P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.CANCEL,from_user_id:n,to_user_id:n,calling_user_id:a})},0),this.closeNotification()}}},{key:"handleClose",value:function(e){e&&e.preventDefault(),this.state.userCalling&&(P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.CANCEL,from_user_id:M.default.getCurrentId(),to_user_id:M.default.getCurrentId(),calling_user_id:this.state.userCalling.id}),P.default.sendMessage("webrtc",{action:N.WebrtcActionTypes.DECLINE,from_user_id:M.default.getCurrentId(),to_user_id:this.state.userCalling.id})),this.onCancelCall()}},{key:"render",value:function(){var e=this.state.userCalling;if(e){var t=I.displayUsername(e.id),a=I.imageURLForUser(e),n=b.default.createElement("img",{className:"user-popover__image",src:a,height:"128",width:"128",key:"user-popover-image"}),r=b.default.createElement("svg",{className:"webrtc-icons__pickup",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:this.handleAnswer},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.notification.answer",defaultMessage:"Answer"}))),b.default.createElement("path",{transform:"translate(-10,-10)",fill:"#fff",d:"M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z"})),i=b.default.createElement("svg",{className:"webrtc-icons__cancel",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:this.handleClose},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.notification.decline",defaultMessage:"Decline"}))),b.default.createElement("path",{transform:"scale(0.7), translate(11,10)",d:"M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z",fill:"white"})),o=b.default.createElement("div",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.notification.incoming_call",defaultMessage:"{username} is calling you.",values:{username:t}}),b.default.createElement("div",{className:"webrtc-buttons webrtc-icons active",style:F.buttons},r,i));return b.default.createElement("div",{className:"webrtc-notification"},b.default.createElement("audio",{ref:"ring",src:A.default,autoPlay:!0}),b.default.createElement("div",null,n),o)}return this.state.rhsOpened&&k.default.isBusy()?b.default.createElement("div",{className:"webrtc__notification--rhs",onClick:this.closeRightHandSide},b.default.createElement("i",{className:"fa fa-phone"}),b.default.createElement(_.FormattedMessage,{id:"webrtc.notification.returnToCall",defaultMessage:"Return to ongoing call with {username}",values:{username:I.displayUsername(k.default.getVideoCallWith())}})):b.default.createElement("div",null)}}]),t}(b.default.Component);t.default=D;var F={buttons:{marginTop:5}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(0),v=n(g),b=a(42),_=n(b),y=a(461),E=n(y),w=a(47),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),x=a(2125),M=n(x),S=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.plScrolledToBottom=!0,a.onShrink=a.onShrink.bind(a),a.toggleSize=a.toggleSize.bind(a),a.onInitializeVideoCall=a.onInitializeVideoCall.bind(a),a.doStrangeThings=a.doStrangeThings.bind(a),a.state={expanded:!1,currentUser:_.default.getCurrentUser(),videoCallVisible:!1,isCaller:!1,videoCallWithUserId:null},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){E.default.addInitListener(this.onInitializeVideoCall),this.doStrangeThings()}},{key:"componentWillUnmount",value:function(){E.default.removeInitListener(this.onInitializeVideoCall)}},{key:"shouldComponentUpdate",value:function(e,t){return!C.areObjectsEqual(t,this.state)}},{key:"doStrangeThings",value:function(){return(0,m.default)(".app__body .inner-wrap").removeClass("move--right"),(0,m.default)(".app__body .inner-wrap").addClass("webrtc--show move--left"),(0,m.default)(".app__body .sidebar--left").removeClass("move--right"),(0,m.default)(".multi-teams .team-sidebar").removeClass("move--right"),(0,m.default)(".app__body .webrtc").addClass("webrtc--show"),this.state.videoCallVisible?null:((0,m.default)(".app__body .inner-wrap").removeClass("webrtc--show move--left move--right"),(0,m.default)(".app__body .webrtc").removeClass("webrtc--show"),v.default.createElement("div",null))}},{key:"componentDidUpdate",value:function(){this.doStrangeThings()}},{key:"onShrink",value:function(){this.setState({expanded:!1})}},{key:"toggleSize",value:function(e){e&&e.preventDefault(),this.setState(function(e){return{expanded:!e.expanded}})}},{key:"onInitializeVideoCall",value:function(e,t){var a=this.state.expanded;null===e&&(a=!1),this.setState({videoCallVisible:null!==e,isCaller:t,videoCallWithUserId:e,expanded:a})}},{key:"render",value:function(){var e=null,t="";return this.state.expanded&&(t="sidebar--right--expanded"),this.state.videoCallVisible&&(e=v.default.createElement(M.default,{currentUser:this.state.currentUser,userId:this.state.videoCallWithUserId,isCaller:this.state.isCaller,expanded:this.state.expanded,toggleSize:this.toggleSize})),v.default.createElement("div",{className:"sidebar--right webrtc "+t,id:"sidebar-webrtc"},v.default.createElement("div",{onClick:this.onShrink,className:"sidebar--right__bg"}),v.default.createElement("div",{className:"sidebar-right-container"},e))}}]),t}(v.default.Component);t.default=S},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(2126),E=r(y),w=a(303),C=a(312),x=n(C),M=a(48),S=r(M),k=a(42),T=r(k),P=a(461),N=r(P),O=a(315),I=r(O),R=a(12),A=a(47),L=n(A),D=a(1436),F=r(D),U=a(1137),j=r(U),H=a(1282),B=r(H),q=a(2138),z=r(q),G=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));t.mounted=!1,t.localMedia=null,t.session=null,t.videocall=null,t.handleResize=t.handleResize.bind(t),t.handleClose=t.handleClose.bind(t),t.close=t.close.bind(t),t.clearError=t.clearError.bind(t),t.getLocalMedia=t.getLocalMedia.bind(t),t.stopMediaStream=t.stopMediaStream.bind(t),t.previewVideo=t.previewVideo.bind(t),t.stopRinging=t.stopRinging.bind(t),t.handleMakeOffer=t.handleMakeOffer.bind(t),t.handleCancelOffer=t.handleCancelOffer.bind(t),t.handleWebrtcEvent=t.handleWebrtcEvent.bind(t),t.handleVideoCallEvent=t.handleVideoCallEvent.bind(t),t.handleRemoteStream=t.handleRemoteStream.bind(t),t.onStatusChange=t.onStatusChange.bind(t),t.onCallDeclined=t.onCallDeclined.bind(t),t.onUnsupported=t.onUnsupported.bind(t),t.onNoAnswer=t.onNoAnswer.bind(t),t.onBusy=t.onBusy.bind(t),t.onDisabled=t.onDisabled.bind(t),t.onFailed=t.onFailed.bind(t),t.onCancelled=t.onCancelled.bind(t),t.onConnectCall=t.onConnectCall.bind(t),t.onSessionCreated=t.onSessionCreated.bind(t),t.onSessionError=t.onSessionError.bind(t),t.doCall=t.doCall.bind(t),t.doAnswer=t.doAnswer.bind(t),t.doHangup=t.doHangup.bind(t),t.doCleanup=t.doCleanup.bind(t),t.renderButtons=t.renderButtons.bind(t),t.onToggleVideo=t.onToggleVideo.bind(t),t.onToggleAudio=t.onToggleAudio.bind(t),t.onToggleRemoteMute=t.onToggleRemoteMute.bind(t),t.toggleIcons=t.toggleIcons.bind(t);var n=T.default.getCurrentUser(),r=T.default.getProfile(e.userId),i=L.imageURLForUser(r);return t.state={windowWidth:L.windowWidth(),windowHeight:L.windowHeight(),channelId:S.default.getCurrentId(),currentUser:n,currentUserImage:L.imageURLForUser(n),remoteUserImage:i,localMediaLoaded:!1,isPaused:!1,isMuted:!1,isRemotePaused:!1,isRemoteMuted:!1,isCalling:!1,isAnswering:!1,callInProgress:!1,error:null,errorType:"",ended:null},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),N.default.addChangedListener(this.handleWebrtcEvent),T.default.addStatusesChangeListener(this.onStatusChange),this.mounted=!0,this.previewVideo(),this.props.isCaller&&this.handleMakeOffer()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),N.default.removeChangedListener(this.handleWebrtcEvent),T.default.removeStatusesChangeListener(this.onStatusChange),this.mounted=!1,this.close()}},{key:"componentWillReceiveProps",value:function(e){if(e.currentUser!==this.props.currentUser||e.userId!==this.props.userId||e.isCaller!==this.props.isCaller){var t=T.default.getProfile(e.userId),a=L.imageURLForUser(t);this.setState({error:null,remoteUserImage:a})}e.isCaller&&e.expanded===this.props.expanded&&(this.startCall=!0)}},{key:"componentDidUpdate",value:function(){this.props.isCaller&&this.startCall&&(this.startCall=!1,this.handleMakeOffer())}},{key:"handleResize",value:function(){this.setState({windowWidth:L.windowWidth(),windowHeight:L.windowHeight()})}},{key:"clearError",value:function(){var e=this;setTimeout(function(){e.setState({error:null,ended:null,errorType:""})},R.Constants.WEBRTC_CLEAR_ERROR_DELAY)}},{key:"getLocalMedia",value:function(e,t,a){var n=e||{audio:!0,video:!0};navigator.mediaDevices.getUserMedia(n).then(function(e){t&&(t.srcObject=e),a&&"function"==typeof a&&a(null,e)}).catch(function(e){a(e)})}},{key:"stopMediaStream",value:function(e){e.getTracks().forEach(function(e){e.stop()})}},{key:"previewVideo",value:function(){var e=this;this.mounted&&(this.localMedia?(this.setState({localMediaLoaded:!0,error:null}),this.localMedia.enabled=!0):this.getLocalMedia({audio:!0,video:{minAspectRatio:1.777,maxAspectRatio:1.778,width:640,height:360}},this.refs["local-video"],function(t,a){if(t)return void e.setState({error:b.default.createElement(_.FormattedMessage,{id:"webrtc.mediaError",defaultMessage:"Unable to access Camera and Microphone"})});e.localMedia=a,e.setState({localMediaLoaded:!0})}))}},{key:"stopRinging",value:function(){this.refs.ring&&(this.refs.ring.pause(),this.refs.ring.currentTime=0)}},{key:"handleMakeOffer",value:function(){if(T.default.getStatus(this.props.userId)===R.UserStatuses.OFFLINE)this.onStatusChange();else{var e=b.default.createElement(_.FormattedMessage,{id:"calling_screen",defaultMessage:"Calling"});this.setState({isCalling:!0,isAnswering:!1,callInProgress:!1,error:null,ended:null,connectingMsg:e}),N.default.setVideoCallWith(this.props.userId);var t=this.state.currentUser;I.default.sendMessage("webrtc",{action:R.WebrtcActionTypes.NOTIFY,from_user_id:t.id,to_user_id:this.props.userId})}}},{key:"handleCancelOffer",value:function(){this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:null,ended:null});var e=this.state.currentUser;I.default.sendMessage("webrtc",{action:R.WebrtcActionTypes.CANCEL,from_user_id:e.id,to_user_id:this.props.userId}),this.doCleanup()}},{key:"handleWebrtcEvent",value:function(e){switch(e.action){case R.WebrtcActionTypes.DECLINE:this.onCallDeclined(),this.clearError();break;case R.WebrtcActionTypes.UNSUPPORTED:this.onUnsupported(),this.clearError();break;case R.WebrtcActionTypes.BUSY:this.onBusy(),this.clearError();break;case R.WebrtcActionTypes.NO_ANSWER:this.onNoAnswer(),this.clearError();break;case R.WebrtcActionTypes.FAILED:this.onFailed(),this.clearError();break;case R.WebrtcActionTypes.ANSWER:this.onConnectCall();break;case R.WebrtcActionTypes.CANCEL:this.onCancelled(),this.clearError();break;case R.WebrtcActionTypes.MUTED:this.onToggleRemoteMute(e);break;case R.WebrtcActionTypes.IN_PROGRESS:this.setState({error:b.default.createElement(_.FormattedMessage,{id:"webrtc.inProgress",defaultMessage:"You have a call in progress. Please hang up first."}),errorType:" warning"}),this.clearError();break;case R.WebrtcActionTypes.DISABLED:this.onDisabled(),this.clearError()}}},{key:"handleVideoCallEvent",value:function(e,t){var a=e.result;if(a){switch(a.event){case"registered":this.state.isCalling&&this.doCall();break;case"incomingcall":this.doAnswer(t);break;case"accepted":this.stopRinging(),t&&this.videocall.handleRemoteJsep({jsep:t});break;case"hangup":this.doHangup(!1)}}else{var n=e.error_code;477!==n&&476!==n?this.doHangup(!0):this.state.isCalling&&this.doCall()}}},{key:"handleRemoteStream",value:function(e){this.refs["main-video"].srcObject=e;var t=!1,a=!1,n=e.getVideoTracks(),r=e.getAudioTracks();n&&0!==n.length&&!n[0].muted&&n[0].enabled||(t=!0),r&&0!==r.length&&!r[0].muted&&r[0].enabled||(a=!0),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!0,isMuted:!1,isPaused:!1,error:null,ended:null,isRemotePaused:t,isRemoteMuted:a});var i=this.refs.icons;i&&(i.classList.remove("hidden"),i.classList.add("active"))}},{key:"handleClose",value:function(e){e.preventDefault(),this.state.callInProgress?this.setState({error:b.default.createElement(_.FormattedMessage,{id:"webrtc.inProgress",defaultMessage:"You have a call in progress. Please hang up first."}),errorType:" warning"}):this.state.isCalling?(this.handleCancelOffer(),this.close()):this.close()}},{key:"close",value:function(){this.doCleanup(),this.session&&(this.session.destroy(),this.session=null),this.localMedia&&(this.stopMediaStream(this.localMedia),this.localMedia=null),x.initWebrtc(null,!1)}},{key:"onStatusChange",value:function(){var e=T.default.getStatus(this.props.userId);if(e===R.UserStatuses.OFFLINE){var t=b.default.createElement(_.FormattedMessage,{id:"webrtc.offline",defaultMessage:"{username} is offline",values:{username:L.displayUsername(this.props.userId)}});this.state.isCalling||this.state.isAnswering?this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:t}):this.setState({error:t})}else e!==R.UserStatuses.OFFLINE&&this.state.error&&this.setState({error:null,ended:null})}},{key:"onCallDeclined",value:function(){var e=null;this.state.isCalling&&(e=b.default.createElement(_.FormattedMessage,{id:"webrtc.declined",defaultMessage:"Your call has been declined by {username}",values:{username:L.displayUsername(this.props.userId)}})),this.stopRinging(),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:e}),this.doCleanup()}},{key:"onUnsupported",value:function(){this.mounted&&(this.stopRinging(),this.setState({error:b.default.createElement(_.FormattedMessage,{id:"webrtc.unsupported",defaultMessage:"Call to {username} not successful. Their client does not support video calls.",values:{username:L.displayUsername(this.props.userId)}}),callInProgress:!1,isCalling:!1,isAnswering:!1})),this.doCleanup()}},{key:"onNoAnswer",value:function(){var e=null;this.state.isCalling&&(e=b.default.createElement(_.FormattedMessage,{id:"webrtc.noAnswer",defaultMessage:"{username} is not answering the call",values:{username:L.displayUsername(this.props.userId)}})),this.stopRinging(),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:e}),this.doCleanup()}},{key:"onBusy",value:function(){var e=null;this.state.isCalling&&(e=b.default.createElement(_.FormattedMessage,{id:"webrtc.busy",defaultMessage:"{username} is busy",values:{username:L.displayUsername(this.props.userId)}})),this.stopRinging(),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:e}),this.doCleanup()}},{key:"onDisabled",value:function(){var e=null;this.state.isCalling&&(e=b.default.createElement(_.FormattedMessage,{id:"webrtc.disabled",defaultMessage:"{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.",values:{username:L.displayUsername(this.props.userId)}})),this.stopRinging(),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:e}),this.doCleanup()}},{key:"onFailed",value:function(){(0,w.trackEvent)("api","api_users_webrtc_failed"),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,isPaused:!1,isMuted:!1,isRemotePaused:!1,isRemoteMuted:!1,error:b.default.createElement(_.FormattedMessage,{id:"webrtc.failed",defaultMessage:"There was a problem connecting the video call"})}),this.stopRinging(),this.doCleanup()}},{key:"onCancelled",value:function(){this.mounted&&this.state.isAnswering&&(this.stopRinging(),this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,error:b.default.createElement(_.FormattedMessage,{id:"webrtc.cancelled",defaultMessage:"{username} cancelled the call",values:{username:L.displayUsername(this.props.userId)}})})),this.doCleanup()}},{key:"onConnectCall",value:function(){var t=this;x.webrtcToken(function(a){var n=b.default.createElement(_.FormattedMessage,{id:"connecting_screen",defaultMessage:"Connecting"});if(t.setState({isAnswering:!t.state.isCalling,connectingMsg:n}),t.session)t.onSessionCreated();else{var r=[];a.stun_uri&&r.push({urls:a.stun_uri.split(" ")}),a.turn_uri&&r.push({urls:a.turn_uri.split(" "),username:a.turn_username,credential:a.turn_password}),E.default.init({debug:"true"===e.mm_config.EnableDeveloper}),t.session=new E.default({server:a.gateway_url,iceServers:r,token:a.token,success:t.onSessionCreated,error:t.onSessionError})}},function(){t.onSessionError()})}},{key:"onSessionCreated",value:function(){var e=this;this.videocall?this.doCall():this.session.attach({plugin:"janus.plugin.videocall",success:function(t){e.videocall=t,e.videocall.send({message:{request:"register",username:e.state.currentUser.id}})},error:this.onSessionError,onmessage:this.handleVideoCallEvent,onremotestream:this.handleRemoteStream})}},{key:"onSessionError",value:function(){var e=this.state.currentUser;I.default.sendMessage("webrtc",{action:R.WebrtcActionTypes.FAILED,from_user_id:e.id,to_user_id:this.props.userId}),this.onFailed()}},{key:"doCall",value:function(){var e=this;setTimeout(function(){e.videocall.createOffer({stream:e.localMedia,success:function(t){var a={request:"call",username:e.props.userId};e.videocall.send({message:a,jsep:t})},error:function(){e.doHangup(!0)}})},R.Constants.WEBRTC_TIME_DELAY)}},{key:"doAnswer",value:function(e){var t=this;(0,w.trackEvent)("api","api_users_webrtc_start"),this.videocall.createAnswer({jsep:e,stream:this.localMedia,success:function(e){var a={request:"accept"};t.videocall.send({message:a,jsep:e})},error:function(){t.doHangup(!0)}})}},{key:"doHangup",value:function(e,t){return(0,w.trackEvent)("api","api_users_webrtc_end"),this.videocall&&this.state.callInProgress&&(this.videocall.send({message:{request:"hangup"}}),this.videocall.hangup(),this.toggleIcons(),this.localMedia&&(this.localMedia.getVideoTracks()[0].enabled=!0,this.localMedia.getAudioTracks()[0].enabled=!0)),e?(this.onSessionError(),this.doCleanup()):(N.default.setVideoCallWith(null),N.default.emitRhsChanged(!1),t?this.close():(this.setState({isCalling:!1,isAnswering:!1,callInProgress:!1,isPaused:!1,isMuted:!1,isRemotePaused:!1,isRemoteMuted:!1,error:null,ended:b.default.createElement(_.FormattedMessage,{id:"webrtc.callEnded",defaultMessage:"Call with {username} ended.",values:{username:L.displayUsername(this.props.userId)}})}),this.clearError(),this.doCleanup()))}},{key:"doCleanup",value:function(){N.default.setVideoCallWith(null),this.videocall&&(this.videocall.detach(),this.videocall=null)}},{key:"onToggleVideo",value:function(){var e=!this.state.isPaused;e?this.videocall.unmuteVideo():this.videocall.muteVideo();var t=this.state.currentUser;I.default.sendMessage("webrtc",{action:R.WebrtcActionTypes.MUTED,from_user_id:t.id,to_user_id:this.props.userId,type:"video",mute:e}),this.setState({isPaused:e,error:null,ended:null})}},{key:"onToggleAudio",value:function(){var e=!this.state.isMuted;e?this.videocall.unmuteAudio():this.videocall.muteAudio();var t=this.state.currentUser;I.default.sendMessage("webrtc",{action:R.WebrtcActionTypes.MUTED,from_user_id:t.id,to_user_id:this.props.userId,type:"audio",mute:e}),this.setState({isMuted:e,error:null,ended:null})}},{key:"onToggleRemoteMute",value:function(e){"video"===e.type?this.setState({isRemotePaused:e.mute}):this.setState({isRemoteMuted:e.mute,error:null,ended:null})}},{key:"toggleIcons",value:function(){var e=this.refs.icons;e&&(e.classList.toggle("hidden"),e.classList.toggle("active"))}},{key:"renderButtons",value:function(){var e=this,t=void 0;if(this.state.isCalling)t=b.default.createElement("svg",{id:"cancel",className:"webrtc-icons__cancel",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:function(){return e.handleCancelOffer()}},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.cancel",defaultMessage:"Cancel Call"}))),b.default.createElement("path",{transform:"scale(0.8), translate(6,10)",d:"M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z",fill:"white"}));else if(!this.state.callInProgress&&this.state.localMediaLoaded)t=b.default.createElement("svg",{id:"call",className:"webrtc-icons__call",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:function(){return e.handleMakeOffer()},disabled:"offline"===T.default.getStatus(this.props.userId)},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.call",defaultMessage:"Call"}))),b.default.createElement("path",{transform:"translate(-10,-10)",fill:"#fff",d:"M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z"}));else if(this.state.callInProgress){var a="off",n="on",r="off",i="on",o=b.default.createElement(_.FormattedMessage,{id:"webrtc.mute_audio",defaultMessage:"Mute"}),s=b.default.createElement(_.FormattedMessage,{id:"webrtc.pause_video",defaultMessage:"Turn off Video"});this.state.isMuted&&(a="on",n="off",o=b.default.createElement(_.FormattedMessage,{id:"webrtc.unmute_audio",defaultMessage:"Unmute"})),this.state.isPaused&&(r="on",i="off",s=b.default.createElement(_.FormattedMessage,{id:"webrtc.unpause_video",defaultMessage:"Turn on Video"})),t=b.default.createElement("div",{ref:"icons",className:"webrtc-icons hidden"},b.default.createElement("svg",{id:"mute-audio",className:"webrtc-icons__call",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:function(){return e.onToggleAudio()}},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,o)),b.default.createElement("path",{className:a,transform:"scale(0.6), translate(17,18)",d:"M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z",fill:"white"}),b.default.createElement("path",{className:n,transform:"scale(0.6), translate(17,18)",d:"M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z",fill:"white"})),b.default.createElement("svg",{id:"mute-video",className:"webrtc-icons__call",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:function(){return e.onToggleVideo()}},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,s)),b.default.createElement("path",{className:r,transform:"scale(0.6), translate(17,16)",d:"M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z",fill:"white"}),b.default.createElement("path",{className:i,transform:"scale(0.6), translate(17,16)",d:"M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z",fill:"white"})),b.default.createElement("svg",{id:"hangup",className:"webrtc-icons__cancel",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"-10 -10 68 68",onClick:function(){return e.doHangup(!1,!0)}},b.default.createElement("circle",{cx:"24",cy:"24",r:"34"},b.default.createElement("title",null,b.default.createElement(_.FormattedMessage,{id:"webrtc.hangup",defaultMessage:"Hang up"}))),b.default.createElement("path",{transform:"scale(0.7), translate(11,10)",d:"M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z",fill:"white"})))}return t}},{key:"render",value:function(){var e=T.default.getCurrentId(),t=b.default.createElement("img",{src:this.state.remoteUserImage}),a=void 0,n="",r="hidden",i=void 0,o=void 0,s="webrtc__local-image hidden",l="webrtc__remote-image";this.state.error?i=b.default.createElement("div",{className:"webrtc__error"},b.default.createElement("div",{className:"form-group has-error"},b.default.createElement("label",{className:"control-label"+this.state.errorType},this.state.error))):this.state.ended&&(i=b.default.createElement("div",{className:"webrtc__error"},b.default.createElement("div",{className:"form-group"},b.default.createElement("label",{className:"control-label"},this.state.ended)))),this.state.isRemoteMuted&&(o=b.default.createElement("div",{className:"webrtc__remote-mute"},b.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"-10 -10 68 68"},b.default.createElement("path",{className:"off",transform:"scale(0.6), translate(17,18)",d:"M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z",fill:"white"}),b.default.createElement("path",{className:"on",transform:"scale(0.6), translate(17,18)",d:"M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z",fill:"white"}))));var u=void 0;null!=e&&(u=b.default.createElement(B.default,null));var d=this.renderButtons(),c=this.state.isCalling,f=void 0,p=void 0;return(c||this.state.isAnswering)&&(c&&(p=b.default.createElement("audio",{ref:"ring",src:F.default,autoPlay:!0})),f=b.default.createElement("div",{className:"connecting"},b.default.createElement(j.default,{position:"absolute",message:this.state.connectingMsg}),p)),this.state.callInProgress&&(this.state.isPaused&&(n="hidden",s="webrtc__local-image",a=b.default.createElement("img",{src:this.state.currentUserImage})),this.state.isRemotePaused?(r="hidden",l="webrtc__remote-image"):(r="",l="webrtc__remote-image hidden")),b.default.createElement("div",{className:"post-right__container"},b.default.createElement("div",{className:"search-bar__container channel-header alt"},u),b.default.createElement("div",{className:"sidebar-right__body"},b.default.createElement(z.default,{username:L.displayUsername(this.props.userId),onClose:this.handleClose,toggleSize:this.props.toggleSize}),b.default.createElement("div",{className:"post-right__scroll"},b.default.createElement("div",{id:"videos"},o,b.default.createElement("div",{id:"main-video",className:r,autoPlay:!0},b.default.createElement("video",{ref:"main-video",autoPlay:!0})),b.default.createElement("div",{id:"local-video",className:n},b.default.createElement("video",{ref:"local-video",autoPlay:!0,muted:!0})),b.default.createElement("div",{className:l},t),b.default.createElement("div",{className:s},a)),i,f,b.default.createElement("div",{className:"webrtc-buttons"},d))))}}]),a}(b.default.Component);t.default=G,G.propTypes={currentUser:g.default.object,userId:g.default.string.isRequired,isCaller:g.default.bool.isRequired,expanded:g.default.bool.isRequired,toggleSize:g.default.func}}).call(t,a(22))},function(e,t,a){(function(t){function n(e){function t(){if(null!=X){if(n.debug("Long poll..."),!Y)return void n.warn("Is the gateway down? (connected=false)");var r=H+"/"+X+"?rid="+(new Date).getTime();void 0!==V&&null!==V&&(r=r+"&maxev="+V),null!==$&&void 0!==$&&(r=r+"&token="+$),null!==K&&void 0!==K&&(r=r+"&apisecret="+K),n.httpAPICall(r,{verb:"GET",withCredentials:W,success:a,timeout:6e4,error:function(a,r){if(n.error(a+": "+r),++Q>3)return Y=!1,void e.error("Lost connection to the gateway (is it down?)");t()}})}}function a(e,r){if(Q=0,A||void 0===X||null===X||!0===r||setTimeout(t,200),A||!n.isArray(e)){if("keepalive"===e.janus)return void n.vdebug("Got a keepalive on session "+X);if("ack"!==e.janus)if("success"!==e.janus){if("webrtcup"===e.janus){n.debug("Got a webrtcup event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var o=Z[i];return void 0===o||null===o?void n.debug("This handle is not attached to this session"):void o.webrtcState(!0)}if("hangup"===e.janus){n.debug("Got a hangup event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var o=Z[i];if(void 0===o||null===o)return void n.debug("This handle is not attached to this session");o.webrtcState(!1,e.reason),o.hangup()}else if("detached"===e.janus){n.debug("Got a detached event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var o=Z[i];if(void 0===o||null===o)return;o.detached=!0,o.ondetached(),o.detach()}else if("media"===e.janus){n.debug("Got a media event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var o=Z[i];if(void 0===o||null===o)return void n.debug("This handle is not attached to this session");o.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){n.debug("Got a slowlink event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var o=Z[i];if(void 0===o||null===o)return void n.debug("This handle is not attached to this session");o.slowLink(e.uplink,e.nacks)}else{if("error"===e.janus){n.error("Ooops: "+e.error.code+" "+e.error.reason),n.debug(e);var s=e.transaction;if(null!==s&&void 0!==s){var l=ee[s];null!==l&&void 0!==l&&l(e),delete ee[s]}return}if("event"===e.janus){n.debug("Got a plugin event on session "+X),n.debug(e);var i=e.sender;if(void 0===i||null===i)return void n.warn("Missing sender...");var u=e.plugindata;if(void 0===u||null===u)return void n.warn("Missing plugindata...");n.debug("  -- Event is coming from "+i+" ("+u.plugin+")");var d=u.data;n.debug(d);var o=Z[i];if(void 0===o||null===o)return void n.warn("This handle is not attached to this session");var c=e.jsep;void 0!==c&&null!==c&&(n.debug("Handling SDP as well..."),n.debug(c));var f=o.onmessage;null!==f&&void 0!==f?(n.debug("Notifying application..."),f(d,c)):n.debug("No provided notification callback")}else n.warn("Unkown message/event  '"+e.janus+"' on session "+X),n.debug(e)}}else{n.debug("Got a success on session "+X),n.debug(e);var s=e.transaction;if(null!==s&&void 0!==s){var l=ee[s];null!==l&&void 0!==l&&l(e),delete ee[s]}}else{n.debug("Got an ack on session "+X),n.debug(e);var s=e.transaction;if(null!==s&&void 0!==s){var l=ee[s];null!==l&&void 0!==l&&l(e),delete ee[s]}}}else for(var p=0;p<e.length;p++)a(e[p],!0)}function r(){if(null!==H&&A&&Y){F=setTimeout(r,3e4);var e={janus:"keepalive",session_id:X,transaction:n.randomString(12)};null!==$&&void 0!==$&&(e.token=$),null!==K&&void 0!==K&&(e.apisecret=K),L.send(JSON.stringify(e))}}function i(o){var s=n.randomString(12),l={janus:"create",transaction:s};if(null!==$&&void 0!==$&&(l.token=$),null!==K&&void 0!==K&&(l.apisecret=K),null===H&&n.isArray(U)&&(H=U[j],0===H.indexOf("ws")?(A=!0,n.log("Server #"+(j+1)+": trying WebSockets to contact Janus ("+H+")")):(A=!1,n.log("Server #"+(j+1)+": trying REST API to contact Janus ("+H+")"))),A){L=n.newWebSocket(H,"janus-protocol"),D={error:function(){if(n.error("Error connecting to the Janus WebSockets server... "+H),n.isArray(U))return++j==U.length?void o.error("Error connecting to any of the provided Janus servers: Is the gateway down?"):(H=null,void setTimeout(function(){i(o)},200));o.error("Error connecting to the Janus WebSockets server: Is the gateway down?")},open:function(){ee[s]=function(e){if(n.debug(e),"success"!==e.janus)return n.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);F=setTimeout(r,3e4),Y=!0,X=e.data.id,n.log("Created session: "+X),n.sessions[X]=J,o.success()},L.send(JSON.stringify(l))},message:function(e){a(JSON.parse(e.data))},close:function(){null!==H&&Y&&(Y=!1,e.error("Lost connection to the gateway (is it down?)"))}};for(var u in D)L.addEventListener(u,D[u])}else n.httpAPICall(H,{verb:"POST",withCredentials:W,body:l,success:function(e){if(n.debug(e),"success"!==e.janus)return n.error("Ooops: "+e.error.code+" "+e.error.reason),void o.error(e.error.reason);Y=!0,X=e.data.id,n.log("Created session: "+X),n.sessions[X]=J,t(),o.success()},error:function(e,t){if(n.error(e+": "+t),n.isArray(U))return++j==U.length?void o.error("Error connecting to any of the provided Janus servers: Is the gateway down?"):(H=null,void setTimeout(function(){i(o)},200));""===t?o.error(e+": Is the gateway down?"):o.error(e+": "+t)}})}function o(t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop;var a=!0;if(void 0!==t.asyncRequest&&null!==t.asyncRequest&&(a=!0===t.asyncRequest),n.log("Destroying session "+X+" (async="+a+")"),!Y)return n.warn("Is the gateway down? (connected=false)"),void t.success();if(void 0===X||null===X)return n.warn("No session to destroy"),t.success(),void e.destroyed();delete n.sessions[X];var r={janus:"destroy",transaction:n.randomString(12)};if(null!==$&&void 0!==$&&(r.token=$),null!==K&&void 0!==K&&(r.apisecret=K),A){r.session_id=X;var i=function(){for(var e in D)L.removeEventListener(e,D[e]);L.removeEventListener("message",o),L.removeEventListener("error",s),F&&clearTimeout(F)},o=function(a){var n=JSON.parse(a.data);n.session_id==r.session_id&&n.transaction==r.transaction&&(i(),t.success(),e.destroyed())},s=function(a){i(),t.error("Failed to destroy the gateway: Is the gateway down?"),e.destroyed()};return L.addEventListener("message",o),L.addEventListener("error",s),void L.send(JSON.stringify(r))}n.httpAPICall(H+"/"+X,{verb:"POST",async:a,withCredentials:W,body:r,success:function(a){n.log("Destroyed session:"),n.debug(a),X=null,Y=!1,"success"!==a.janus&&n.error("Ooops: "+a.error.code+" "+a.error.reason),t.success(),e.destroyed()},error:function(a,r){n.error(a+": "+r),X=null,Y=!1,t.success(),e.destroyed()}})}function s(e){if(e=e||{},e.success="function"==typeof e.success?e.success:n.noop,e.error="function"==typeof e.error?e.error:n.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:n.noop,e.iceState="function"==typeof e.iceState?e.iceState:n.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:n.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:n.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:n.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:n.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:n.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:n.noop,e.ondata="function"==typeof e.ondata?e.ondata:n.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:n.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:n.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:n.noop,!Y)return n.warn("Is the gateway down? (connected=false)"),void e.error("Is the gateway down? (connected=false)");var t=e.plugin;if(void 0===t||null===t)return n.error("Invalid plugin"),void e.error("Invalid plugin");var a=e.opaqueId,r=n.randomString(12),i={janus:"attach",plugin:t,opaque_id:a,transaction:r};if(null!==$&&void 0!==$&&(i.token=$),null!==K&&void 0!==K&&(i.apisecret=K),"chrome"!=n.webRTCAdapter.browserDetails.browser&&"firefox"!=n.webRTCAdapter.browserDetails.browser&&"safari"!=n.webRTCAdapter.browserDetails.browser||(i["force-bundle"]=!0,i["force-rtcp-mux"]=!0),A)return ee[r]=function(a){if(n.debug(a),"success"!==a.janus)return n.error("Ooops: "+a.error.code+" "+a.error.reason),void e.error("Ooops: "+a.error.code+" "+a.error.reason);var r=a.data.id;n.log("Created handle: "+r);var i={session:J,plugin:t,id:r,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,pc:null,dataChannel:null,dtmfSender:null,trickle:!0,iceDone:!1,sdpSent:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return r},getPlugin:function(){return t},getVolume:function(){return _(r)},isAudioMuted:function(){return y(r,!1)},muteAudio:function(){return E(r,!1,!0)},unmuteAudio:function(){return E(r,!1,!1)},isVideoMuted:function(){return y(r,!0)},muteVideo:function(){return E(r,!0,!0)},unmuteVideo:function(){return E(r,!0,!1)},getBitrate:function(){return w(r)},send:function(e){l(r,e)},data:function(e){d(r,e)},dtmf:function(e){c(r,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){h(r,e)},createAnswer:function(e){h(r,e)},handleRemoteJsep:function(e){m(r,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){x(r,!0===e)},detach:function(e){f(r,e)}};Z[r]=i,e.success(i)},i.session_id=X,void L.send(JSON.stringify(i));n.httpAPICall(H+"/"+X,{verb:"POST",withCredentials:W,body:i,success:function(a){if(n.debug(a),"success"!==a.janus)return n.error("Ooops: "+a.error.code+" "+a.error.reason),void e.error("Ooops: "+a.error.code+" "+a.error.reason);var r=a.data.id;n.log("Created handle: "+r);var i={session:J,plugin:t,id:r,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,pc:null,dataChannel:null,dtmfSender:null,trickle:!0,iceDone:!1,sdpSent:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return r},getPlugin:function(){return t},getVolume:function(){return _(r)},isAudioMuted:function(){return y(r,!1)},muteAudio:function(){return E(r,!1,!0)},unmuteAudio:function(){return E(r,!1,!1)},isVideoMuted:function(){return y(r,!0)},muteVideo:function(){return E(r,!0,!0)},unmuteVideo:function(){return E(r,!0,!1)},getBitrate:function(){return w(r)},send:function(e){l(r,e)},data:function(e){d(r,e)},dtmf:function(e){c(r,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){h(r,e)},createAnswer:function(e){h(r,e)},handleRemoteJsep:function(e){m(r,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){x(r,!0===e)},detach:function(e){f(r,e)}};Z[r]=i,e.success(i)},error:function(e,t){n.error(e+": "+t)}})}function l(e,t){if(t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:n.noop,!Y)return n.warn("Is the gateway down? (connected=false)"),void t.error("Is the gateway down? (connected=false)");var a=t.message,r=t.jsep,i=n.randomString(12),o={janus:"message",body:a,transaction:i};if(null!==$&&void 0!==$&&(o.token=$),null!==K&&void 0!==K&&(o.apisecret=K),null!==r&&void 0!==r&&(o.jsep=r),n.debug("Sending message to plugin (handle="+e+"):"),n.debug(o),A)return o.session_id=X,o.handle_id=e,ee[i]=function(e){if(n.debug("Message sent!"),n.debug(e),"success"===e.janus){var a=e.plugindata;if(void 0===a||null===a)return n.warn("Request succeeded, but missing plugindata..."),void t.success();n.log("Synchronous transaction successful ("+a.plugin+")");var r=a.data;return n.debug(r),void t.success(r)}if("ack"!==e.janus)return void(void 0!==e.error&&null!==e.error?(n.error("Ooops: "+e.error.code+" "+e.error.reason),t.error(e.error.code+" "+e.error.reason)):(n.error("Unknown error"),t.error("Unknown error")));t.success()},void L.send(JSON.stringify(o));n.httpAPICall(H+"/"+X+"/"+e,{verb:"POST",withCredentials:W,body:o,success:function(e){if(n.debug("Message sent!"),n.debug(e),"success"===e.janus){var a=e.plugindata;if(void 0===a||null===a)return n.warn("Request succeeded, but missing plugindata..."),void t.success();n.log("Synchronous transaction successful ("+a.plugin+")");var r=a.data;return n.debug(r),void t.success(r)}if("ack"!==e.janus)return void(void 0!==e.error&&null!==e.error?(n.error("Ooops: "+e.error.code+" "+e.error.reason),t.error(e.error.code+" "+e.error.reason)):(n.error("Unknown error"),t.error("Unknown error")));t.success()},error:function(e,a){n.error(e+": "+a),t.error(e+": "+a)}})}function u(e,t){if(!Y)return void n.warn("Is the gateway down? (connected=false)");var a={janus:"trickle",candidate:t,transaction:n.randomString(12)};if(null!==$&&void 0!==$&&(a.token=$),null!==K&&void 0!==K&&(a.apisecret=K),n.vdebug("Sending trickle candidate (handle="+e+"):"),n.vdebug(a),A)return a.session_id=X,a.handle_id=e,void L.send(JSON.stringify(a));n.httpAPICall(H+"/"+X+"/"+e,{verb:"POST",withCredentials:W,body:a,success:function(e){if(n.vdebug("Candidate sent!"),n.vdebug(e),"ack"!==e.janus)return void n.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){n.error(e+": "+t)}})}function d(e,t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:n.noop;var a=Z[e];if(null===a||void 0===a||null===a.webrtcStuff||void 0===a.webrtcStuff)return n.warn("Invalid handle"),void t.error("Invalid handle");var r=a.webrtcStuff,i=t.text;if(null===i||void 0===i)return n.warn("Invalid text"),void t.error("Invalid text");n.log("Sending string on data channel: "+i),r.dataChannel.send(i),t.success()}function c(e,t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:n.noop;var a=Z[e];if(null===a||void 0===a||null===a.webrtcStuff||void 0===a.webrtcStuff)return n.warn("Invalid handle"),void t.error("Invalid handle");var r=a.webrtcStuff;if(null===r.dtmfSender||void 0===r.dtmfSender){if(void 0!==r.myStream&&null!==r.myStream){var i=r.myStream.getAudioTracks();if(null!==i&&void 0!==i&&i.length>0){var o=i[0];r.dtmfSender=r.pc.createDTMFSender(o),n.log("Created DTMF Sender"),r.dtmfSender.ontonechange=function(e){n.debug("Sent DTMF tone: "+e.tone)}}}if(null===r.dtmfSender||void 0===r.dtmfSender)return n.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var s=t.dtmf;if(null===s||void 0===s)return n.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var l=s.tones;if(null===l||void 0===l)return n.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var u=s.duration;null!==u&&void 0!==u||(u=500);var d=s.gap;null!==d&&void 0!==d||(d=50),n.debug("Sending DTMF string "+l+" (duration "+u+"ms, gap "+d+"ms)"),r.dtmfSender.insertDTMF(l,u,d)}function f(e,t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:n.noop,n.warn(t);var a=!0;if(void 0!==t.asyncRequest&&null!==t.asyncRequest&&(a=!0===t.asyncRequest),n.log("Destroying handle "+e+" (async="+a+")"),x(e),Z[e].detached)return delete Z[e],void t.success();if(!Y)return n.warn("Is the gateway down? (connected=false)"),void t.error("Is the gateway down? (connected=false)");var r={janus:"detach",transaction:n.randomString(12)};if(null!==$&&void 0!==$&&(r.token=$),null!==K&&void 0!==K&&(r.apisecret=K),A)return r.session_id=X,r.handle_id=e,L.send(JSON.stringify(r)),delete Z[e],void t.success();n.httpAPICall(H+"/"+X+"/"+e,{verb:"POST",async:a,withCredentials:W,body:r,success:function(a){n.log("Destroyed handle:"),n.debug(a),"success"!==a.janus&&n.error("Ooops: "+a.error.code+" "+a.error.reason),delete Z[e],t.success()},error:function(a,r){n.error(a+": "+r),delete Z[e],t.success()}})}function p(e,t,a,r,i){var o=Z[e];if(null===o||void 0===o||null===o.webrtcStuff||void 0===o.webrtcStuff)return n.warn("Invalid handle"),void r.error("Invalid handle");var s=o.webrtcStuff;n.debug("streamsDone:",i),s.myStream=i;var l={iceServers:B,iceTransportPolicy:q,bundlePolicy:z},d={optional:[{DtlsSrtpKeyAgreement:!0}]};if(!0===G&&d.optional.push({googIPv6:!0}),r.rtcConstraints&&"object"==typeof r.rtcConstraints){n.debug("Adding custom PeerConnection constraints:",r.rtcConstraints);for(var c in r.rtcConstraints)d.optional.push(r.rtcConstraints[c])}if("edge"===n.webRTCAdapter.browserDetails.browser&&(l.bundlePolicy="max-bundle"),n.log("Creating PeerConnection"),n.debug(d),s.pc=new RTCPeerConnection(l,d),n.debug(s.pc),s.pc.getStats&&(s.volume.value=0,s.bitrate.value="0 kbits/sec"),n.log("Preparing local SDP and gathering candidates (trickle="+s.trickle+")"),s.pc.oniceconnectionstatechange=function(e){s.pc&&o.iceState(s.pc.iceConnectionState)},s.pc.onicecandidate=function(t){if(null==t.candidate||"edge"===n.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)n.log("End of candidates."),s.iceDone=!0,!0===s.trickle?u(e,{completed:!0}):b(e,r);else{var a={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===s.trickle&&u(e,a)}},null!==i&&void 0!==i&&(n.log("Adding local stream"),i.getTracks().forEach(function(e){s.pc.addTrack(e,i)}),o.onlocalstream(i)),s.pc.ontrack=function(e){n.log("Handling Remote Track"),n.debug(e),e.streams&&(s.remoteStream=e.streams[0],o.onremotestream(s.remoteStream))},I(a)){n.log("Creating data channel");var f=function(e){n.log("Received message on data channel: "+e.data),o.ondata(e.data)},p=function(){var e=null!==s.dataChannel?s.dataChannel.readyState:"null";n.log("State change on data channel: "+e),"open"===e&&o.ondataopen()},h=function(e){n.error("Got error on data channel:",e)};s.dataChannel=s.pc.createDataChannel("JanusDataChannel",{ordered:!1}),s.dataChannel.onmessage=f,s.dataChannel.onopen=p,s.dataChannel.onclose=p,s.dataChannel.onerror=h}null===t||void 0===t?g(e,a,r):s.pc.setRemoteDescription(new RTCSessionDescription(t),function(){n.log("Remote description accepted!"),v(e,a,r)},r.error)}function h(e,t){function a(a,n){s.consentDialog(!1),a?t.error({code:a.code,name:a.name,message:a.message}):p(e,i,o,t,n)}function r(e,t,a){n.log("Adding media constraint (screen capture)"),n.debug(e),navigator.mediaDevices.getUserMedia(e).then(function(e){a?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){e.addTrack(a.getAudioTracks()[0]),t(null,e)}):t(null,e)}).catch(function(e){s.consentDialog(!1),t(e)})}t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:C;var i=t.jsep,o=t.media,s=Z[e];if(null===s||void 0===s||null===s.webrtcStuff||void 0===s.webrtcStuff)return n.warn("Invalid handle"),void t.error("Invalid handle");var l=s.webrtcStuff;if(void 0!==l.pc&&null!==l.pc)return n.log("Updating existing media session"),void(null===i||void 0===i?g(e,o,t):l.pc.setRemoteDescription(new RTCSessionDescription(i),function(){n.log("Remote description accepted!"),v(e,o,t)},t.error));if(l.trickle=R(t.trickle),null!==t.stream&&void 0!==t.stream){var u=t.stream;return n.log("MediaStream provided by the application"),n.debug(u),l.streamExternal=!0,void p(e,i,o,t,u)}if(S(o)||P(o)){var d={mandatory:{},optional:[]};s.consentDialog(!0);var c=S(o);!0===c&&void 0!=o&&null!=o&&"object"==typeof o.audio&&(c=o.audio);var f=P(o);if(!0===f&&void 0!=o&&null!=o){if(!(!0===t.simulcast)||i||void 0!==o.video&&!1!==o.video||(o.video="hires"),o.video&&"screen"!=o.video&&"window"!=o.video){var h=0,m=0,b=0;if("lowres"===o.video)m=240,b=240,h=320;else if("lowres-16:9"===o.video)m=180,b=180,h=320;else if("hires"===o.video||"hires-16:9"===o.video){if(m=720,b=720,h=1280,navigator.mozGetUserMedia){var _=parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10);_<38&&(n.warn(o.video+" unsupported, falling back to stdres (old Firefox)"),m=480,b=480,h=640)}}else"stdres"===o.video?(m=480,b=480,h=640):"stdres-16:9"===o.video?(m=360,b=360,h=640):(n.log("Default video setting is stdres 4:3"),m=480,b=480,h=640);if(n.log("Adding media constraint:",o.video),navigator.mozGetUserMedia){var _=parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10);f=_<38?{require:["height","width"],height:{max:b,min:m},width:{max:h,min:h}}:{height:{ideal:m},width:{ideal:h}}}else f={mandatory:{maxHeight:b,minHeight:m,maxWidth:h,minWidth:h},optional:[]};"object"==typeof o.video&&(f=o.video),n.debug(f)}else if("screen"===o.video||"window"===o.video){if(o.screenshareFrameRate||(o.screenshareFrameRate=3),"https:"!==window.location.protocol)return n.warn("Screen sharing only works on HTTPS, try the https:// version of this page"),s.consentDialog(!1),void t.error("Screen sharing only works on HTTPS, try the https:// version of this page");var y={};if("chrome"===n.webRTCAdapter.browserDetails.browser){var E=n.webRTCAdapter.browserDetails.version,w=33;if(window.navigator.userAgent.match("Linux")&&(w=35),E>=26&&E<=w)d={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:o.screenshareFrameRate,maxFrameRate:o.screenshareFrameRate,chromeMediaSource:"screen"}},audio:S(o)},r(d,a);else{var x=window.setTimeout(function(){return T=new Error("NavigatorUserMediaError"),T.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',s.consentDialog(!1),t.error(T)},1e3);y[x]=[a,null],window.postMessage({type:"janusGetScreen",id:x},"*")}}else if(window.navigator.userAgent.match("Firefox")){var M=parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10);if(!(M>=33)){var T=new Error("NavigatorUserMediaError");return T.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",s.consentDialog(!1),void t.error(T)}d={video:{mozMediaSource:o.video,mediaSource:o.video},audio:S(o)},r(d,function(e,t){if(a(e,t),!e)var n=t.currentTime,r=window.setInterval(function(){t||window.clearInterval(r),t.currentTime==n&&(window.clearInterval(r),t.onended&&t.onended()),n=t.currentTime},500)})}return void window.addEventListener("message",function(e){if(e.origin==window.location.origin)if("janusGotScreen"==e.data.type&&y[e.data.id]){var a=y[e.data.id],n=a[0];if(delete y[e.data.id],""===e.data.sourceId){var i=new Error("NavigatorUserMediaError");i.name="You cancelled the request for permission, giving up...",s.consentDialog(!1),t.error(i)}else d={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:o.screenshareFrameRate,maxFrameRate:o.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},d.video.mandatory.chromeMediaSourceId=e.data.sourceId,r(d,n,S(o))}else"janusGetScreenPending"==e.data.type&&window.clearTimeout(e.data.id)})}}null!==o&&void 0!==o&&"screen"===o.video||navigator.mediaDevices.enumerateDevices().then(function(a){var n=a.some(function(e){return"audioinput"===e.kind}),r=a.some(function(e){return"videoinput"===e.kind}),l=S(o),u=P(o),d=k(o),h=N(o);if(l||u||d||h){var m=!!l&&n,g=!!u&&r;if(!m&&!g)return s.consentDialog(!1),t.error("No capture device found"),!1;if(!m&&d)return s.consentDialog(!1),t.error("Audio capture is required, but no capture device found"),!1;if(!g&&h)return s.consentDialog(!1),t.error("Video capture is required, but no capture device found"),!1}navigator.mediaDevices.getUserMedia({audio:!!n&&c,video:!!r&&f}).then(function(a){s.consentDialog(!1),p(e,i,o,t,a)}).catch(function(e){s.consentDialog(!1),t.error({code:e.code,name:e.name,message:e.message})})}).catch(function(e){s.consentDialog(!1),t.error("enumerateDevices error",e)})}else p(e,i,o,t)}function m(e,t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:C;var a=t.jsep,r=Z[e];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return n.warn("Invalid handle"),void t.error("Invalid handle");var i=r.webrtcStuff;if(void 0!==a&&null!==a){if(null===i.pc)return n.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");i.pc.setRemoteDescription(new RTCSessionDescription(a),function(){n.log("Remote description accepted!"),t.success()},t.error)}else t.error("Invalid JSEP")}function g(e,t,a){a=a||{},a.success="function"==typeof a.success?a.success:n.noop,a.error="function"==typeof a.error?a.error:n.noop;var r=Z[e];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return n.warn("Invalid handle"),void a.error("Invalid handle");var i=r.webrtcStuff,o=!0===a.simulcast;o?n.log("Creating offer (iceDone="+i.iceDone+", simulcast="+o+")"):n.log("Creating offer (iceDone="+i.iceDone+")");var s=null;s="firefox"==n.webRTCAdapter.browserDetails.browser||"edge"==n.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:T(t),offerToReceiveVideo:O(t)}:{mandatory:{OfferToReceiveAudio:T(t),OfferToReceiveVideo:O(t)}},n.debug(s);var l=P(t);if(l&&o&&"firefox"===n.webRTCAdapter.browserDetails.browser){n.log("Enabling Simulcasting for Firefox (RID)");var u=i.pc.getSenders()[1];n.log(u);var d=u.getParameters();n.log(d),u.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:1e6},{rid:"medium",active:!0,priority:"medium",maxBitrate:3e5},{rid:"low",active:!0,priority:"low",maxBitrate:1e5}]})}i.pc.createOffer(function(e){if(n.debug(e),null!==i.mySdp&&void 0!==i.mySdp||(n.log("Setting local description"),l&&o&&("chrome"===n.webRTCAdapter.browserDetails.browser?(n.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=M(e.sdp)):"firefox"!==n.webRTCAdapter.browserDetails.browser&&n.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e)),!i.iceDone&&!i.trickle)return void n.log("Waiting for all candidates...");if(i.sdpSent)return void n.log("Offer already sent, not sending it again");n.log("Offer ready"),n.debug(a),i.sdpSent=!0;var t={type:e.type,sdp:e.sdp};a.success(t)},a.error,s)}function v(e,t,a){a=a||{},a.success="function"==typeof a.success?a.success:n.noop,a.error="function"==typeof a.error?a.error:n.noop;var r=Z[e];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return n.warn("Invalid handle"),void a.error("Invalid handle");var i=r.webrtcStuff,o=!0===a.simulcast;o?n.log("Creating answer (iceDone="+i.iceDone+", simulcast="+o+")"):n.log("Creating answer (iceDone="+i.iceDone+")");var s=null;s="firefox"==n.webRTCAdapter.browserDetails.browser||"edge"==n.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:T(t),offerToReceiveVideo:O(t)}:{mandatory:{OfferToReceiveAudio:T(t),OfferToReceiveVideo:O(t)}},n.debug(s);var l=P(t);if(l&&o&&"firefox"===n.webRTCAdapter.browserDetails.browser){n.log("Enabling Simulcasting for Firefox (RID)");var u=i.pc.getSenders()[1];n.log(u);var d=u.getParameters();n.log(d),u.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:1e6},{rid:"medium",active:!0,priority:"medium",maxBitrate:3e5},{rid:"low",active:!0,priority:"low",maxBitrate:1e5}]})}i.pc.createAnswer(function(e){if(n.debug(e),null!==i.mySdp&&void 0!==i.mySdp||(n.log("Setting local description"),l&&o&&("chrome"===n.webRTCAdapter.browserDetails.browser?n.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==n.webRTCAdapter.browserDetails.browser&&n.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e)),!i.iceDone&&!i.trickle)return void n.log("Waiting for all candidates...");if(i.sdpSent)return void n.log("Answer already sent, not sending it again");i.sdpSent=!0;var t={type:e.type,sdp:e.sdp};a.success(t)},a.error,s)}function b(e,t){t=t||{},t.success="function"==typeof t.success?t.success:n.noop,t.error="function"==typeof t.error?t.error:n.noop;var a=Z[e];if(null===a||void 0===a||null===a.webrtcStuff||void 0===a.webrtcStuff)return void n.warn("Invalid handle, not sending anything");var r=a.webrtcStuff;return n.log("Sending offer/answer SDP..."),null===r.mySdp||void 0===r.mySdp?void n.warn("Local SDP instance is invalid, not sending anything..."):(r.mySdp={type:r.pc.localDescription.type,sdp:r.pc.localDescription.sdp},r.sdpSent?void n.log("Offer/Answer SDP already sent, not sending it again"):(!1===r.trickle&&(r.mySdp.trickle=!1),n.debug(t),r.sdpSent=!0,void t.success(r.mySdp)))}function _(e){var t=Z[e];if(null===t||void 0===t||null===t.webrtcStuff||void 0===t.webrtcStuff)return n.warn("Invalid handle"),0;var a=t.webrtcStuff;return a.pc.getStats&&"chrome"==n.webRTCAdapter.browserDetails.browser?null===a.remoteStream||void 0===a.remoteStream?(n.warn("Remote stream unavailable"),0):null===a.volume.timer||void 0===a.volume.timer?(n.log("Starting volume monitor"),a.volume.timer=setInterval(function(){a.pc.getStats(function(e){for(var t=e.result(),n=0;n<t.length;n++){var r=t[n];"ssrc"==r.type&&r.stat("audioOutputLevel")&&(a.volume.value=r.stat("audioOutputLevel"))}})},200),0):a.volume.value:(n.log("Getting the remote volume unsupported by browser"),0)}function y(e,t){var a=Z[e];if(null===a||void 0===a||null===a.webrtcStuff||void 0===a.webrtcStuff)return n.warn("Invalid handle"),!0;var r=a.webrtcStuff;return null===r.pc||void 0===r.pc?(n.warn("Invalid PeerConnection"),!0):void 0===r.myStream||null===r.myStream?(n.warn("Invalid local MediaStream"),!0):t?null===r.myStream.getVideoTracks()||void 0===r.myStream.getVideoTracks()||0===r.myStream.getVideoTracks().length?(n.warn("No video track"),!0):!r.myStream.getVideoTracks()[0].enabled:null===r.myStream.getAudioTracks()||void 0===r.myStream.getAudioTracks()||0===r.myStream.getAudioTracks().length?(n.warn("No audio track"),!0):!r.myStream.getAudioTracks()[0].enabled}function E(e,t,a){var r=Z[e];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return n.warn("Invalid handle"),!1;var i=r.webrtcStuff;return null===i.pc||void 0===i.pc?(n.warn("Invalid PeerConnection"),!1):void 0===i.myStream||null===i.myStream?(n.warn("Invalid local MediaStream"),!1):t?null===i.myStream.getVideoTracks()||void 0===i.myStream.getVideoTracks()||0===i.myStream.getVideoTracks().length?(n.warn("No video track"),!1):(i.myStream.getVideoTracks()[0].enabled=!a,!0):null===i.myStream.getAudioTracks()||void 0===i.myStream.getAudioTracks()||0===i.myStream.getAudioTracks().length?(n.warn("No audio track"),!1):(i.myStream.getAudioTracks()[0].enabled=!a,!0)}function w(e){var t=Z[e];if(null===t||void 0===t||null===t.webrtcStuff||void 0===t.webrtcStuff)return n.warn("Invalid handle"),"Invalid handle";var a=t.webrtcStuff;return null===a.pc||void 0===a.pc?"Invalid PeerConnection":a.pc.getStats?null===a.bitrate.timer||void 0===a.bitrate.timer?(n.log("Starting bitrate timer (via getStats)"),a.bitrate.timer=setInterval(function(){a.pc.getStats().then(function(e){e.forEach(function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(a.bitrate.bsnow=e.bytesReceived,a.bitrate.tsnow=e.timestamp,null===a.bitrate.bsbefore||null===a.bitrate.tsbefore)a.bitrate.bsbefore=a.bitrate.bsnow,a.bitrate.tsbefore=a.bitrate.tsnow;else{var r=a.bitrate.tsnow-a.bitrate.tsbefore;"safari"==n.webRTCAdapter.browserDetails.browser&&(r/=1e3);var i=Math.round(8*(a.bitrate.bsnow-a.bitrate.bsbefore)/r);a.bitrate.value=i+" kbits/sec",a.bitrate.bsbefore=a.bitrate.bsnow,a.bitrate.tsbefore=a.bitrate.tsnow}}})})},1e3),"0 kbits/sec"):a.bitrate.value:(n.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser")}function C(e){n.error("WebRTC error:",e)}function x(e,t){n.log("Cleaning WebRTC stuff");var a=Z[e];if(null!==a&&void 0!==a){var r=a.webrtcStuff;if(null!==r&&void 0!==r){if(!0===t){var i={janus:"hangup",transaction:n.randomString(12)};null!==$&&void 0!==$&&(i.token=$),null!==K&&void 0!==K&&(i.apisecret=K),n.debug("Sending hangup request (handle="+e+"):"),n.debug(i),A?(i.session_id=X,i.handle_id=e,L.send(JSON.stringify(i))):n.httpAPICall(H+"/"+X+"/"+e,{verb:"POST",withCredentials:W,data:i})}r.remoteStream=null,r.volume.timer&&clearInterval(r.volume.timer),r.volume.value=null,r.bitrate.timer&&clearInterval(r.bitrate.timer),r.bitrate.timer=null,r.bitrate.bsnow=null,r.bitrate.bsbefore=null,r.bitrate.tsnow=null,r.bitrate.tsbefore=null,r.bitrate.value=null;try{if(!r.streamExternal&&null!==r.myStream&&void 0!==r.myStream){n.log("Stopping local stream tracks");var o=r.myStream.getTracks();for(var s in o){var l=o[s];n.log(l),null!==l&&void 0!==l&&l.stop()}}}catch(e){}r.streamExternal=!1,r.myStream=null;try{r.pc.close()}catch(e){}r.pc=null,r.mySdp=null,r.iceDone=!1,r.sdpSent=!1,r.dataChannel=null,r.dtmfSender=null}a.oncleanup()}}function M(e){for(var t=e.split("\r\n"),a=!1,r=[-1],i=-1,o=null,s=null,l=null,u=null,d=-1,c=0;c<t.length;c++){var f=t[c].match(/m=(\w+) */);if(f){var p=f[1];if("video"===p){if(!(r[0]<0)){d=c;break}a=!0}else if(r[0]>-1){d=c;break}}else if(a){var h=t[c].match(/a=ssrc-group:FID (\d+) (\d+)/);if(h)r[0]=h[1],i=h[2],t.splice(c,1),c--;else{if(r[0]){var m=t[c].match("a=ssrc:"+r[0]+" cname:(.+)");if(m&&(o=m[1]),m=t[c].match("a=ssrc:"+r[0]+" msid:(.+)"),m&&(s=m[1]),m=t[c].match("a=ssrc:"+r[0]+" mslabel:(.+)"),m&&(l=m[1]),m=t[c].match("a=ssrc:"+r+" label:(.+)"),m&&(u=m[1]),0===t[c].indexOf("a=ssrc:"+i)){t.splice(c,1),c--;continue}if(0===t[c].indexOf("a=ssrc:"+r[0])){t.splice(c,1),c--;continue}}0!=t[c].length||(t.splice(c,1),c--)}}}if(r[0]<0){d=-1,a=!1;for(var c=0;c<t.length;c++){var f=t[c].match(/m=(\w+) */);if(f){var p=f[1];if("video"===p){if(!(r[0]<0)){d=c;break}a=!0}else if(r[0]>-1){d=c;break}}else if(a){if(r[0]<0){var g=t[c].match(/a=ssrc:(\d+)/);if(g){r[0]=g[1],t.splice(c,1),c--;continue}}else{var m=t[c].match("a=ssrc:"+r[0]+" cname:(.+)");if(m&&(o=m[1]),m=t[c].match("a=ssrc:"+r[0]+" msid:(.+)"),m&&(s=m[1]),m=t[c].match("a=ssrc:"+r[0]+" mslabel:(.+)"),m&&(l=m[1]),m=t[c].match("a=ssrc:"+r+" label:(.+)"),m&&(u=m[1]),0===t[c].indexOf("a=ssrc:"+i)){t.splice(c,1),c--;continue}if(0===t[c].indexOf("a=ssrc:"+r[0])){t.splice(c,1),c--;continue}}0!=t[c].length||(t.splice(c,1),c--)}}}if(r[0]<0)return n.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;d<0&&(d=t.length),r[1]=Math.floor(4294967295*Math.random()),r[2]=Math.floor(4294967295*Math.random());for(var c=0;c<r.length;c++)o&&(t.splice(d,0,"a=ssrc:"+r[c]+" cname:"+o),d++),s&&(t.splice(d,0,"a=ssrc:"+r[c]+" msid:"+s),d++),l&&(t.splice(d,0,"a=ssrc:"+r[c]+" mslabel:"+s),d++),u&&(t.splice(d,0,"a=ssrc:"+r[c]+" label:"+s),d++);return t.splice(d,0,"a=ssrc-group:SIM "+r[0]+" "+r[1]+" "+r[2]),e=t.join("\r\n"),e.endsWith("\r\n")||(e+="\r\n"),e}function S(e){return n.debug("isAudioSendEnabled:",e),void 0===e||null===e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function k(e){return n.debug("isAudioSendRequired:",e),void 0!==e&&null!==e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}function T(e){return n.debug("isAudioRecvEnabled:",e),void 0===e||null===e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function P(e){return n.debug("isVideoSendEnabled:",e),void 0===e||null===e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function N(e){return n.debug("isVideoSendRequired:",e),void 0!==e&&null!==e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}function O(e){return n.debug("isVideoRecvEnabled:",e),void 0===e||null===e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}function I(e){return n.debug("isDataEnabled:",e),"edge"==n.webRTCAdapter.browserDetails.browser?(n.warn("Edge doesn't support data channels yet"),!1):void 0!==e&&null!==e&&!0===e.data}function R(e){return n.debug("isTrickleEnabled:",e),void 0===e||null===e||!0===e}if(void 0===n.initDone)return e.error("Library not initialized"),{};if(!n.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(n.log("Library initialized: "+n.initDone),e=e||{},e.success="function"==typeof e.success?e.success:n.noop,e.error="function"==typeof e.error?e.error:n.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:n.noop,null===e.server||void 0===e.server)return e.error("Invalid gateway url"),{};var A=!1,L=null,D={},F=null,U=null,j=0,H=e.server;n.isArray(H)?(n.log("Multiple servers provided ("+H.length+"), will use the first that works"),H=null,U=e.server,n.debug(U)):0===H.indexOf("ws")?(A=!0,n.log("Using WebSockets to contact Janus: "+H)):(A=!1,n.log("Using REST API to contact Janus: "+H));var B=e.iceServers;void 0!==B&&null!==B||(B=[{urls:"stun:stun.l.google.com:19302"}]);var q=e.iceTransportPolicy,z=e.bundlePolicy,G=e.ipv6;void 0!==G&&null!==G||(G=!1);var W=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(W=!0===e.withCredentials);var V=null;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(V=e.max_poll_events),V<1&&(V=1);var $=null;void 0!==e.token&&null!==e.token&&($=e.token);var K=null;void 0!==e.apisecret&&null!==e.apisecret&&(K=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var Y=!1,X=null,Z={},J=this,Q=0,ee={};i(e),this.getServer=function(){return H},this.isConnected=function(){return Y},this.getSessionId=function(){return X},this.destroy=function(e){o(e)},this.attach=function(e){s(e)}}var r=a(2127);n.sessions={},n.extensionId="hapfgfdkleiggjjpfpenajgdnfckjpaj",n.isExtensionEnabled=function(){if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||n.checkJanusExtension()}return!0},n.useDefaultDependencies=function(e){var t=e&&e.fetch||fetch,a=e&&e.Promise||Promise,i=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new i(e,t)},isArray:function(e){return Array.isArray(e)},checkJanusExtension:function(){return null!==document.querySelector("#janus-extension-installed")},webRTCAdapter:e&&e.adapter||r,httpAPICall:function(e,r){var i={method:r.verb,cache:"no-cache"};void 0!==r.withCredentials&&(i.credentials=!0===r.withCredentials?"include":r.withCredentials?r.withCredentials:"omit"),void 0!==r.body&&(i.body=JSON.stringify(r.body));var o=t(e,i).catch(function(e){return a.reject({message:"Probably a network error, is the gateway down?",error:e})});if(void 0!==r.timeout){var s=new a(function(e,t){var a=setTimeout(function(){return clearTimeout(a),t({message:"Request timed out",timeout:r.timeout})},r.timeout)});o=a.race([o,s])}return o.then(function(e){return e.ok?typeof r.success==typeof n.noop?e.json().then(function(e){r.success(e)}).catch(function(t){return a.reject({message:"Failed to parse response body",error:t,response:e})}):void 0:a.reject({message:"API call failed",response:e})}).catch(function(e){typeof r.error==typeof n.noop&&r.error(e.message||"<< internal error >>",e)}),o}}},n.useOldDependencies=function(e){var a=e&&e.jQuery||t,i=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new i(e,t)},isArray:function(e){return a.isArray(e)},checkJanusExtension:function(){return a("#janus-extension-installed").length>0},webRTCAdapter:e&&e.adapter||r,httpAPICall:function(e,t){var r=void 0!==t.body?{contentType:"application/json",data:JSON.stringify(t.body)}:{},i=void 0!==t.withCredentials?{xhrFields:{withCredentials:t.withCredentials}}:{};return a.ajax(a.extend(r,i,{url:e,type:t.verb,cache:!1,dataType:"json",async:t.async,timeout:t.timeout,success:function(e){typeof t.success==typeof n.noop&&t.success(e)},error:function(e,a,r){typeof t.error==typeof n.noop&&t.error(a,r)}}))}}},n.noop=function(){},n.init=function(e){if(e=e||{},e.callback="function"==typeof e.callback?e.callback:n.noop,!0===n.initDone)e.callback();else{if("undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),n.trace=n.noop,n.debug=n.noop,n.vdebug=n.noop,n.log=n.noop,n.warn=n.noop,n.error=n.noop,!0===e.debug||"all"===e.debug)n.trace=console.trace.bind(console),n.debug=console.debug.bind(console),n.vdebug=console.debug.bind(console),n.log=console.log.bind(console),n.warn=console.warn.bind(console),n.error=console.error.bind(console);else if(Array.isArray(e.debug))for(var t in e.debug){var a=e.debug[t];switch(a){case"trace":n.trace=console.trace.bind(console);break;case"debug":n.debug=console.debug.bind(console);break;case"vdebug":n.vdebug=console.debug.bind(console);break;case"log":n.log=console.log.bind(console);break;case"warn":n.warn=console.warn.bind(console);break;case"error":n.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+a+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}n.log("Initializing library");var r=e.dependencies||n.useDefaultDependencies();n.isArray=r.isArray,n.webRTCAdapter=r.webRTCAdapter,n.httpAPICall=r.httpAPICall,n.checkJanusExtension=r.checkJanusExtension,n.newWebSocket=r.newWebSocket,n.listDevices=function(e,t){e="function"==typeof e?e:n.noop,null==t&&(t={audio:!0,video:!0}),navigator.mediaDevices?navigator.mediaDevices.getUserMedia(t).then(function(t){navigator.mediaDevices.enumerateDevices().then(function(a){n.debug(a),e(a);try{var r=t.getTracks();for(var i in r){var o=r[i];null!==o&&void 0!==o&&o.stop()}}catch(e){}})}).catch(function(t){n.error(t),e([])}):(n.warn("navigator.mediaDevices unavailable"),e([]))},n.attachMediaStream=function(e,t){if("chrome"===n.webRTCAdapter.browserDetails.browser){n.webRTCAdapter.browserDetails.version>=43?e.srcObject=t:void 0!==e.src?e.src=URL.createObjectURL(t):n.error("Error attaching stream to element")}else e.srcObject=t},n.reattachMediaStream=function(e,t){if("chrome"===n.webRTCAdapter.browserDetails.browser){n.webRTCAdapter.browserDetails.version>=43?e.srcObject=t.srcObject:void 0!==e.src?e.src=t.src:n.error("Error reattaching stream to element")}else e.srcObject=t.srcObject};var i=window.onbeforeunload;window.onbeforeunload=function(){n.log("Closing window");for(var e in n.sessions)null!==n.sessions[e]&&void 0!==n.sessions[e]&&n.sessions[e].destroyOnUnload&&(n.log("Destroying session "+e),n.sessions[e].destroy({asyncRequest:!1}));i&&"function"==typeof i&&i()},n.initDone=!0,e.callback()}},n.isWebrtcSupported=function(){return void 0!==window.RTCPeerConnection&&null!==window.RTCPeerConnection&&void 0!==navigator.getUserMedia&&null!==navigator.getUserMedia},n.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",n=0;n<e;n++){var r=Math.floor(Math.random()*t.length);a+=t.substring(r,r+1)}return a},e.exports=n}).call(t,a(167))},function(e,t,a){"use strict";(function(t){var n=a(2128);e.exports=n({window:t.window})}).call(t,a(22))},function(e,t,a){"use strict";var n=a(1174);e.exports=function(e,t){var r=e&&e.window,i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);var s=n.log,l=n.detectBrowser(r),u={browserDetails:l,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings},d=a(2129)||null,c=a(2131)||null,f=a(2134)||null,p=a(2136)||null,h=a(2137)||null;switch(l.browser){case"chrome":if(!d||!d.shimPeerConnection||!i.shimChrome)return s("Chrome shim is not included in this adapter release."),u;s("adapter.js shimming chrome."),u.browserShim=d,h.shimCreateObjectURL(r),d.shimGetUserMedia(r),d.shimMediaStream(r),d.shimSourceObject(r),d.shimPeerConnection(r),d.shimOnTrack(r),d.shimAddTrackRemoveTrack(r),d.shimGetSendersWithDtmf(r),h.shimRTCIceCandidate(r);break;case"firefox":if(!f||!f.shimPeerConnection||!i.shimFirefox)return s("Firefox shim is not included in this adapter release."),u;s("adapter.js shimming firefox."),u.browserShim=f,h.shimCreateObjectURL(r),f.shimGetUserMedia(r),f.shimSourceObject(r),f.shimPeerConnection(r),f.shimOnTrack(r),f.shimRemoveStream(r),h.shimRTCIceCandidate(r);break;case"edge":if(!c||!c.shimPeerConnection||!i.shimEdge)return s("MS edge shim is not included in this adapter release."),u;s("adapter.js shimming edge."),u.browserShim=c,h.shimCreateObjectURL(r),c.shimGetUserMedia(r),c.shimPeerConnection(r),c.shimReplaceTrack(r);break;case"safari":if(!p||!i.shimSafari)return s("Safari shim is not included in this adapter release."),u;s("adapter.js shimming safari."),u.browserShim=p,h.shimCreateObjectURL(r),p.shimRTCIceServerUrls(r),p.shimCallbacksAPI(r),p.shimLocalStreamsAPI(r),p.shimRemoteStreamsAPI(r),p.shimTrackEventTransceiver(r),p.shimGetUserMedia(r),p.shimCreateOfferLegacy(r),h.shimRTCIceCandidate(r);break;default:s("Unsupported browser!")}return u}},function(e,t,a){"use strict";var n=a(1174),r=n.log;e.exports={shimGetUserMedia:a(2130),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return a._ontrackpoly||(a._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var r;r=e.RTCPeerConnection.prototype.getReceivers?a.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],a.dispatchEvent(i)}),t.stream.getTracks().forEach(function(n){var r;r=e.RTCPeerConnection.prototype.getReceivers?a.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],a.dispatchEvent(i)})},a.addEventListener("addstream",a._ontrackpoly)),t.apply(a,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var a=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var r=this,i=a.apply(r,arguments);return i||(i=t(r,e),r._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;n.apply(t,arguments);var a=t._senders.indexOf(e);-1!==a&&t._senders.splice(a,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var a=this;a._senders=a._senders||[],r.apply(a,[e]),e.getTracks().forEach(function(e){a._senders.push(t(a,e))})};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],i.apply(t,[e]),e.getTracks().forEach(function(e){var a=t._senders.find(function(t){return t.track===e});a&&t._senders.splice(t._senders.indexOf(a),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var a=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),!e)return void(this.src="");this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){a.src&&t.revokeObjectURL(a.src),a.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){a.src&&t.revokeObjectURL(a.src),a.src=t.createObjectURL(e)})}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?-1===this._shimmedLocalStreams[a.id].indexOf(n)&&this._shimmedLocalStreams[a.id].push(n):this._shimmedLocalStreams[a.id]=[a,n],n};var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=t.getSenders();a.apply(this,arguments);var r=t.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(r)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(a){var n=t._shimmedLocalStreams[a].indexOf(e);-1!==n&&t._shimmedLocalStreams[a].splice(n,1),1===t._shimmedLocalStreams[a].length&&delete t._shimmedLocalStreams[a]}),r.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){function t(e,t){var a=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],r=e._streams[n.id];a=a.replace(new RegExp(r.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:a})}function a(e,t){var a=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],r=e._streams[n.id];a=a.replace(new RegExp(n.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:a})}var r=n.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&r.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=i.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var a=this;if(a._streams=a._streams||{},a._reverseStreams=a._reverseStreams||{},t.getTracks().forEach(function(e){if(a.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!a._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());a._streams[t.id]=n,a._reverseStreams[n.id]=t,t=n}o.apply(a,[t])};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},s.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,a){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var i=n._streams[a.id];if(i)i.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var o=new e.MediaStream([t]);n._streams[a.id]=o,n._reverseStreams[o.id]=a,n.addStream(o)}return n.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(a){var n=e.RTCPeerConnection.prototype[a];e.RTCPeerConnection.prototype[a]=function(){var e=this,a=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(e,[function(n){var r=t(e,n);a[0].apply(null,[r])},function(e){a[1]&&a[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then(function(a){return t(e,a)})}});var l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=a(e,arguments[0]),l.apply(e,arguments)):l.apply(e,arguments)};var u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=this,a=u.get.apply(this);return""===a.type?a:t(e,a)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===t.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==t)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");t._streams=t._streams||{};var a;Object.keys(t._streams).forEach(function(n){t._streams[n].getTracks().find(function(t){return e.track===t})&&(a=t._streams[n])}),a&&(1===a.getTracks().length?t.removeStream(t._reverseStreams[a.id]):a.removeTrack(e.track),t.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCPeerConnection){var a=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new a(e,t)},e.RTCPeerConnection.prototype=a.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return a.generateCertificate}})}else e.RTCPeerConnection=function(t,a){return r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,a)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}});var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,a){var n=this,r=arguments;if(arguments.length>0&&"function"==typeof e)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof arguments[0]))return i.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var a={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){a[t]=e.stat(t)}),t[a.id]=a}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var l=function(e){r[1](s(o(e)))};return i.apply(this,[l,arguments[0]])}return new Promise(function(e,t){i.apply(n,[function(t){e(s(o(t)))},t])}).then(t,a)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var a=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,n=new Promise(function(n,r){a.apply(t,[e[0],n,r])});return e.length<2?n:n.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var a=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(n,r){a.apply(e,[n,r,t])})}return a.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var a=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}});var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}},function(e,t,a){"use strict";var n=a(1174),r=n.log;e.exports=function(e){var t=n.detectBrowser(e),a=e&&e.navigator,i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(a){if("require"!==a&&"advanced"!==a&&"mediaSource"!==a){var n="object"==typeof e[a]?e[a]:{ideal:e[a]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var i={};"number"==typeof n.ideal?(i[r("min",a)]=n.ideal,t.optional.push(i),i={},i[r("max",a)]=n.ideal,t.optional.push(i)):(i[r("",a)]=n.ideal,t.optional.push(i))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",a)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,a)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,n){if(t.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,a){t in e&&!(a in e)&&(e[a]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var l=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!a.mediaDevices.getSupportedConstraints||!a.mediaDevices.getSupportedConstraints().facingMode||l)){delete e.video.facingMode;var u;if("environment"===s.exact||"environment"===s.ideal?u=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(u=["front"]),u)return a.mediaDevices.enumerateDevices().then(function(t){t=t.filter(function(e){return"videoinput"===e.kind});var a=t.find(function(e){return u.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!a&&t.length&&-1!==u.indexOf("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=s.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=i(e.video),r("chrome: "+JSON.stringify(e)),n(e)})}e.video=i(e.video)}return r("chrome: "+JSON.stringify(e)),n(e)},s=function(e){return{name:{PermissionDeniedError:"NotAllowedError",InvalidStateError:"NotReadableError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotReadableError",MediaDeviceKillSwitchOn:"NotReadableError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},l=function(e,t,n){o(e,function(e){a.webkitGetUserMedia(e,t,function(e){n&&n(s(e))})})};a.getUserMedia=l;var u=function(e){return new Promise(function(t,n){a.getUserMedia(e,t,n)})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:u,enumerateDevices:function(){return new Promise(function(t){var a={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:a[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),a.mediaDevices.getUserMedia){var d=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(e){return o(e,function(e){return d(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(s(e))})})}}else a.mediaDevices.getUserMedia=function(e){return u(e)};void 0===a.mediaDevices.addEventListener&&(a.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),void 0===a.mediaDevices.removeEventListener&&(a.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,a){"use strict";var n=a(1174),r=a(2132);e.exports={shimGetUserMedia:a(2133),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var a=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){a.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCPeerConnection=r(e,t.version)},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},function(e,t,a){"use strict";function n(e,t,a,n,r){var i=l.writeRtpDescription(e.kind,t);if(i+=l.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=l.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":r||"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var o="msid:"+n.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+o,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+l.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+l.localCName+"\r\n"),i}function r(e,t){var a=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof n;return r&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||a?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(a=!0,!0)}),delete e.url,e.urls=r?n[0]:n,!!n.length}return!1})}function i(e,t){var a={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var a=0;a<t.length;a++)if(t[a].payloadType===e||t[a].preferredPayloadType===e)return t[a]},r=function(e,t,a,r){var i=n(e.parameters.apt,a),o=n(t.parameters.apt,r);return i&&o&&i.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach(function(n){for(var i=0;i<t.codecs.length;i++){var o=t.codecs[i];if(n.name.toLowerCase()===o.name.toLowerCase()&&n.clockRate===o.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&o.parameters.apt&&!r(n,o,e.codecs,t.codecs))continue;o=JSON.parse(JSON.stringify(o)),o.numChannels=Math.min(n.numChannels,o.numChannels),a.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var r=t.headerExtensions[n];if(e.uri===r.uri){a.headerExtensions.push(r);break}}}),a}function o(e,t,a){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(a)}function s(e,t){var a=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return a||e.addRemoteCandidate(t),!a}var l=a(1437);e.exports=function(e,t){var a=function(a){var n=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){n[e]=i[e].bind(i)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this.localDescription=null,this.remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle="max-bundle"===a.bundlePolicy,"negotiate"===a.rtcpMuxPolicy){var o=new Error("rtcpMuxPolicy 'negotiate' is not supported");throw o.name="NotSupportedError",o}switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all"}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced"}if(a.iceServers=r(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var s=a.iceCandidatePoolSize;s>0;s--)this._iceGatherers=new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy});else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=l.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0};return a.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),"function"==typeof this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},a.prototype.getConfiguration=function(){return this._config},a.prototype.getLocalStreams=function(){return this.localStreams},a.prototype.getRemoteStreams=function(){return this.remoteStreams},a.prototype._createTransceiver=function(e){var t=this.transceivers.length>0,a={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,wantReceive:!0};if(this.usingBundle&&t)a.iceTransport=this.transceivers[0].iceTransport,a.dtlsTransport=this.transceivers[0].dtlsTransport;else{var n=this._createIceAndDtlsTransports();a.iceTransport=n.iceTransport,a.dtlsTransport=n.dtlsTransport}return this.transceivers.push(a),a},a.prototype.addTrack=function(t,a){for(var n,r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(n=this.transceivers[r]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(a)&&this.localStreams.push(a),n.track=t,n.stream=a,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},a.prototype.addStream=function(e){var a=this;if(t>=15025)e.getTracks().forEach(function(t){a.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var a=n.getTracks()[t];e.addEventListener("enabled",function(e){a.enabled=e.enabled})}),n.getTracks().forEach(function(e){a.addTrack(e,n)})}},a.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},a.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},a.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},a.prototype._createIceGatherer=function(t,a){var n=this;if(a&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].candidates=[],this.transceivers[t].bufferCandidates=function(e){var a=!e.candidate||0===Object.keys(e.candidate).length;r.state=a?"completed":"gathering",null!==n.transceivers[t].candidates&&n.transceivers[t].candidates.push(e.candidate)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},a.prototype._gather=function(t,a){var n=this,r=this.transceivers[a].iceGatherer;if(!r.onlocalcandidate){var i=this.transceivers[a].candidates;this.transceivers[a].candidates=null,r.removeEventListener("localcandidate",this.transceivers[a].bufferCandidates),r.onlocalcandidate=function(e){if(!(n.usingBundle&&a>0)){var i=new Event("icecandidate");i.candidate={sdpMid:t,sdpMLineIndex:a};var o=e.candidate,s=!o||0===Object.keys(o).length;s?"new"!==r.state&&"gathering"!==r.state||(r.state="completed"):("new"===r.state&&(r.state="gathering"),o.component=1,i.candidate.candidate=l.writeCandidate(o));var u=l.splitSections(n.localDescription.sdp);u[i.candidate.sdpMLineIndex+1]+=s?"a=end-of-candidates\r\n":"a="+i.candidate.candidate+"\r\n",n.localDescription.sdp=u.join("");var d=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),s||(n.dispatchEvent(i),"function"==typeof n.onicecandidate&&n.onicecandidate(i)),d&&(n.dispatchEvent(new Event("icecandidate")),"function"==typeof n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},e.setTimeout(function(){i.forEach(function(e){var t=new Event("RTCIceGatherEvent");t.candidate=e,r.onlocalcandidate(t)})},0)}},a.prototype._createIceAndDtlsTransports=function(){var t=this,a=new e.RTCIceTransport(null);a.onicestatechange=function(){t._updateConnectionState()};var n=new e.RTCDtlsTransport(a);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:a,dtlsTransport:n}},a.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var a=this.transceivers[e].iceTransport;a&&(delete a.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},a.prototype._transceive=function(e,a,n){var r=i(e.localCapabilities,e.remoteCapabilities);a&&e.rtpSender&&(r.encodings=e.sendEncodingParameters,r.rtcp={cname:l.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(r.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(r)),n&&e.rtpReceiver&&r.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),r.encodings=e.recvEncodingParameters,r.rtcp={cname:e.rtcpParameters.cname,compound:e.rtcpParameters.compound},e.sendEncodingParameters.length&&(r.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(r))},a.prototype.setLocalDescription=function(e){var t=this,a=arguments;if(!o("setLocalDescription",e.type,this.signalingState))return new Promise(function(n,r){var i=new Error("Can not set local "+e.type+" in state "+t.signalingState);i.name="InvalidStateError",a.length>2&&"function"==typeof a[2]&&a[2].apply(null,[i]),r(i)});var n,r;if("offer"===e.type)n=l.splitSections(e.sdp),r=n.shift(),n.forEach(function(e,a){var n=l.parseRtpParameters(e);t.transceivers[a].localCapabilities=n}),this.transceivers.forEach(function(e,a){t._gather(e.mid,a)});else if("answer"===e.type){n=l.splitSections(t.remoteDescription.sdp),r=n.shift();var s=l.matchPrefix(r,"a=ice-lite").length>0;n.forEach(function(e,a){var n=t.transceivers[a],o=n.iceGatherer,u=n.iceTransport,d=n.dtlsTransport,c=n.localCapabilities,f=n.remoteCapabilities;if(!(l.isRejected(e)&&1===!l.matchPrefix(e,"a=bundle-only").length||n.isDatachannel)){var p=l.getIceParameters(e,r),h=l.getDtlsParameters(e,r);s&&(h.role="server"),t.usingBundle&&0!==a||(t._gather(n.mid,a),"new"===u.state&&u.start(o,p,s?"controlling":"controlled"),"new"===d.state&&d.start(h));var m=i(c,f);t._transceive(n,m.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var u=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(e){u&&u.apply(null),e()})},a.prototype.setRemoteDescription=function(a){var n=this,r=arguments;if(!o("setRemoteDescription",a.type,this.signalingState))return new Promise(function(e,t){var i=new Error("Can not set remote "+a.type+" in state "+n.signalingState);i.name="InvalidStateError",r.length>2&&"function"==typeof r[2]&&r[2].apply(null,[i]),t(i)});var i={};this.remoteStreams.forEach(function(e){i[e.id]=e});var u=[],d=l.splitSections(a.sdp),c=d.shift(),f=l.matchPrefix(c,"a=ice-lite").length>0,p=l.matchPrefix(c,"a=group:BUNDLE ").length>0;this.usingBundle=p;var h=l.matchPrefix(c,"a=ice-options:")[0];switch(this.canTrickleIceCandidates=!!h&&h.substr(14).split(" ").indexOf("trickle")>=0,d.forEach(function(r,o){var d=l.splitLines(r),h=l.getKind(r),m=l.isRejected(r)&&1===!l.matchPrefix(r,"a=bundle-only").length,g=d[0].substr(2).split(" ")[2],v=l.getDirection(r,c),b=l.parseMsid(r),_=l.getMid(r)||l.generateIdentifier();if("application"===h&&"DTLS/SCTP"===g)return void(n.transceivers[o]={mid:_,isDatachannel:!0});var y,E,w,C,x,M,S,k,T,P,N,O=l.parseRtpParameters(r);m||(P=l.getIceParameters(r,c),N=l.getDtlsParameters(r,c),N.role="client"),S=l.parseRtpEncodingParameters(r);var I=l.parseRtcpParameters(r),R=l.matchPrefix(r,"a=end-of-candidates",c).length>0,A=l.matchPrefix(r,"a=candidate:").map(function(e){return l.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===a.type||"answer"===a.type)&&!m&&p&&o>0&&n.transceivers[o]&&(n._disposeIceAndDtlsTransports(o),n.transceivers[o].iceGatherer=n.transceivers[0].iceGatherer,n.transceivers[o].iceTransport=n.transceivers[0].iceTransport,n.transceivers[o].dtlsTransport=n.transceivers[0].dtlsTransport,n.transceivers[o].rtpSender&&n.transceivers[o].rtpSender.setTransport(n.transceivers[0].dtlsTransport),n.transceivers[o].rtpReceiver&&n.transceivers[o].rtpReceiver.setTransport(n.transceivers[0].dtlsTransport)),"offer"!==a.type||m)"answer"!==a.type||m||(y=n.transceivers[o],E=y.iceGatherer,w=y.iceTransport,C=y.dtlsTransport,x=y.rtpReceiver,M=y.sendEncodingParameters,k=y.localCapabilities,n.transceivers[o].recvEncodingParameters=S,n.transceivers[o].remoteCapabilities=O,n.transceivers[o].rtcpParameters=I,A.length&&"new"===w.state&&(!f&&!R||p&&0!==o?A.forEach(function(e){s(y.iceTransport,e)}):w.setRemoteCandidates(A)),p&&0!==o||("new"===w.state&&w.start(E,P,"controlling"),"new"===C.state&&C.start(N)),n._transceive(y,"sendrecv"===v||"recvonly"===v,"sendrecv"===v||"sendonly"===v),!x||"sendrecv"!==v&&"sendonly"!==v?delete y.rtpReceiver:(T=x.track,b?(i[b.stream]||(i[b.stream]=new e.MediaStream),i[b.stream].addTrack(T),u.push([T,x,i[b.stream]])):(i.default||(i.default=new e.MediaStream),i.default.addTrack(T),u.push([T,x,i.default]))));else{y=n.transceivers[o]||n._createTransceiver(h),y.mid=_,y.iceGatherer||(y.iceGatherer=n._createIceGatherer(o,p)),A.length&&"new"===y.iceTransport.state&&(!R||p&&0!==o?A.forEach(function(e){s(y.iceTransport,e)}):y.iceTransport.setRemoteCandidates(A)),k=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(k.codecs=k.codecs.filter(function(e){return"rtx"!==e.name})),M=y.sendEncodingParameters||[{ssrc:1001*(2*o+2)}];var L=!1;if(("sendrecv"===v||"sendonly"===v)&&(L=!y.rtpReceiver,x=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,h),L)){var D;T=x.track,b?(i[b.stream]||(i[b.stream]=new e.MediaStream,Object.defineProperty(i[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(T,"id",{get:function(){return b.track}}),D=i[b.stream]):(i.default||(i.default=new e.MediaStream),D=i.default),D.addTrack(T),u.push([T,x,D])}y.localCapabilities=k,y.remoteCapabilities=O,y.rtpReceiver=x,y.rtcpParameters=I,y.sendEncodingParameters=M,y.recvEncodingParameters=S,n._transceive(n.transceivers[o],!1,L)}}),void 0===this._dtlsRole&&(this._dtlsRole="offer"===a.type?"active":"passive"),this.remoteDescription={type:a.type,sdp:a.sdp},a.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+a.type+'"')}return Object.keys(i).forEach(function(t){var a=i[t];if(a.getTracks().length){if(-1===n.remoteStreams.indexOf(a)){n.remoteStreams.push(a);var r=new Event("addstream");r.stream=a,e.setTimeout(function(){n.dispatchEvent(r),"function"==typeof n.onaddstream&&n.onaddstream(r)})}u.forEach(function(t){var r=t[0],i=t[1];if(a.id===t[2].id){var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[a],e.setTimeout(function(){n.dispatchEvent(o),"function"==typeof n.ontrack&&n.ontrack(o)})}})}}),e.setTimeout(function(){n&&n.transceivers&&n.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),new Promise(function(e){r.length>1&&"function"==typeof r[1]&&r[1].apply(null),e()})},a.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},a.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),"function"==typeof this.onsignalingstatechange&&this.onsignalingstatechange(t)},a.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(!1!==t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t.dispatchEvent(e),"function"==typeof t.onnegotiationneeded&&t.onnegotiationneeded(e)}},0))},a.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var a=new Event("iceconnectionstatechange");this.dispatchEvent(a),"function"==typeof this.oniceconnectionstatechange&&this.oniceconnectionstatechange(a)}},a.prototype.createOffer=function(){var a,r=this,i=arguments;1===arguments.length&&"function"!=typeof arguments[0]?a=arguments[0]:3===arguments.length&&(a=arguments[2]);var o=this.transceivers.filter(function(e){return"audio"===e.kind}).length,s=this.transceivers.filter(function(e){return"video"===e.kind}).length;if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(o=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(this.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)});o>0||s>0;)o>0&&(this._createTransceiver("audio"),o--),s>0&&(this._createTransceiver("video"),s--);var u=l.writeSessionBoilerplate(this._sdpSessionId,this._sdpSessionVersion++);this.transceivers.forEach(function(a,n){var i=a.track,o=a.kind,s=l.generateIdentifier();a.mid=s,a.iceGatherer||(a.iceGatherer=r._createIceGatherer(n,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(o);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var d=a.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];i&&t>=15019&&"video"===o&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),a.wantReceive&&(a.rtpReceiver=new e.RTCRtpReceiver(a.dtlsTransport,o)),a.localCapabilities=u,a.sendEncodingParameters=d}),"max-compat"!==this._config.bundlePolicy&&(u+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",this.transceivers.forEach(function(e,t){u+=n(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+l.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var d=new e.RTCSessionDescription({type:"offer",sdp:u});return new Promise(function(e){if(i.length>0&&"function"==typeof i[0])return i[0].apply(null,[d]),void e();e(d)})},a.prototype.createAnswer=function(){var a=this,r=arguments,o=l.writeSessionBoilerplate(this._sdpSessionId,this._sdpSessionVersion++);this.usingBundle&&(o+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n");var s=l.splitSections(this.remoteDescription.sdp).length-1;this.transceivers.forEach(function(e,r){if(!(r+1>s)){if(e.isDatachannel)return void(o+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+e.mid+"\r\n");if(e.stream){var l;"audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1})}var u=i(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=n(e,u,"answer",e.stream,a._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:o});return new Promise(function(e){if(r.length>0&&"function"==typeof r[0])return r[0].apply(null,[u]),void e();e(u)})},a.prototype.addIceCandidate=function(e){var t,a;if(e&&""!==e.candidate){if(void 0===e.sdpMLineIndex&&!e.sdpMid)throw new TypeError("sdpMLineIndex or sdpMid required");if(this.remoteDescription){var n=e.sdpMLineIndex;if(e.sdpMid)for(var r=0;r<this.transceivers.length;r++)if(this.transceivers[r].mid===e.sdpMid){n=r;break}var i=this.transceivers[n];if(i){if(i.isDatachannel)return Promise.resolve();var o=Object.keys(e.candidate).length>0?l.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&(0===o.port||9===o.port))return Promise.resolve();if(o.component&&1!==o.component)return Promise.resolve();if((0===n||n>0&&i.iceTransport!==this.transceivers[0].iceTransport)&&(s(i.iceTransport,o)||(t=new Error("Can not add ICE candidate"),t.name="OperationError")),!t){var u=e.candidate.trim();0===u.indexOf("a=")&&(u=u.substr(2)),a=l.splitSections(this.remoteDescription.sdp),a[n+1]+="a="+(o.type?u:"end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}else t=new Error("Can not add ICE candidate"),t.name="OperationError"}else t=new Error("Can not add ICE candidate without a remote description"),t.name="InvalidStateError"}else for(var d=0;d<this.transceivers.length&&(this.transceivers[d].isDatachannel||(this.transceivers[d].iceTransport.addRemoteCandidate({}),a=l.splitSections(this.remoteDescription.sdp),a[d+1]+="a=end-of-candidates\r\n",this.remoteDescription.sdp=a.join(""),!this.usingBundle));d++);var c=arguments;return new Promise(function(e,a){t?(c.length>2&&"function"==typeof c[2]&&c[2].apply(null,[t]),a(t)):(c.length>1&&"function"==typeof c[1]&&c[1].apply(null),e())})},a.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(a){t[a]&&e.push(t[a].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],a=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=a(e[t]),r.set(t,e[t])})}),t&&t.apply(null,r),n(r)})})},a}},function(e,t,a){"use strict";e.exports=function(e){var t=e&&e.navigator,a=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(function(e){return Promise.reject(a(e))})}}},function(e,t,a){"use strict";var n=a(1174);e.exports={shimGetUserMedia:a(2135),shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var a=new Event("track");a.track=t,a.receiver={track:t},a.transceiver={receiver:a.receiver},a.streams=[e.stream],this.dispatchEvent(a)}.bind(this))}.bind(this))}}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(a,n){if(t.version<38&&a&&a.iceServers){for(var r=[],i=0;i<a.iceServers.length;i++){var o=a.iceServers[i];if(o.hasOwnProperty("urls"))for(var s=0;s<o.urls.length;s++){var l={url:o.urls[s]};0===o.urls[s].indexOf("turn")&&(l.username=o.username,l.credential=o.credential),r.push(l)}else r.push(a.iceServers[i])}a.iceServers=r}return new e.mozRTCPeerConnection(a,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var a=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}});var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var r=function(e){var t=new Map;return Object.keys(e).forEach(function(a){t.set(a,e[a]),t[a]=e[a]}),t},i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,a,n){return o.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=r(e)),t.version<53&&!a)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,a){e.set(a,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(a,n)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;n.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(a){a.track&&-1!==e.getTracks().indexOf(a.track)&&t.removeTrack(a)})})}}},function(e,t,a){"use strict";var n=a(1174),r=n.log;e.exports=function(e){var t=n.detectBrowser(e),a=e&&e.navigator,i=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,n,i){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(a){if("require"!==a&&"advanced"!==a&&"mediaSource"!==a){var n=e[a]="object"==typeof e[a]?e[a]:{ideal:e[a]};if(void 0===n.min&&void 0===n.max&&void 0===n.exact||t.push(a),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[a]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var r={};"number"==typeof n.ideal?r[a]={min:n.ideal,max:n.ideal}:r[a]=n.ideal,e.advanced.push(r),delete n.ideal,Object.keys(n).length||delete e[a]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),a.mozGetUserMedia(e,n,function(e){i(o(e))})},l=function(e){return new Promise(function(t,a){s(e,t,a)})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:l,addEventListener:function(){},removeEventListener:function(){}}),a.mediaDevices.enumerateDevices=a.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var u=a.mediaDevices.enumerateDevices.bind(a.mediaDevices);a.mediaDevices.enumerateDevices=function(){return u().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var d=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(e){return d(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(o(e))})}}if(!(t.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var c=function(e,t,a){t in e&&!(a in e)&&(e[a]=e[t],delete e[t])},f=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),c(e.audio,"autoGainControl","mozAutoGainControl"),c(e.audio,"noiseSuppression","mozNoiseSuppression")),f(e)},i&&i.prototype.getSettings){var p=i.prototype.getSettings;i.prototype.getSettings=function(){var e=p.apply(this,arguments);return c(e,"mozAutoGainControl","autoGainControl"),c(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var h=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),c(e,"autoGainControl","mozAutoGainControl"),c(e,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[e])}}}a.getUserMedia=function(e,r,i){if(t.version<44)return s(e,r,i);n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(e).then(r,i)}}},function(e,t,a){"use strict";var n=a(1174);e.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(a){a.id===e&&(t=a)}),this._remoteStreams&&this._remoteStreams.forEach(function(a){a.id===e&&(t=a)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var a=this;e.getTracks().forEach(function(n){t.call(a,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,a){return a&&(this._localStreams?-1===this._localStreams.indexOf(a)&&this._localStreams.push(a):this._localStreams=[a]),t.call(this,e,a)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var a=this,n=e.getTracks();this.getSenders().forEach(function(e){-1!==n.indexOf(e.track)&&a.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){"object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),"onaddstream"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){var t=e.streams[0];if(this._remoteStreams||(this._remoteStreams=[]),!(this._remoteStreams.indexOf(t)>=0)){this._remoteStreams.push(t);var a=new Event("addstream");a.stream=e.streams[0],this.dispatchEvent(a)}}.bind(this))}}))},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,a=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=a.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var a=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[a]);return t?(r.then(e,t),Promise.resolve()):r};var s=function(e,t,a){var n=r.apply(this,[e]);return a?(n.then(t,a),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,a){var n=i.apply(this,[e]);return a?(n.then(t,a),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,a){var n=o.apply(this,[e]);return a?(n.then(t,a),Promise.resolve()):n},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,a,n){t.mediaDevices.getUserMedia(e).then(a,n)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,a){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var a=this;if(e){var n=a.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection("sendonly"):"recvonly"===n.direction&&n.setDirection("inactive"):!0!==e.offerToReceiveAudio||n||a.addTransceiver("audio");var r=a.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection("sendonly"):"recvonly"===r.direction&&r.setDirection("inactive"):!0!==e.offerToReceiveVideo||r||a.addTransceiver("video")}return t.apply(a,arguments)}}}},function(e,t,a){"use strict";function n(e,t,a){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);var i=function(e){n(a(e))};return this._eventMap=this._eventMap||{},this._eventMap[n]=i,r.apply(this,[e,i])};var i=n.removeEventListener;n.removeEventListener=function(e,a){if(e!==t||!this._eventMap||!this._eventMap[a])return i.apply(this,arguments);var n=this._eventMap[a];return delete this._eventMap[a],i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)}})}}var r=a(1437),i=a(1174);e.exports={shimRTCIceCandidate:function(e){if(!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){"object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse(JSON.stringify(e)),e.candidate=e.candidate.substr(2));var a=new t(e),n=r.parseCandidate(e.candidate),i=Object.assign(a,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i},n(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var a=t.createObjectURL.bind(t),n=t.revokeObjectURL.bind(t),r=new Map,o=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++o;return r.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return a(e)},t.revokeObjectURL=function(e){n(e),r.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=r.get(e)||null,s.set.apply(this,[e])}});var l=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=r.get(arguments[1])||null),l.apply(this,arguments)}}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=l.default.createElement(d.FormattedMessage,{id:"webrtc.header",defaultMessage:"Call with {username}",values:{username:e.username}}),a=l.default.createElement(u.Tooltip,{id:"closeSidebarTooltip"},l.default.createElement(d.FormattedMessage,{id:"rhs_header.closeTooltip",defaultMessage:"Close Sidebar"})),n=l.default.createElement(u.Tooltip,{id:"expandSidebarTooltip"},l.default.createElement(d.FormattedMessage,{id:"rhs_header.expandTooltip",defaultMessage:"Expand Sidebar"})),r=l.default.createElement(u.Tooltip,{id:"shrinkSidebarTooltip"},l.default.createElement(d.FormattedMessage,{id:"rhs_header.expandTooltip",defaultMessage:"Shrink Sidebar"}));return l.default.createElement("div",{className:"sidebar--right__header"},l.default.createElement("span",{className:"sidebar--right__title"},t),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{type:"button",className:"sidebar--right__expand","aria-label":"Expand",onClick:e.toggleSize},l.default.createElement(u.OverlayTrigger,{trigger:["hover","focus"],delayShow:f.default.OVERLAY_TIME_DELAY,placement:"top",overlay:n},l.default.createElement("i",{className:"fa fa-expand"})),l.default.createElement(u.OverlayTrigger,{trigger:["hover","focus"],delayShow:f.default.OVERLAY_TIME_DELAY,placement:"top",overlay:r},l.default.createElement("i",{className:"fa fa-compress"}))),l.default.createElement("button",{type:"button",className:"sidebar--right__close","aria-label":"Close",title:"Close",onClick:e.onClose},l.default.createElement(u.OverlayTrigger,{delayShow:f.default.OVERLAY_TIME_DELAY,placement:"top",overlay:a},l.default.createElement("i",{className:"fa fa-sign-out"})))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(27),o=n(i),s=a(0),l=n(s),u=a(215),d=a(214),c=a(12),f=n(c);r.propTypes={username:o.default.string.isRequired,onClose:o.default.func.isRequired,toggleSize:o.default.func}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{modals:e.views.modals})}function i(e){return{actions:(0,u.bindActionCreators)({closeModal:d.closeModal},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(1273),c=a(2140),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(459),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.modals,a=(0,s.default)(e,["modals"]),n=t.modalState;if(!t)return E.default.createElement("div",null);var r=[];for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];if(l.open){var u=E.default.createElement(l.dialogType,(0,i.default)({},l.dialogProps,{onHide:a.actions.closeModal.bind(this,o),key:o+"_modal"}));r.push(u)}}return E.default.createElement("div",null,r)}}]),t}(E.default.Component);w.propTypes={modals:_.default.object.isRequired,actions:_.default.shape({closeModal:_.default.func.isRequired}).isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getTeams:d.getTeams},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(173),c=a(457),f=a(2142),p=n(f);t.default=(0,c.withRouter)((0,l.connect)(r,i)(p.default))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(88),i=n(r),o=a(218),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(167),_=n(b),y=a(27),E=n(y),w=a(0),C=n(w),x=a(214),M=a(59),S=n(M),k=a(42),T=n(k),P=a(467),N=a(47),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(N),I=a(2143),R=n(I),A=function(t){function a(e){(0,c.default)(this,a);var t=(0,m.default)(this,(a.__proto__||(0,u.default)(a)).call(this,e));return t.getStateFromStores=t.getStateFromStores.bind(t),t.onChange=t.onChange.bind(t),t.handleResize=t.handleResize.bind(t),t.setStyles=t.setStyles.bind(t),t.state=t.getStateFromStores(),t}return(0,v.default)(a,t),(0,p.default)(a,[{key:"getStateFromStores",value:function(){var e=S.default.getMyTeamMembers(),t=S.default.getCurrentId();return{teams:S.default.getAll(),teamListings:S.default.getTeamListings(),teamMembers:e,currentTeamId:t,show:e&&e.length>1,isMobile:O.isMobile()}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),S.default.addChangeListener(this.onChange),S.default.addUnreadChangeListener(this.onChange),this.props.actions.getTeams(0,200),this.setStyles()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),S.default.removeChangeListener(this.onChange),S.default.removeUnreadChangeListener(this.onChange)}},{key:"componentDidUpdate",value:function(e,t){this.state.isMobile||(0,_.default)(".team-wrapper").perfectScrollbar(),this.state.currentTeam!==t.currentTeam&&(this.refs.container.scrollTop=0,this.state.isMobile||(0,_.default)(".team-wrapper").perfectScrollbar("update"))}},{key:"onChange",value:function(){this.setState(this.getStateFromStores()),this.setStyles()}},{key:"handleResize",value:function(){var e=this.state.teamMembers;this.setState({show:e&&e.length>1}),this.setStyles()}},{key:"setStyles",value:function(){var e=document.querySelector("#root");this.state.show?e.classList.add("multi-teams"):e.classList.remove("multi-teams")}},{key:"render",value:function(){var t=this;if(!this.state.show)return null;var a=[],n=O.isSystemAdmin(T.default.getCurrentUser().roles),r=new s.default,o=!1;for(var l in this.state.teamMembers)if(this.state.teamMembers.hasOwnProperty(l)){var u=this.state.teamMembers[l];if(u.delete_at>0)continue;var d=u.team_id;a.push((0,i.default)({unread:u.msg_count>0,mentions:u.mention_count},this.state.teams[d])),r[d]=!0}for(var c in this.state.teamListings)if(this.state.teamListings.hasOwnProperty(c)&&!r[c]){o=!0;break}var f=a.sort(P.sortTeamsByDisplayName).map(function(e){return C.default.createElement(R.default,{key:"switch_team_"+e.name,url:"/"+e.name,tip:e.display_name,active:e.id===t.state.currentTeamId,isMobile:t.state.isMobile,displayName:e.display_name,unread:e.unread,mentions:e.mentions})});return o&&!e.mm_config.ExperimentalPrimaryTeam?f.push(C.default.createElement(R.default,{btnClass:"team-btn__add",key:"more_teams",url:"/select_team",isMobile:this.state.isMobile,tip:C.default.createElement(x.FormattedMessage,{id:"team_sidebar.join",defaultMessage:"Other teams you can join."}),content:C.default.createElement("i",{className:"fa fa-plus"})})):("true"===e.mm_config.EnableTeamCreation||n)&&f.push(C.default.createElement(R.default,{btnClass:"team-btn__add",key:"more_teams",url:"/create_team",isMobile:this.state.isMobile,tip:C.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.create",defaultMessage:"Create a New Team"}),content:C.default.createElement("i",{className:"fa fa-plus"})})),C.default.createElement("div",{className:"team-sidebar"},C.default.createElement("div",{className:"team-wrapper"},f))}}]),a}(C.default.Component);A.propTypes={actions:E.default.shape({getTeams:E.default.func.isRequired}).isRequired},t.default=A}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(457),y=a(303),E=a(1147),w=a(12),C=n(w),x=a(169),M=a(47),S=a(1438),k=n(S),T=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleSwitch=a.handleSwitch.bind(a),a.handleDisabled=a.handleDisabled.bind(a),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"handleSwitch",value:function(e){e.preventDefault(),(0,y.mark)("TeamLink#click"),(0,y.trackEvent)("ui","ui_team_sidebar_switch_team"),(0,E.switchTeams)(this.props.url)}},{key:"handleDisabled",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.active?"active":"",t=this.props.btnClass,a=this.props.disabled?"team-disabled":"",n=this.props.active||this.props.disabled?this.handleDisabled:this.handleSwitch,r=void 0;e||(e=this.props.unread?"unread":"",this.props.mentions&&(r=v.default.createElement("span",{className:"badge pull-right small"},this.props.mentions)));var i=void 0,o=this.props.displayName,s=this.props.content;if(s||(o=o?o.replace(/\s/g,"").substring(0,2):"??",s=v.default.createElement("div",{className:"team-btn__initials"},o,v.default.createElement("div",{className:"team-btn__content"},this.props.displayName))),this.props.isMobile)i=v.default.createElement("div",{className:"team-btn "+t},r,s);else{var l=this.props.tip||(0,M.localizeMessage)("team.button.name_undefined","Name undefined");i=v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:this.props.placement,overlay:v.default.createElement(b.Tooltip,{id:"tooltip-"+this.props.url},l)},v.default.createElement("div",{className:"team-btn "+t},r,s))}var u=void 0;return(0,x.isDesktopApp)()?(u=v.default.createElement("button",{className:"btn btn-link "+a,onClick:n},i),this.props.url.endsWith("create_team")||this.props.url.endsWith("select_team")||(u=v.default.createElement(k.default,{link:this.props.url,menuId:this.props.url},u))):u=v.default.createElement(_.Link,{className:a,to:this.props.url,onClick:n},i),v.default.createElement("div",{className:"team-container "+e},u)}}]),t}(v.default.Component);t.default=T,T.defaultProps={btnClass:"",tip:"",placement:"right",active:!1,disabled:!1,unread:!1,mentions:0},T.propTypes={btnClass:m.default.string,url:m.default.string.isRequired,displayName:m.default.string,content:m.default.node,tip:m.default.node.isRequired,active:m.default.bool,disabled:m.default.bool,isMobile:m.default.bool,unread:m.default.bool,mentions:m.default.number,placement:m.default.oneOf(["left","right","top","bottom"])}},function(e,t,a){"use strict";function n(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return"function"==typeof e&&e.apply(void 0,a)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(){return Math.random().toString(36).substring(7)}function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n=void 0;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!1,!0,t)),a&&(a.dispatchEvent(n),U()(H,t))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];o(q,U()({},e,{type:q}),t)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];o(z,U()({},e,{type:z}),t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var O=a(0),I=a.n(O),R=a(27),A=a.n(R),L=a(7),D=a.n(L),F=a(310),U=a.n(F),j={menu:"react-contextmenu",menuVisible:"react-contextmenu--visible",menuWrapper:"react-contextmenu-wrapper",menuItem:"react-contextmenu-item",menuItemActive:"react-contextmenu-item--active",menuItemDisabled:"react-contextmenu-item--disabled",menuItemDivider:"react-contextmenu-item--divider",menuItemSelected:"react-contextmenu-item--selected",subMenu:"react-contextmenu-submenu"},H={},B=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),q="REACT_CONTEXTMENU_SHOW",z="REACT_CONTEXTMENU_HIDE",G=function e(){var t=this;u(this,e),this.handleShowEvent=function(e){for(var a in t.callbacks)r(t.callbacks,a)&&t.callbacks[a].show(e)},this.handleHideEvent=function(e){for(var a in t.callbacks)r(t.callbacks,a)&&t.callbacks[a].hide(e)},this.register=function(e,a){var n=i();return t.callbacks[n]={show:e,hide:a},n},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},B&&(window.addEventListener(q,this.handleShowEvent),window.addEventListener(z,this.handleHideEvent))},W=new G,V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),K=function(e){function t(){var e,a,r,i;c(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return a=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleClick=function(e){e.preventDefault(),r.props.disabled||r.props.divider||(n(r.props.onClick,e,U()({},r.props.data,H.data),H.target),r.props.preventClose||l())},i=a,f(r,i)}return p(t,e),$(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.disabled,r=a.divider,i=a.children,o=a.attributes,s=a.selected,l=D()(j.menuItem,o&&o.className,(e={},d(e,j.menuItemDisabled,n),d(e,j.menuItemDivider,r),d(e,j.menuItemSelected,s),e));return I.a.createElement("div",V({},o,{className:l,role:"menuitem",tabIndex:"-1","aria-disabled":n?"true":"false","aria-orientation":r?"horizontal":null,ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),r?null:i)}}]),t}(O.Component);K.propTypes={children:A.a.node,attributes:A.a.object,data:A.a.object,disabled:A.a.bool,divider:A.a.bool,preventClose:A.a.bool,onClick:A.a.func,selected:A.a.bool,onMouseMove:A.a.func,onMouseLeave:A.a.func},K.defaultProps={disabled:!1,data:{},divider:!1,attributes:{},preventClose:!1,onClick:function(){return null},children:null,selected:!1,onMouseMove:function(){return null},onMouseLeave:function(){return null}};var Y=K,X=function(e){function t(e){h(this,t);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Z.call(a),a.seletedItemRef=null,a.state={selectedItem:null,forceSubMenuOpen:!1},a}return g(t,e),t}(O.Component);X.propTypes={children:A.a.node.isRequired};var Z=function(){var e=this;this.handleKeyNavigation=function(t){if(!1!==e.state.isVisible)switch(t.keyCode){case 37:case 27:t.preventDefault(),e.hideMenu(t);break;case 38:t.preventDefault(),e.selectChildren(!0);break;case 40:t.preventDefault(),e.selectChildren(!1);break;case 39:e.tryToOpenSubMenu(t);break;case 13:t.preventDefault(),e.tryToOpenSubMenu(t);var a=e.seletedItemRef&&e.seletedItemRef.props&&e.seletedItemRef.props.disabled;e.seletedItemRef&&e.seletedItemRef.ref instanceof HTMLElement&&!a?e.seletedItemRef.ref.click():e.hideMenu(t)}},this.handleForceClose=function(){e.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(t){e.state.selectedItem&&e.state.selectedItem.type===e.getSubMenuType()&&(t.preventDefault(),e.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(t){var a=e.state.selectedItem,n=[],r=function t(a){a&&([Y,e.getSubMenuType()].indexOf(a.type)<0?I.a.Children.forEach(a.props.children,t):a.props.divider||n.push(a))};I.a.Children.forEach(e.props.children,r);var i=n.indexOf(a);i<0?e.setState({selectedItem:t?n[n.length-1]:n[0],forceSubMenuOpen:!1}):t?e.setState({selectedItem:n[i-1<0?n.length-1:i-1],forceSubMenuOpen:!1}):e.setState({selectedItem:n[i+1<n.length?i+1:0],forceSubMenuOpen:!1})},this.onChildMouseMove=function(t){e.state.selectedItem!==t&&e.setState({selectedItem:t,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){e.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(t){return I.a.Children.map(t,function(t){var a={};return I.a.isValidElement(t)?[Y,e.getSubMenuType()].indexOf(t.type)<0?(a.children=e.renderChildren(t.props.children),I.a.cloneElement(t,a)):(a.onMouseLeave=e.onChildMouseLeave.bind(e),t.type===e.getSubMenuType()&&(a.forceOpen=e.state.forceSubMenuOpen&&e.state.selectedItem===t,a.forceClose=e.handleForceClose,a.parentKeyNavigationHandler=e.handleKeyNavigation),t.props.divider||e.state.selectedItem!==t?(a.onMouseMove=function(){return e.onChildMouseMove(t)},I.a.cloneElement(t,a)):(a.selected=!0,a.ref=function(t){e.seletedItemRef=t},I.a.cloneElement(t,a))):t})}},J=X,Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ee=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),te=function(e){function t(e){b(this,t);var a=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getMenuPosition=function(){var e=window,t=e.innerWidth,n=e.innerHeight,r=a.subMenu.getBoundingClientRect(),i={};return r.bottom>n?i.bottom=0:i.top=0,r.right<t?i.left="100%":i.right="100%",i},a.getRTLMenuPosition=function(){var e=window,t=e.innerHeight,n=a.subMenu.getBoundingClientRect(),r={};return n.bottom>t?r.bottom=0:r.top=0,n.left<0?r.left="100%":r.right="100%",r},a.hideMenu=function(){a.props.forceOpen&&a.props.forceClose(),a.setState({visible:!1,selectedItem:null}),a.unregisterHandlers()},a.handleClick=function(e){e.preventDefault(),a.props.disabled||(n(a.props.onClick,e,U()({},a.props.data,H.data),H.target),a.props.preventClose||l())},a.handleMouseEnter=function(){a.closetimer&&clearTimeout(a.closetimer),a.props.disabled||a.state.visible||(a.opentimer=setTimeout(function(){return a.setState({visible:!0,selectedItem:null})},a.props.hoverDelay))},a.handleMouseLeave=function(){a.opentimer&&clearTimeout(a.opentimer),a.state.visible&&(a.closetimer=setTimeout(function(){return a.setState({visible:!1,selectedItem:null})},a.props.hoverDelay))},a.menuRef=function(e){a.menu=e},a.subMenuRef=function(e){a.subMenu=e},a.registerHandlers=function(){document.removeEventListener("keydown",a.props.parentKeyNavigationHandler),document.addEventListener("keydown",a.handleKeyNavigation)},a.unregisterHandlers=function(){document.removeEventListener("keydown",a.handleKeyNavigation),document.addEventListener("keydown",a.props.parentKeyNavigationHandler)},a.state=U()({},a.state,{visible:!1}),a}return y(t,e),ee(t,[{key:"componentDidMount",value:function(){this.listenId=W.register(function(){},this.hideMenu)}},{key:"getSubMenuType",value:function(){return t}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){var t=window.requestAnimationFrame||setTimeout;t(function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),r(t,"top")&&(e.subMenu.style.top=t.top),r(t,"left")&&(e.subMenu.style.left=t.left),r(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),r(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(j.menuVisible),e.registerHandlers(),e.setState({selectedItem:null})})}else{var a=function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()};this.subMenu.addEventListener("transitionend",a),this.subMenu.classList.remove(j.menuVisible)}}},{key:"componentWillUnmount",value:function(){this.listenId&&W.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers()}},{key:"render",value:function(){var e,t=this.props,a=t.children,n=t.disabled,r=t.title,i=t.selected,o=this.state.visible,s={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:D()(j.menuItem,j.subMenu),style:{position:"relative"}},l={className:D()(j.menuItem,(e={},v(e,j.menuItemDisabled,n),v(e,j.menuItemActive,o),v(e,j.menuItemSelected,i),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},u={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:D()(j.menu,this.props.className)};return I.a.createElement("nav",Q({},s,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),I.a.createElement("div",l,r),I.a.createElement("nav",Q({},u,{role:"menu",tabIndex:"-1"}),this.renderChildren(a)))}}]),t}(J);te.propTypes={children:A.a.node.isRequired,title:A.a.node.isRequired,className:A.a.string,disabled:A.a.bool,hoverDelay:A.a.number,rtl:A.a.bool,selected:A.a.bool,onMouseMove:A.a.func,onMouseOut:A.a.func,forceOpen:A.a.bool,forceClose:A.a.func,parentKeyNavigationHandler:A.a.func},te.defaultProps={disabled:!1,hoverDelay:500,className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var ae=te,ne=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),re=function(e){function t(e){w(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.registerHandlers=function(){document.addEventListener("mousedown",a.handleOutsideClick),document.addEventListener("ontouchstart",a.handleOutsideClick),document.addEventListener("scroll",a.handleHide),document.addEventListener("contextmenu",a.handleHide),document.addEventListener("keydown",a.handleKeyNavigation),window.addEventListener("resize",a.handleHide)},a.unregisterHandlers=function(){document.removeEventListener("mousedown",a.handleOutsideClick),document.removeEventListener("ontouchstart",a.handleOutsideClick),document.removeEventListener("scroll",a.handleHide),document.removeEventListener("contextmenu",a.handleHide),document.removeEventListener("keydown",a.handleKeyNavigation),window.removeEventListener("resize",a.handleHide)},a.handleShow=function(e){if(e.detail.id===a.props.id&&!a.state.isVisible){var t=e.detail.position,r=t.x,i=t.y;a.setState({isVisible:!0,x:r,y:i}),a.registerHandlers(),n(a.props.onShow,e)}},a.handleHide=function(e){!a.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==a.props.id||(a.unregisterHandlers(),a.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),n(a.props.onHide,e))},a.handleOutsideClick=function(e){a.menu.contains(e.target)||l()},a.handleMouseLeave=function(e){e.preventDefault(),n(a.props.onMouseLeave,e,U()({},a.props.data,H.data),H.target),a.props.hideOnLeave&&l()},a.handleContextMenu=function(e){e.preventDefault(),a.handleHide(e)},a.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||l()},a.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!a.menu)return n;var r=window,i=r.innerWidth,o=r.innerHeight,s=a.menu.getBoundingClientRect();return t+s.height>o&&(n.top-=s.height),e+s.width>i&&(n.left-=s.width),n.top<0&&(n.top=s.height<o?(o-s.height)/2:0),n.left<0&&(n.left=s.width<i?(i-s.width)/2:0),n},a.menuRef=function(e){a.menu=e},a.state=U()({},a.state,{x:0,y:0,isVisible:!1}),a}return x(t,e),ne(t,[{key:"getSubMenuType",value:function(){return ae}},{key:"componentDidMount",value:function(){this.listenId=W.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t(function(){var a=e.state,n=a.x,r=a.y,i=e.getMenuPosition(n,r),o=i.top,s=i.left;t(function(){e.menu&&(e.menu.style.top=o+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&W.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.style,r=this.state.isVisible,i=U()({},n,{position:"fixed",opacity:0,pointerEvents:"none"}),o=D()(j.menu,a,E({},j.menuVisible,r));return I.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:i,className:o,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(t))}}]),t}(J);re.propTypes={id:A.a.string.isRequired,children:A.a.node.isRequired,data:A.a.object,className:A.a.string,hideOnLeave:A.a.bool,onHide:A.a.func,onMouseLeave:A.a.func,onShow:A.a.func,style:A.a.object},re.defaultProps={className:"",data:{},hideOnLeave:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},style:{}};var ie=re,oe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),se=function(e){function t(){var e,a,r,i;M(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return a=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.touchHandled=!1,r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),r.mouseDownTimeoutId=setTimeout(function(){return r.handleContextClick(e)},r.props.holdToDisplay)),n(r.props.attributes.onMouseDown,e)},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),n(r.props.attributes.onMouseUp,e)},r.handleMouseOut=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),n(r.props.attributes.onMouseOut,e)},r.handleTouchstart=function(e){r.touchHandled=!1,r.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),r.touchstartTimeoutId=setTimeout(function(){r.handleContextClick(e),r.touchHandled=!0},r.props.holdToDisplay)),n(r.props.attributes.onTouchStart,e)},r.handleTouchEnd=function(e){r.touchHandled&&e.preventDefault(),clearTimeout(r.touchstartTimeoutId),n(r.props.attributes.onTouchEnd,e)},r.handleContextMenu=function(e){r.handleContextClick(e),n(r.props.attributes.onContextMenu,e)},r.handleContextClick=function(e){if(!r.props.disable){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,a=e.clientY||e.touches&&e.touches[0].pageY;l();var i=n(r.props.collect,r.props),o={position:{x:t,y:a},target:r.elem,id:r.props.id,data:i};i&&"function"==typeof i.then?i.then(function(e){o.data=e,s(o)}):s(o)}},r.elemRef=function(e){r.elem=e},i=a,S(r,i)}return k(t,e),oe(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,a=e.attributes,n=e.children,r=U()({},a,{className:D()(j.menuWrapper,a.className),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return I.a.createElement(t,r,n)}}]),t}(O.Component);se.propTypes={id:A.a.string.isRequired,children:A.a.node.isRequired,attributes:A.a.object,collect:A.a.func,disable:A.a.bool,holdToDisplay:A.a.number,renderTag:A.a.oneOfType([A.a.node,A.a.func])},se.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div"};var le=se,ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),ce=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(Object.keys(le.propTypes)),["children"]),fe=function(e){return function(t){return function(a){function n(t){T(this,n);var a=P(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.handleShow=function(t){if(t.detail.id===e){var n=t.detail.data,r={};for(var i in n)ce.includes(i)||(r[i]=n[i]);a.setState({trigger:r})}},a.handleHide=function(){a.setState({trigger:null})},a.state={trigger:null},a}return N(n,a),de(n,[{key:"componentDidMount",value:function(){this.listenId=W.register(this.handleShow,this.handleHide)}},{key:"componentWillUnmount",value:function(){this.listenId&&W.unregister(this.listenId)}},{key:"render",value:function(){return I.a.createElement(t,ue({},this.props,{id:e,trigger:this.state.trigger}))}}]),n}(O.Component)}};a.d(t,"ContextMenu",function(){return ie}),a.d(t,"ContextMenuTrigger",function(){return le}),a.d(t,"MenuItem",function(){return Y}),a.d(t,"SubMenu",function(){return ae}),a.d(t,"connectMenu",function(){return fe}),a.d(t,"hideMenu",function(){return l}),a.d(t,"showMenu",function(){return s})},function(e,t,a){"use strict";function n(e){var t=(0,l.getConfig)(e),a=(0,s.getCurrentChannel)(e),n=a&&a.teammate_id&&(0,s.getCurrentChannel)(e,a.teammate_id),r=void 0,i=void 0,f=void 0,p=void 0,h="true"===t.ExperimentalGroupUnreadChannels&&(0,u.getBool)(e,o.Preferences.CATEGORY_SIDEBAR_SETTINGS,"show_unread_section",!0),m=e.views.channel.keepChannelIdAsUnread;return h?(r=(0,s.getSortedPublicChannelIds)(e,m),i=(0,s.getSortedPrivateChannelIds)(e,m),f=(0,s.getSortedFavoriteChannelIds)(e,m),p=(0,s.getSortedDirectChannelIds)(e,m)):(r=(0,s.getSortedPublicChannelWithUnreadsIds)(e),i=(0,s.getSortedPrivateChannelWithUnreadsIds)(e),f=(0,s.getSortedFavoriteChannelWithUnreadsIds)(e),p=(0,s.getSortedDirectChannelWithUnreadsIds)(e)),{config:t,showUnreadSection:h,publicChannelIds:r,privateChannelIds:i,favoriteChannelIds:f,directAndGroupChannelIds:p,unreadChannelIds:(0,s.getSortedUnreadChannelIds)(e,m),currentChannel:a,currentTeammate:n,currentTeam:(0,c.getCurrentTeam)(e),currentUser:(0,d.getCurrentUser)(e),memberships:(0,s.getMyChannelMemberships)(e),unreads:(0,s.getUnreads)(e),isSystemAdmin:(0,d.isCurrentUserSystemAdmin)(e),isTeamAdmin:(0,c.isCurrentUserCurrentTeamAdmin)(e)}}function r(){return{actions:{goToChannelById:f.goToChannelById}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(18),s=a(144),l=a(122),u=a(89),d=a(69),c=a(170),f=a(172),p=a(2146),h=function(e){return e&&e.__esModule?e:{default:e}}(p);t.default=(0,i.connect)(n,r)(h.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(218),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(167),b=r(v),_=a(0),y=r(_),E=a(215),w=a(39),C=r(w),x=a(214),M=a(27),S=a(81),k=a(303),T=a(2147),P=a(49),N=r(P),O=a(304),I=n(O),R=a(12),A=a(47),L=n(A),D=a(497),F=r(D),U=a(2148),j=r(U),H=a(2149),B=r(H),q=a(2154),z=r(q),G=a(2156),W=r(G),V=a(2161),$=r(V),K=a(2167),Y=r(K),X=a(311),Z=a(2168),J=r(Z),Q=((0,X.initFeedback)(),function(e){function t(e){(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return ee.call(a),a.badgesActive=!1,a.firstUnreadChannel=null,a.lastUnreadChannel=null,a.isLeaving=new o.default,a.isSwitchingChannel=!1,a.closedDirectChannel=!1,a.state={newChannelModalType:"",showDirectChannelsModal:!1,showMoreChannelsModal:!1},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.props.currentTeam&&this.props.currentTeam.id&&(0,T.initTeamChangeActions)(this.props.currentTeam.id),this.updateUnreadIndicators(),document.addEventListener("keydown",this.navigateChannelShortcut),document.addEventListener("keydown",this.navigateUnreadChannelShortcut)}},{key:"componentWillReceiveProps",value:function(e){this.props.currentTeam.id!==e.currentTeam.id&&(0,T.initTeamChangeActions)(e.currentTeam.id)}},{key:"componentWillUpdate",value:function(){this.updateUnreadIndicators()}},{key:"componentDidUpdate",value:function(e){if(this.props.currentTeam===e.currentTeam&&this.props.currentChannel.id===e.currentChannel.id&&!this.channelIdIsDisplayedForProps(this.props,this.props.currentChannel.id)&&this.channelIdIsDisplayedForProps(e,this.props.currentChannel.id))return this.closedDirectChannel=!0,void S.browserHistory.push("/"+this.props.currentTeam.name+"/channels/"+R.Constants.DEFAULT_CHANNEL);L.isMobile()||(0,b.default)(".sidebar--left .nav-pills__container").perfectScrollbar(),this.props.currentTeam!==e.currentTeam&&(this.refs.container.scrollTop=0,(0,b.default)(".nav-pills__container").perfectScrollbar("update")),this.props.currentChannel.id!==e.currentChannel.id&&(this.closedDirectChannel?this.closedDirectChannel=!1:((0,b.default)(".app__body .inner-wrap").removeClass("move--right"),(0,b.default)(".app__body .sidebar--left").removeClass("move--right"),(0,b.default)(".multi-teams .team-sidebar").removeClass("move--right"))),this.updateTitle(),this.props.currentChannel.type===R.Constants.DM_CHANNEL&&this.props.currentTeammate&&e.currentTeammate&&this.props.currentTeammate.display_name!==e.currentTeammate.display_name&&window.history.replaceState(null,null,"/"+this.props.currentTeam.name+"/messages/@"+this.props.currentTeammate.display_name),this.setBadgesActiveAndFavicon(),this.setFirstAndLastUnreadChannels()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.navigateChannelShortcut),document.removeEventListener("keydown",this.navigateUnreadChannelShortcut)}},{key:"setBadgesActiveAndFavicon",value:function(){if(this.lastBadgesActive=this.badgesActive,this.badgesActive=this.props.unreads.mentions,this.lastBadgesActive!==this.badgesActive){var e=document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.id="favicon",this.badgesActive?e.href=j.default:e.href=F.default;var t=document.getElementsByTagName("head")[0],a=document.getElementById("favicon");a&&t.removeChild(a),t.appendChild(e)}}},{key:"setFirstAndLastUnreadChannels",value:function(){var e=this;this.getDisplayedChannels().map(function(t){return t!==e.props.currentChannel.id&&e.props.unreadChannelIds.includes(t)&&(e.firstUnreadChannel||(e.firstUnreadChannel=t),e.lastUnreadChannel=t),null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.directAndGroupChannelIds,n=t.favoriteChannelIds,r=t.publicChannelIds,i=t.privateChannelIds,o=t.unreadChannelIds,s=t.showUnreadSection;if(null==this.props.currentTeam||null==this.props.currentUser)return y.default.createElement("div",null);this.badgesActive=!1,this.firstUnreadChannel=null,this.lastUnreadChannel=null;var l=s?o.map(this.createSidebarChannel):[],u=n.map(this.createSidebarChannel),d=r.map(this.createSidebarChannel),c=i.map(this.createSidebarChannel),f=a.map(this.createSidebarChannel),p=y.default.createElement("li",{key:"more"},y.default.createElement("button",{id:"moreDirectMessage",className:"nav-more cursor--pointer style--none btn--block",onClick:this.handleOpenMoreDirectChannelsModal},y.default.createElement(x.FormattedMessage,{id:"sidebar.moreElips",defaultMessage:"More..."}))),h=!1;""!==this.state.newChannelModalType&&(h=!0);var m=y.default.createElement(E.Tooltip,{id:"new-channel-tooltip"},y.default.createElement(x.FormattedMessage,{id:"sidebar.createChannel",defaultMessage:"Create new public channel"})),g=y.default.createElement(E.Tooltip,{id:"new-group-tooltip"},y.default.createElement(x.FormattedMessage,{id:"sidebar.createGroup",defaultMessage:"Create new private channel"})),v=y.default.createElement(E.Tooltip,{id:"new-group-tooltip",className:"hidden-xs"},y.default.createElement(x.FormattedMessage,{id:"sidebar.createDirectMessage",defaultMessage:"Create new direct message"})),b=y.default.createElement(x.FormattedMessage,{id:"sidebar.unreads",defaultMessage:"More unreads"}),_=y.default.createElement(x.FormattedMessage,{id:"sidebar.unreads",defaultMessage:"More unreads"}),w=y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:500,placement:"top",overlay:m},y.default.createElement("button",{id:"createPublicChannel",className:"add-channel-btn cursor--pointer style--none",onClick:this.showNewChannelModal.bind(this,R.Constants.OPEN_CHANNEL)},"+")),C=y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:500,placement:"top",overlay:g},y.default.createElement("button",{id:"createPrivateChannel",className:"add-channel-btn cursor--pointer style--none",onClick:this.showNewChannelModal.bind(this,R.Constants.PRIVATE_CHANNEL)},"+"));I.showCreateOption(R.Constants.OPEN_CHANNEL,this.props.isTeamAdmin,this.props.isSystemAdmin)||(w=null);var M=y.default.createElement(E.OverlayTrigger,{className:"hidden-xs",delayShow:500,placement:"top",overlay:v},y.default.createElement("button",{className:"add-channel-btn cursor--pointer style--none",onClick:this.handleOpenMoreDirectChannelsModal},"+"));I.showCreateOption(R.Constants.PRIVATE_CHANNEL,this.props.isTeamAdmin,this.props.isSystemAdmin)||(C=null);var S=void 0;this.state.showDirectChannelsModal&&(S=y.default.createElement(z.default,{onModalDismissed:this.hideMoreDirectChannelsModal,startingUsers:this.state.startingUsers}));var k=void 0;this.state.showMoreChannelsModal&&(k=y.default.createElement(B.default,{onModalDismissed:this.hideMoreChannelsModal,handleNewChannel:function(){e.hideMoreChannelsModal(),e.showNewChannelModal(R.Constants.OPEN_CHANNEL)}}));var T="quick_switch_modal.channelsShortcut.windows",P="- CTRL+K";L.isMac()&&(T="quick_switch_modal.channelsShortcut.mac",P="- ⌘K");var N=y.default.createElement("span",{className:"switch__shortcut hidden-xs"},y.default.createElement(x.FormattedMessage,{id:T,defaultMessage:P}));return y.default.createElement("div",{className:"sidebar--left",id:"sidebar-left",key:"sidebar-left"},y.default.createElement(W.default,{show:h,channelType:this.state.newChannelModalType,onModalDismissed:this.hideNewChannelModal}),S,k,y.default.createElement($.default,{teamDisplayName:this.props.currentTeam.display_name,teamDescription:this.props.currentTeam.description,teamName:this.props.currentTeam.name,teamType:this.props.currentTeam.type,currentUser:this.props.currentUser}),y.default.createElement(Y.default,{name:"Top",show:this.state.showTopUnread,onClick:this.scrollToFirstUnreadChannel,extraClass:"nav-pills__unread-indicator-top",content:b}),y.default.createElement(Y.default,{name:"Bottom",show:this.state.showBottomUnread,onClick:this.scrollToLastUnreadChannel,extraClass:"nav-pills__unread-indicator-bottom",content:_}),y.default.createElement("div",{id:"sidebarChannelContainer",ref:"container",className:"nav-pills__container",onScroll:this.onScroll},0!==l.length&&y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("h4",{id:"favoriteChannel"},y.default.createElement(x.FormattedMessage,{id:"sidebar.unreadSection",defaultMessage:"UNREADS"}))),l),0!==u.length&&y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("h4",{id:"favoriteChannel"},y.default.createElement(x.FormattedMessage,{id:"sidebar.favorite",defaultMessage:"FAVORITE CHANNELS"}))),u),y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("h4",{id:"publicChannel"},y.default.createElement(x.FormattedMessage,{id:"sidebar.channels",defaultMessage:"PUBLIC CHANNELS"}),w)),d,y.default.createElement("li",null,y.default.createElement("button",{id:"sidebarChannelsMore",className:"nav-more cursor--pointer style--none btn--block",onClick:this.showMoreChannelsModal},y.default.createElement(x.FormattedMessage,{id:"sidebar.moreElips",defaultMessage:"More..."})))),y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("h4",{id:"privateChannel"},y.default.createElement(x.FormattedMessage,{id:"sidebar.pg",defaultMessage:"PRIVATE CHANNELS"}),C)),c),y.default.createElement("ul",{className:"nav nav-pills nav-stacked"},y.default.createElement("li",null,y.default.createElement("h4",{id:"directChannel"},y.default.createElement(x.FormattedMessage,{id:"sidebar.direct",defaultMessage:"DIRECT MESSAGES"}),M)),f,p)),y.default.createElement("div",{className:"sidebar__switcher"},y.default.createElement("button",{id:"sidebarSwitcherButton",className:"btn btn-link",onClick:this.openQuickSwitcher},y.default.createElement(x.FormattedMessage,{id:"channel_switch_modal.title",defaultMessage:"Switch Channels"}),N)))}}]),t}(y.default.PureComponent));Q.propTypes={config:M.PropTypes.object.isRequired,publicChannelIds:M.PropTypes.array.isRequired,privateChannelIds:M.PropTypes.array.isRequired,favoriteChannelIds:M.PropTypes.array.isRequired,directAndGroupChannelIds:M.PropTypes.array.isRequired,unreadChannelIds:M.PropTypes.array.isRequired,currentChannel:M.PropTypes.object,currentTeammate:M.PropTypes.object,currentTeam:M.PropTypes.object.isRequired,currentUser:M.PropTypes.object.isRequired,memberships:M.PropTypes.object.isRequired,unreads:M.PropTypes.object.isRequired,isSystemAdmin:M.PropTypes.bool.isRequired,isTeamAdmin:M.PropTypes.bool.isRequired,showUnreadSection:M.PropTypes.bool.isRequired,actions:M.PropTypes.shape({goToChannelById:M.PropTypes.func.isRequired}).isRequired},Q.defaultProps={currentChannel:{}};var ee=function(){var e=this;this.handleOpenMoreDirectChannelsModal=function(t){t.preventDefault(),e.state.showDirectChannelsModal?e.hideMoreDirectChannelsModal():e.showMoreDirectChannelsModal()},this.updateTitle=function(){var t=e.props,a=t.config,n=t.currentChannel,r=t.currentTeam,i=t.currentTeammate,o=t.unreads;if(n&&r){var s="";null!=a.SiteName&&(s=a.SiteName);var l=n.display_name;n.type===R.Constants.DM_CHANNEL&&null!=i&&(l=i.display_name);var u=o.mentionCount>0?"("+o.mentionCount+") ":"",d=o.messageCount>0?"* ":"";document.title=u+d+l+" - "+e.props.currentTeam.display_name+" "+s}},this.onScroll=function(){e.updateUnreadIndicators()},this.scrollToFirstUnreadChannel=function(){if(e.firstUnreadChannel){var t=(0,b.default)(C.default.findDOMNode(e.refs.container)),a=(0,b.default)(C.default.findDOMNode(e.refs[e.firstUnreadChannel])),n=t.scrollTop()+a.position().top-15;t.stop().animate({scrollTop:n},500,"swing")}},this.scrollToLastUnreadChannel=function(){if(e.lastUnreadChannel){var t=(0,b.default)(C.default.findDOMNode(e.refs.container)),a=(0,b.default)(C.default.findDOMNode(e.refs[e.lastUnreadChannel])),n=a.position().top+a.height(),r=t.scrollTop()+(n-t.height())+15;t.stop().animate({scrollTop:r},500,"swing")}},this.updateUnreadIndicators=function(){var t=(0,b.default)(C.default.findDOMNode(e.refs.container)),a=!1,n=!1;if(e.firstUnreadChannel){var r=(0,b.default)(C.default.findDOMNode(e.refs[e.firstUnreadChannel])),i=r?r.position():null;i&&i.top+r.height()<15&&(a=!0)}if(e.lastUnreadChannel){var o=(0,b.default)(C.default.findDOMNode(e.refs[e.lastUnreadChannel])),s=o?o.position():null;s&&s.top>t.height()-15&&(n=!0)}e.setState({showTopUnread:a,showBottomUnread:n})},this.updateScrollbarOnChannelChange=function(t){var a=e.refs[t].getWrappedInstance().refs.channel.getBoundingClientRect();(a.top-R.Constants.CHANNEL_SCROLL_ADJUSTMENT<0||a.top+a.height>e.refs.container.getBoundingClientRect().height)&&(e.refs.container.scrollTop=e.refs.container.scrollTop+(a.top-R.Constants.CHANNEL_SCROLL_ADJUSTMENT),(0,b.default)(".nav-pills__container").perfectScrollbar("update"))},this.navigateChannelShortcut=function(t){if(!t.altKey||t.shiftKey||t.keyCode!==R.Constants.KeyCodes.UP&&t.keyCode!==R.Constants.KeyCodes.DOWN)L.cmdOrCtrlPressed(t)&&t.shiftKey&&t.keyCode===R.Constants.KeyCodes.K&&e.handleOpenMoreDirectChannelsModal(t);else{if(t.preventDefault(),e.isSwitchingChannel)return;e.isSwitchingChannel=!0;for(var a=e.getDisplayedChannels(),n=e.props.currentChannel.id,r=-1,i=0;i<a.length;i++)a[i]===n&&(r=i);var o=r;o=t.keyCode===R.Constants.KeyCodes.DOWN?r+1:r-1;var s=a[L.mod(o,a.length)];e.props.actions.goToChannelById(s),e.updateScrollbarOnChannelChange(s),e.isSwitchingChannel=!1}},this.navigateUnreadChannelShortcut=function(t){if(t.altKey&&t.shiftKey&&(t.keyCode===R.Constants.KeyCodes.UP||t.keyCode===R.Constants.KeyCodes.DOWN)){if(t.preventDefault(),e.isSwitchingChannel)return;e.isSwitchingChannel=!0;for(var a=e.getDisplayedChannels(),n=e.props.currentChannel.id,r=-1,i=0;i<a.length;i++)a[i]===n&&(r=i);var o=r,s=0,l=0;for(l=t.keyCode===R.Constants.KeyCodes.UP?-1:1;s<a.length&&!e.props.unreadChannelIds.includes(a[o]);)o+=l,s++,o=L.mod(o,a.length);if(e.props.unreadChannelIds.includes(a[o])){var u=a[o];e.props.actions.goToChannelById(u),e.updateScrollbarOnChannelChange(u)}e.isSwitchingChannel=!1}},this.getDisplayedChannels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;return t.unreadChannelIds.concat(t.favoriteChannelIds).concat(t.publicChannelIds).concat(t.privateChannelIds).concat(t.directAndGroupChannelIds)},this.channelIdIsDisplayedForProps=function(t,a){for(var n=e.getDisplayedChannels(t),r=0;r<n.length;r++)if(n[r]===a)return!0;return!1},this.showMoreChannelsModal=function(){e.setState({showMoreChannelsModal:!0}),(0,k.trackEvent)("ui","ui_channels_more_public")},this.hideMoreChannelsModal=function(){e.setState({showMoreChannelsModal:!1})},this.showNewChannelModal=function(t){e.setState({newChannelModalType:t})},this.hideNewChannelModal=function(){e.setState({newChannelModalType:""})},this.showMoreDirectChannelsModal=function(t){(0,k.trackEvent)("ui","ui_channels_more_direct"),e.setState({showDirectChannelsModal:!0,startingUsers:t})},this.hideMoreDirectChannelsModal=function(){e.setState({showDirectChannelsModal:!1,startingUsers:null})},this.openQuickSwitcher=function(e){e.preventDefault(),N.default.handleViewAction({type:R.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL})},this.createSidebarChannel=function(t){return y.default.createElement(J.default,{key:t,ref:t,channelId:t,membership:e.props.memberships[t],active:t===e.props.currentChannel.id,currentTeamName:e.props.currentTeam.name,currentUserId:e.props.currentUser.id})}};t.default=Q},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initTeamChangeActions=void 0;var r=a(67),i=n(r),o=a(68),s=n(o),l=(t.initTeamChangeActions=function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.fetchMyChannelsAndMembers)(t)(p,h);case 2:(0,d.loadStatusesForChannelAndSidebar)(),(0,u.loadProfilesForSidebar)();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(90)),u=a(168),d=a(223),c=a(40),f=n(c),p=f.default.dispatch,h=f.default.getState},function(e,t,a){e.exports=a.p+"files/d402fe56e6bdc438e4e5bf137f0e88f7.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t)}function i(e){return{actions:(0,u.bindActionCreators)({getChannels:d.getChannels},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(90),c=a(2150),f=n(c);t.default=(0,l.connect)(r,i)(f.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(2151),_=n(b),y=a(215),E=a(214),w=a(81),C=a(172),x=a(48),M=n(x),S=a(59),k=n(S),T=a(42),P=n(T),N=a(304),O=a(12),I=n(O),R=a(2153),A=n(R),L=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.handleJoin=a.handleJoin.bind(a),a.handleHide=a.handleHide.bind(a),a.handleExit=a.handleExit.bind(a),a.nextPage=a.nextPage.bind(a),a.search=a.search.bind(a),a.shouldComponentUpdate=_.default.shouldComponentUpdate.bind(a),a.searchTimeoutId=0,a.state={show:!0,search:!1,channels:null,serverError:null},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){M.default.addChangeListener(this.onChange),this.props.actions.getChannels(k.default.getCurrentId(),0,100)}},{key:"componentWillUnmount",value:function(){M.default.removeChangeListener(this.onChange)}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"handleExit",value:function(){this.props.onModalDismissed&&this.props.onModalDismissed()}},{key:"onChange",value:function(e){this.state.search&&!e||this.setState({channels:M.default.getMoreChannelsList(),serverError:null})}},{key:"nextPage",value:function(e){this.props.actions.getChannels(k.default.getCurrentId(),e+1,50)}},{key:"handleJoin",value:function(e,t){var a=this;(0,C.joinChannel)(e,function(){w.browserHistory.push(k.default.getCurrentTeamRelativeUrl()+"/channels/"+e.name),t&&t(),a.handleHide()},function(e){a.setState({serverError:e.message}),t&&t()})}},{key:"search",value:function(e){var t=this;if(clearTimeout(this.searchTimeoutId),""===e)return this.onChange(!0),this.setState({search:!1}),void(this.searchTimeoutId="");var a=setTimeout(function(){(0,C.searchMoreChannels)(e,function(e){a===t.searchTimeoutId&&t.setState({search:!0,channels:e})})},100);this.searchTimeoutId=a}},{key:"render",value:function(){var e=void 0;this.state.serverError&&(e=v.default.createElement("div",{className:"form-group has-error"},v.default.createElement("label",{className:"control-label"},this.state.serverError)));var t=v.default.createElement("button",{id:"createNewChannel",type:"button",className:"btn btn-primary channel-create-btn",onClick:this.props.handleNewChannel},v.default.createElement(E.FormattedMessage,{id:"more_channels.create",defaultMessage:"Create New Channel"})),a=v.default.createElement("p",{className:"secondary-message"},v.default.createElement(E.FormattedMessage,{id:"more_channels.createClick",defaultMessage:"Click 'Create New Channel' to make a new one"})),n=k.default.isTeamAdminForCurrentTeam(),r=P.default.isSystemAdminForCurrentUser();return(0,N.showCreateOption)(I.default.OPEN_CHANNEL,n,r)||(t=null,a=null),v.default.createElement(y.Modal,{dialogClassName:"more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},v.default.createElement(y.Modal.Header,{closeButton:!0},v.default.createElement(y.Modal.Title,null,v.default.createElement(E.FormattedMessage,{id:"more_channels.title",defaultMessage:"More Channels"})),t),v.default.createElement(y.Modal.Body,null,v.default.createElement(A.default,{channels:this.state.channels,channelsPerPage:50,nextPage:this.nextPage,isSearch:this.state.search,search:this.search,handleJoin:this.handleJoin,noResultsText:a}),e))}}]),t}(v.default.Component);L.propTypes={onModalDismissed:m.default.func,handleNewChannel:m.default.func,actions:m.default.shape({getChannels:m.default.func.isRequired}).isRequired},t.default=L},function(e,t,a){"use strict";var n=a(2152);e.exports={shouldComponentUpdate:function(e,t){return!n(this.props,e)||!n(this.state,t)}}},function(e,t,a){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(var o=0;o<a.length;o++)if(!i.call(t,a[o])||!n(e[a[o]],t[a[o]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(39),E=n(y),w=a(214),C=a(1137),x=n(C),M=a(1263),S=n(M),k=a(169),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),P=a(47),N=a(1170),O=n(N),I=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.createChannelRow=a.createChannelRow.bind(a),a.nextPage=a.nextPage.bind(a),a.previousPage=a.previousPage.bind(a),a.doSearch=a.doSearch.bind(a),a.nextTimeoutId=0,a.state={joiningChannel:"",page:0,nextDisabled:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){T.isMobile()||this.refs.filter.focus()}},{key:"componentDidUpdate",value:function(e,t){t.page!==this.state.page&&(0,m.default)(this.refs.channelList).scrollTop(0)}},{key:"componentWillReceiveProps",value:function(e){e.isSearch&&!this.props.isSearch&&this.setState({page:0})}},{key:"handleJoin",value:function(e){var t=this;this.setState({joiningChannel:e.id}),this.props.handleJoin(e,function(){t.setState({joiningChannel:""})})}},{key:"createChannelRow",value:function(e){var t=void 0;return t=this.state.joiningChannel===e.id?_.default.createElement("img",{className:"join-channel-loading-gif",src:O.default}):_.default.createElement("button",{onClick:this.handleJoin.bind(this,e),className:"btn btn-primary",disabled:""!==this.state.joiningChannel&&this.state.joiningChannel!==e.id},_.default.createElement(w.FormattedMessage,{id:"more_channels.join",defaultMessage:"Join"})),_.default.createElement("div",{className:"more-modal__row",key:e.id},_.default.createElement("div",{className:"more-modal__details"},_.default.createElement("p",{className:"more-modal__name"},e.display_name),_.default.createElement("p",{className:"more-modal__description"},e.purpose)),_.default.createElement("div",{className:"more-modal__actions"},t))}},{key:"nextPage",value:function(e){var t=this;e.preventDefault(),this.setState({page:this.state.page+1,nextDisabled:!0}),this.nextTimeoutId=setTimeout(function(){return t.setState({nextDisabled:!1})},500),this.props.nextPage(this.state.page+1),(0,m.default)(E.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}},{key:"previousPage",value:function(e){e.preventDefault(),this.setState({page:this.state.page-1}),(0,m.default)(E.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}},{key:"doSearch",value:function(){var e=this.refs.filter.value;this.props.search(e),""===e&&this.setState({page:0})}},{key:"render",value:function(){var e=this.props.channels,t=void 0,a=void 0,n=void 0;if(null==e)t=_.default.createElement(x.default,null);else if(0===e.length)t=_.default.createElement("div",{className:"no-channel-message"},_.default.createElement("p",{className:"primary-message"},_.default.createElement(w.FormattedMessage,{id:"more_channels.noMore",defaultMessage:"No more channels to join"})),this.props.noResultsText);else{var r=this.state.page*this.props.channelsPerPage,i=r+this.props.channelsPerPage,o=this.props.channels.slice(r,i);t=o.map(this.createChannelRow),o.length>=this.props.channelsPerPage&&i<this.props.channels.length&&(a=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},_.default.createElement(w.FormattedMessage,{id:"more_channels.next",defaultMessage:"Next"}))),this.state.page>0&&(n=_.default.createElement("button",{className:"btn btn-default filter-control filter-control__prev",onClick:this.previousPage},_.default.createElement(w.FormattedMessage,{id:"more_channels.prev",defaultMessage:"Previous"})))}return _.default.createElement("div",{className:"filtered-user-list"},_.default.createElement("div",{className:"filter-row"},_.default.createElement("div",{className:"col-sm-12"},_.default.createElement(S.default,{id:"searchChannelsTextbox",ref:"filter",className:"form-control filter-textbox",placeholder:(0,P.localizeMessage)("filtered_channels_list.search","Search channels"),onInput:this.doSearch}))),_.default.createElement("div",{ref:"channelList",className:"more-modal__list"},_.default.createElement("div",{ref:"channelListScroll"},t)),_.default.createElement("div",{className:"filter-controls"},n,a))}}]),t}(_.default.Component);t.default=I,I.defaultProps={channels:[],isSearch:!1},I.propTypes={channels:v.default.arrayOf(v.default.object),channelsPerPage:v.default.number,nextPage:v.default.func.isRequired,isSearch:v.default.bool,search:v.default.func.isRequired,handleJoin:v.default.func.isRequired,noResultsText:v.default.object}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{currentUserId:(0,c.getCurrentUserId)(e)})}function i(e){return{actions:(0,u.bindActionCreators)({getProfiles:d.getProfiles,getProfilesInTeam:d.getProfilesInTeam},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(82),c=a(69),f=a(2155),p=n(f);t.default=(0,l.connect)(r,i)(p.default)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(70),i=n(r),o=a(88),s=n(o),l=a(34),u=n(l),d=a(30),c=n(d),f=a(31),p=n(f),h=a(35),m=n(h),g=a(36),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(215),C=a(214),x=a(23),M=a(69),S=a(81),k=a(172),T=a(168),P=a(40),N=n(P),O=a(59),I=n(O),R=a(42),A=n(R),L=a(12),D=n(L),F=a(47),U=a(1270),j=n(U),H=a(1157),B=n(H),q=D.default.MAX_USERS_IN_GM-1,z=function(t){function a(t){(0,c.default)(this,a);var n=(0,m.default)(this,(a.__proto__||(0,u.default)(a)).call(this,t));n.resetPaging=function(){n.refs.multiselect&&n.refs.multiselect.resetPaging()},n.handleSubmitImmediatelyOn=function(e){return e.id===n.props.currentUserId||e.delete_at},n.handleHide=n.handleHide.bind(n),n.handleExit=n.handleExit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handlePageChange=n.handlePageChange.bind(n),n.onChange=n.onChange.bind(n),n.search=n.search.bind(n),n.addValue=n.addValue.bind(n),n.searchTimeoutId=0,n.term="",n.listType=e.window.mm_config.RestrictDirectMessage;var r=[];if(t.startingUsers)for(var i=0;i<t.startingUsers.length;i++){var o=(0,s.default)({},t.startingUsers[i]);o.value=o.id,o.label="@"+o.username,r.push(o)}return n.state={users:null,values:r,show:!0,search:!1,loadingChannel:!1},n}return(0,v.default)(a,t),(0,p.default)(a,[{key:"componentDidMount",value:function(){A.default.addChangeListener(this.onChange),A.default.addInTeamChangeListener(this.onChange),A.default.addStatusesChangeListener(this.onChange),"any"===this.listType?this.props.actions.getProfiles(0,100,!1):this.props.actions.getProfilesInTeam(I.default.getCurrentId(),0,100)}},{key:"componentWillUnmount",value:function(){A.default.removeChangeListener(this.onChange),A.default.removeInTeamChangeListener(this.onChange),A.default.removeStatusesChangeListener(this.onChange)}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"handleExit",value:function(){this.exitToChannel&&S.browserHistory.push(this.exitToChannel),this.props.onModalDismissed&&this.props.onModalDismissed()}},{key:"handleSubmit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.values;if(!this.state.loadingChannel){var a=t.map(function(e){return e.id});if(0!==a.length){this.setState({loadingChannel:!0});var n=function(t){e.exitToChannel=I.default.getCurrentTeamRelativeUrl()+"/channels/"+t.name,e.setState({loadingChannel:!1}),e.handleHide()},r=function(){e.setState({loadingChannel:!1})};1===a.length?(0,k.openDirectChannelToUser)(a[0],n,r):(0,k.openGroupChannelToUsers)(a,n,r)}}}},{key:"addValue",value:function(e){var t=(0,s.default)([],this.state.values);-1===t.indexOf(e)&&t.push(e),this.setState({values:t})}},{key:"onChange",value:function(){var e=void 0;e=this.term?"any"===this.listType?(0,s.default)([],(0,M.searchProfiles)(N.default.getState(),this.term,!1)):(0,s.default)([],(0,M.searchProfilesInCurrentTeam)(N.default.getState(),this.term,!1)):"any"===this.listType?(0,s.default)([],A.default.getProfileList(!1,!0)):(0,s.default)([],A.default.getProfileListInTeam(I.default.getCurrentId(),!1,!1));for(var t=0;t<e.length;t++){var a=(0,s.default)({},e[t]);a.value=a.id,a.label="@"+a.username,e[t]=a}this.setState({users:e})}},{key:"handlePageChange",value:function(e,t){e>t&&("any"===this.listType?this.props.actions.getProfiles(e+1,50):this.props.actions.getProfilesInTeam(e+1,50))}},{key:"search",value:function(e){var t=this;if(clearTimeout(this.searchTimeoutId),this.term=e,""===e)return this.resetPaging(),void this.onChange();var a=void 0;a="any"===this.listType?"":I.default.getCurrentId(),this.searchTimeoutId=setTimeout(function(){(0,T.searchUsers)(e,a,{},t.resetPaging)},D.default.SEARCH_TIMEOUT_MILLISECONDS)}},{key:"handleDelete",value:function(e){this.setState({values:e})}},{key:"renderOption",value:function(e,t,a){var n=A.default.getCurrentUser(),r=(0,F.displayEntireNameForUser)(e),i=r;e.id===n.id?i=E.default.createElement(C.FormattedMessage,{id:"more_direct_channels.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:r}}):e.delete_at&&(i=E.default.createElement(C.FormattedMessage,{id:"more_direct_channels.directchannel.deactivated",defaultMessage:"{displayname} - Deactivated",values:{displayname:r}}));var o="";t&&(o="more-modal__row--selected");var s=e.delete_at?null:A.default.getStatus(e.id);return E.default.createElement("div",{key:e.id,ref:t?"selected":e.id,className:"more-modal__row clickable "+o,onClick:function(){return a(e)}},E.default.createElement(B.default,{src:x.Client4.getProfilePictureUrl(e.id,e.last_picture_update),status:s,width:"32",height:"32"}),E.default.createElement("div",{className:"more-modal__details"},E.default.createElement("div",{className:"more-modal__name"},i),E.default.createElement("div",{className:"more-modal__description"},e.email)),E.default.createElement("div",{className:"more-modal__actions"},E.default.createElement("div",{className:"more-modal__actions--round"},E.default.createElement("i",{className:"fa fa-plus"}))))}},{key:"renderValue",value:function(e){return e.username}},{key:"render",value:function(){var e=this,t=void 0;this.props.startingUsers&&(t=this.state.values&&this.state.values.length>=q?E.default.createElement(C.FormattedMessage,{id:"more_direct_channels.new_convo_note.full",defaultMessage:"You’ve reached the maximum number of people for this conversation. Consider creating a private channel instead."}):E.default.createElement(C.FormattedMessage,{id:"more_direct_channels.new_convo_note",defaultMessage:"This will start a new conversation. If you’re adding a lot of people, consider creating a private channel instead."}));var a=(0,F.localizeMessage)("multiselect.go","Go"),n=E.default.createElement(C.FormattedMessage,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:q-this.state.values.length}}),r=this.state.users||[];if(this.state.values.length)r=r.filter(function(t){return 0===t.delete_at&&t.id!==e.props.currentUserId});else{var o=[],s=[],l=!0,u=!1,d=void 0;try{for(var c,f=(0,i.default)(r);!(l=(c=f.next()).done);l=!0){var p=c.value;(p.delete_at?s:o).push(p)}}catch(e){u=!0,d=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw d}}r=o.concat(s)}return E.default.createElement(w.Modal,{dialogClassName:"more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},E.default.createElement(w.Modal.Header,{closeButton:!0},E.default.createElement(w.Modal.Title,null,E.default.createElement(C.FormattedMessage,{id:"more_direct_channels.title",defaultMessage:"Direct Messages"}))),E.default.createElement(w.Modal.Body,null,E.default.createElement(j.default,{key:"moreDirectChannelsList",ref:"multiselect",options:r,optionRenderer:this.renderOption,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,noteText:t,maxValues:q,numRemainingText:n,buttonSubmitText:a,submitImmediatelyOn:this.handleSubmitImmediatelyOn,saving:this.state.loadingChannel})))}}]),a}(E.default.Component);z.propTypes={currentUserId:_.default.string.isRequired,startingUsers:_.default.arrayOf(_.default.object),onModalDismissed:_.default.func,actions:_.default.shape({getProfiles:_.default.func.isRequired,getProfilesInTeam:_.default.func.isRequired}).isRequired},t.default=z}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_EDIT_URL_THEN_COMPLETE=t.SHOW_EDIT_URL=t.SHOW_NEW_CHANNEL=void 0;var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(81),y=a(172),E=a(59),w=n(E),C=a(143),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(12),k=n(S),T=a(2157),P=n(T),N=a(2159),O=n(N),I=t.SHOW_NEW_CHANNEL=1,R=t.SHOW_EDIT_URL=2,A=t.SHOW_EDIT_URL_THEN_COMPLETE=3,L=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onSubmit=function(){if(!a.state.channelDisplayName)return void a.setState({serverError:M.localizeMessage("channel_flow.invalidName","Invalid Channel Name")});if(a.state.channelName.length<2)return void a.setState({flowState:A});var e={team_id:w.default.getCurrentId(),name:a.state.channelName,display_name:a.state.channelDisplayName,purpose:a.state.channelPurpose,header:a.state.channelHeader,type:a.state.channelType};(0,y.createChannel)(e,function(e){a.doOnModalExited=function(){_.browserHistory.push(w.default.getCurrentTeamRelativeUrl()+"/channels/"+e.name)},a.props.onModalDismissed()},function(e){"model.channel.is_valid.2_or_more.app_error"===e.id?a.setState({flowState:A,serverError:v.default.createElement(b.FormattedMessage,{id:"channel_flow.handleTooShort",defaultMessage:"Channel URL must be 2 or more lowercase alphanumeric characters"})}):"store.sql_channel.update.exists.app_error"===e.id?a.setState({serverError:M.localizeMessage("channel_flow.alreadyExist","A channel with that URL already exists")}):a.setState({serverError:e.message})})},a.onModalExited=function(){a.doOnModalExited&&a.doOnModalExited()},a.typeSwitched=function(e){e.preventDefault(),a.state.channelType===k.default.PRIVATE_CHANNEL?a.setState({channelType:k.default.OPEN_CHANNEL}):a.setState({channelType:k.default.PRIVATE_CHANNEL})},a.urlChangeRequested=function(e){e&&e.preventDefault(),a.setState({flowState:R})},a.urlChangeSubmitted=function(e){a.state.flowState===A?a.setState({channelName:e,nameModified:!0},a.onSubmit):a.setState({flowState:I,serverError:null,channelName:e,nameModified:!0})},a.urlChangeDismissed=function(){a.setState({flowState:I})},a.channelDataChanged=function(e){a.setState({channelDisplayName:e.displayName,channelPurpose:e.purpose,channelHeader:e.header}),a.state.nameModified||a.setState({channelName:(0,C.cleanUpUrlable)(e.displayName.trim())})},a.state={serverError:"",channelType:e.channelType||k.default.OPEN_CHANNEL,flowState:I,channelDisplayName:"",channelName:"",channelPurpose:"",channelHeader:"",nameModified:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.show&&!1===this.props.show&&this.setState({serverError:"",channelType:e.channelType,flowState:I,channelDisplayName:"",channelName:"",channelPurpose:"",channelHeader:"",nameModified:!1})}},{key:"render",value:function(){var e={name:this.state.channelName,displayName:this.state.channelDisplayName,purpose:this.state.channelPurpose},t=!1,a=!1,n=!1,r="",i="";if(this.props.show)switch(this.state.flowState){case I:this.state.channelType===k.default.OPEN_CHANNEL?t=!0:a=!0;break;case R:n=!0,r=v.default.createElement(b.FormattedMessage,{id:"channel_flow.changeUrlTitle",defaultMessage:"Change Channel URL"}),i=r;break;case A:n=!0,r=v.default.createElement(b.FormattedMessage,{id:"channel_flow.set_url_title",defaultMessage:"Set Channel URL"}),i=v.default.createElement(b.FormattedMessage,{id:"channel_flow.create",defaultMessage:"Create Channel"})}return v.default.createElement("span",null,v.default.createElement(P.default,{show:t,channelType:k.default.OPEN_CHANNEL,channelData:e,serverError:this.state.serverError,onSubmitChannel:this.onSubmit,onModalDismissed:this.props.onModalDismissed,onModalExited:this.onModalExited,onTypeSwitched:this.typeSwitched,onChangeURLPressed:this.urlChangeRequested,onDataChanged:this.channelDataChanged}),v.default.createElement(P.default,{show:a,channelType:k.default.PRIVATE_CHANNEL,channelData:e,serverError:this.state.serverError,onSubmitChannel:this.onSubmit,onModalExited:this.onModalExited,onModalDismissed:this.props.onModalDismissed,onTypeSwitched:this.typeSwitched,onChangeURLPressed:this.urlChangeRequested,onDataChanged:this.channelDataChanged}),v.default.createElement(O.default,{show:n,title:r,submitButtonText:i,currentURL:this.state.channelName,serverError:this.state.serverError,onModalSubmit:this.urlChangeSubmitted,onModalDismissed:this.urlChangeDismissed,onModalExited:this.onModalExited}))}}]),t}(v.default.Component);L.propTypes={show:m.default.bool.isRequired,channelType:m.default.string.isRequired,onModalDismissed:m.default.func.isRequired},L.defaultProps={show:!1,channelType:k.default.OPEN_CHANNEL},t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{ctrlSend:(0,u.getBool)(e,l.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),isTeamAdmin:(0,d.isCurrentUserCurrentTeamAdmin)(e),isSystemAdmin:(0,c.isCurrentUserSystemAdmin)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(18),u=a(89),d=a(170),c=a(69),f=a(2158),p=n(f);t.default=(0,s.connect)(r)(p.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(167),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(215),w=a(39),C=r(w),x=a(214),M=a(304),S=n(M),k=a(12),T=r(k),P=a(143),N=a(169),O=n(N),I=a(47),R=n(I),A=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.onEnterKeyDown=function(e){a.props.ctrlSend&&e.keyCode===T.default.KeyCodes.ENTER&&e.ctrlKey?a.handleSubmit(e):a.props.ctrlSend||e.keyCode!==T.default.KeyCodes.ENTER||e.shiftKey||e.altKey||a.handleSubmit(e)},a.handleSubmit=function(e){if(e.preventDefault(),C.default.findDOMNode(a.refs.display_name).value.trim().length<T.default.MIN_CHANNELNAME_LENGTH)return void a.setState({displayNameError:!0});a.props.onSubmitChannel()},a.handleChange=function(){var e={displayName:a.refs.display_name.value,header:a.refs.channel_header.value,purpose:a.refs.channel_purpose.value};a.props.onDataChanged(e)},a.handleOnURLChange=function(e){e.preventDefault(),a.props.onChangeURLPressed&&a.props.onChangeURLPressed()},a.state={displayNameError:""},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.show&&!1===this.props.show&&this.setState({displayNameError:""})}},{key:"componentDidMount",value:function(){(O.isInternetExplorer()||O.isEdge())&&(0,g.default)("body").addClass("browser--ie")}},{key:"render",value:function(){var e=null,t=null,a="form-group";this.state.displayNameError&&(e=y.default.createElement("p",{className:"input__help error"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.displayNameError",defaultMessage:"Channel name must be 2 or more characters"}),this.state.displayNameError),a+=" has-error"),this.props.serverError&&(t=y.default.createElement("div",{className:"form-group has-error"},y.default.createElement("div",{className:"col-sm-12"},y.default.createElement("p",{className:"input__help error"},this.props.serverError))));var n=y.default.createElement("button",{className:"style--none color--link",onClick:this.props.onTypeSwitched},y.default.createElement(x.FormattedMessage,{id:"channel_modal.publicChannel1",defaultMessage:"Create a public channel"})),r=y.default.createElement("button",{className:"style--none color--link",onClick:this.props.onTypeSwitched},y.default.createElement(x.FormattedMessage,{id:"channel_modal.privateGroup2",defaultMessage:"Create a private channel"}));S.showCreateOption(T.default.OPEN_CHANNEL,this.props.isTeamAdmin,this.props.isSystemAdmin)||(n=null),S.showCreateOption(T.default.PRIVATE_CHANNEL,this.props.isTeamAdmin,this.props.isSystemAdmin)||(r=null);var i="",o="";switch(this.props.channelType){case"P":i=y.default.createElement("div",{className:"modal-intro"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.privateGroup1",defaultMessage:"Create a new private channel with restricted membership. "}),n),o="newPrivateChannel";break;case"O":i=y.default.createElement("div",{className:"modal-intro"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.publicChannel2",defaultMessage:"Create a new public channel anyone can join. "}),r),o="newPublicChannel"}var s=(0,P.getShortenedURL)();return y.default.createElement("span",null,y.default.createElement(E.Modal,{dialogClassName:"new-channel__modal",show:this.props.show,bsSize:"large",onHide:this.props.onModalDismissed,onExited:this.props.onModalExited},y.default.createElement(E.Modal.Header,{closeButton:!0},y.default.createElement(E.Modal.Title,null,y.default.createElement(x.FormattedMessage,{id:"channel_modal.modalTitle",defaultMessage:"New Channel"}))),y.default.createElement("form",{role:"form",className:"form-horizontal"},y.default.createElement(E.Modal.Body,null,y.default.createElement("div",null,i),y.default.createElement("div",{className:a},y.default.createElement("label",{className:"col-sm-3 form__label control-label"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.name",defaultMessage:"Name"})),y.default.createElement("div",{className:"col-sm-9"},y.default.createElement("input",{id:o+"Name",onChange:this.handleChange,type:"text",ref:"display_name",className:"form-control",placeholder:R.localizeMessage("channel_modal.nameEx",'E.g.: "Bugs", "Marketing", "客户支持"'),maxLength:T.default.MAX_CHANNELNAME_LENGTH,value:this.props.channelData.displayName,autoFocus:!0,tabIndex:"1",onKeyDown:this.onEnterKeyDown}),e,y.default.createElement("p",{className:"input__help dark"},"URL: "+s+this.props.channelData.name+" (",y.default.createElement("button",{className:"color--link style--none",onClick:this.handleOnURLChange},y.default.createElement(x.FormattedMessage,{id:"channel_modal.edit",defaultMessage:"Edit"})),")"))),y.default.createElement("div",{className:"form-group"},y.default.createElement("div",{className:"col-sm-3"},y.default.createElement("label",{className:"form__label control-label"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.purpose",defaultMessage:"Purpose"})),y.default.createElement("label",{className:"form__label light"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.optional",defaultMessage:"(optional)"}))),y.default.createElement("div",{className:"col-sm-9"},y.default.createElement("textarea",{id:o+"Purpose",className:"form-control no-resize",ref:"channel_purpose",rows:"4",placeholder:R.localizeMessage("channel_modal.purposeEx",'E.g.: "A channel to file bugs and improvements"'),maxLength:"250",value:this.props.channelData.purpose,onChange:this.handleChange,tabIndex:"2"}),y.default.createElement("p",{className:"input__help"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.descriptionHelp",defaultMessage:"Describe how this channel should be used."})))),y.default.createElement("div",{className:"form-group less"},y.default.createElement("div",{className:"col-sm-3"},y.default.createElement("label",{className:"form__label control-label"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.header",defaultMessage:"Header"})),y.default.createElement("label",{className:"form__label light"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.optional",defaultMessage:"(optional)"}))),y.default.createElement("div",{className:"col-sm-9"},y.default.createElement("textarea",{id:o+"Header",className:"form-control no-resize",ref:"channel_header",rows:"4",placeholder:R.localizeMessage("channel_modal.headerEx",'E.g.: "[Link Title](http://example.com)"'),maxLength:"1024",value:this.props.channelData.header,onChange:this.handleChange,tabIndex:"2"}),y.default.createElement("p",{className:"input__help"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.headerHelp",defaultMessage:"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com)."})),t))),y.default.createElement(E.Modal.Footer,null,y.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onModalDismissed},y.default.createElement(x.FormattedMessage,{id:"channel_modal.cancel",defaultMessage:"Cancel"})),y.default.createElement("button",{onClick:this.handleSubmit,type:"submit",className:"btn btn-primary",tabIndex:"3"},y.default.createElement(x.FormattedMessage,{id:"channel_modal.createNew",defaultMessage:"Create New Channel"}))))))}}]),t}(y.default.PureComponent);A.propTypes={show:b.default.bool.isRequired,channelType:b.default.string.isRequired,channelData:b.default.object.isRequired,ctrlSend:b.default.bool,isTeamAdmin:b.default.bool,isSystemAdmin:b.default.bool,serverError:b.default.node,onSubmitChannel:b.default.func.isRequired,onModalDismissed:b.default.func.isRequired,onModalExited:b.default.func,onTypeSwitched:b.default.func.isRequired,onChangeURLPressed:b.default.func.isRequired,onDataChanged:b.default.func.isRequired},t.default=A},function(e,t,a){"use strict";function n(e){var t=(0,i.getCurrentTeam)(e);return{currentTeamURL:(0,o.getSiteURL)()+"/"+t.name}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(170),o=a(143),s=a(2160),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(n)(l.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(12),E=n(y),w=a(143),C=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onURLChanged=function(e){var t=e.target.value.trim();a.setState({currentURL:t.replace(/[^A-Za-z0-9-_]/g,"").toLowerCase(),userEdit:!0})},a.formattedError=function(e,t,a){return v.default.createElement("span",{key:e},v.default.createElement(_.FormattedMessage,{id:t,defaultMessage:a}),v.default.createElement("br",null))},a.getURLError=function(e){var t=[];return e.length<2&&t.push(a.formattedError("error1","change_url.longer","URL must be two or more characters.")),"-"!==e.charAt(0)&&"_"!==e.charAt(0)||t.push(a.formattedError("error2","change_url.startWithLetter","URL must start with a letter or number.")),e.length>1&&("-"===e.charAt(e.length-1)||"_"===e.charAt(e.length-1))&&t.push(a.formattedError("error3","change_url.endWithLetter","URL must end with a letter or number.")),e.indexOf("__")>-1&&t.push(a.formattedError("error4","change_url.noUnderscore","URL can not contain two underscores in a row.")),0===t.length&&t.push(a.formattedError("errorlast","change_url.invalidUrl","Invalid URL")),t},a.onSubmit=function(e){e.preventDefault();var t=a.refs.urlinput.value;if((0,w.cleanUpUrlable)(t)!==t||t.length<2||t.indexOf("__")>-1)return void a.setState({urlError:a.getURLError(t)});a.setState({urlError:"",userEdit:!1}),a.props.onModalSubmit(t)},a.onCancel=function(){a.setState({urlError:"",userEdit:!1}),a.props.onModalDismissed()},a.state={currentURL:e.currentURL,urlError:"",userEdit:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.userEdit||this.setState({currentURL:e.currentURL})}},{key:"render",value:function(){var e="input-group input-group--limit",t=null;this.state.urlError&&(e+=" has-error"),(this.props.serverError||this.state.urlError)&&(t=v.default.createElement("div",{className:"has-error"},v.default.createElement("p",{className:"input__help error"},this.state.urlError||this.props.serverError)));var a=this.props.currentTeamURL+"/channels",n=(0,w.getShortenedURL)(a),r=v.default.createElement(b.Tooltip,{id:"urlTooltip"},a);return v.default.createElement(b.Modal,{show:this.props.show,onHide:this.onCancel,onExited:this.props.onModalExited},v.default.createElement(b.Modal.Header,{closeButton:!0},v.default.createElement(b.Modal.Title,null,this.props.title)),v.default.createElement("form",{role:"form",className:"form-horizontal"},v.default.createElement(b.Modal.Body,null,v.default.createElement("div",{className:"modal-intro"},v.default.createElement(_.FormattedMessage,{id:"channel_flow.changeUrlDescription",defaultMessage:"Some characters are now allowed in URLs and may be removed."})),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"col-sm-3 form__label control-label"},v.default.createElement(_.FormattedMessage,{id:"change_url.urlLabel",defaultMessage:"Channel URL"})),v.default.createElement("div",{className:"col-sm-9"},v.default.createElement("div",{className:e},v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:E.default.OVERLAY_TIME_DELAY,placement:"top",overlay:r},v.default.createElement("span",{className:"input-group-addon"},n)),v.default.createElement("input",{type:"text",ref:"urlinput",className:"form-control",maxLength:E.default.MAX_CHANNELNAME_LENGTH,onChange:this.onURLChanged,value:this.state.currentURL,autoFocus:!0,tabIndex:"1"})),t))),v.default.createElement(b.Modal.Footer,null,v.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this.onCancel},v.default.createElement(_.FormattedMessage,{id:"change_url.close",defaultMessage:"Close"})),v.default.createElement("button",{onClick:this.onSubmit,type:"submit",className:"btn btn-primary",tabIndex:"2"},this.props.submitButtonText))))}}]),t}(v.default.PureComponent);C.propTypes={show:m.default.bool.isRequired,title:m.default.node,submitButtonText:m.default.node,currentURL:m.default.string,currentTeamURL:m.default.string.isRequired,serverError:m.default.node,onModalSubmit:m.default.func.isRequired,onModalExited:m.default.func,onModalDismissed:m.default.func.isRequired},C.defaultProps={show:!1,title:"Change URL",submitButtonText:"Save",currentURL:"",serverError:null},t.default=C},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(215),E=a(120),w=n(E),C=a(12),x=a(47),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),S=a(2162),k=n(S),T=a(1237),P=a(2165),N=n(P),O=function(t){function a(t){(0,u.default)(this,a);var n=(0,p.default)(this,(a.__proto__||(0,s.default)(a)).call(this,t));return n.handleResize=function(){var e=M.isMobile();n.setState({isMobile:e})},n.getPreferences=function(){return n.props.currentUser?{showTutorialTip:w.default.getInt(C.Preferences.TUTORIAL_STEP,n.props.currentUser.id,999)===C.TutorialSteps.MENU_POPOVER&&!M.isMobile()&&"true"===e.window.mm_config.EnableTutorial}:{}},n.getStateFromStores=function(){var e=n.getPreferences(),t=M.isMobile();return(0,i.default)({},e,{isMobile:t})},n.onPreferenceChange=function(){n.setState(n.getPreferences())},n.toggleDropdown=function(e){e.preventDefault(),n.refs.dropdown.toggleDropdown()},n.renderStatusDropdown=function(){return n.state.isMobile?null:_.default.createElement(k.default,null)},n.state=n.getStateFromStores(),n}return(0,m.default)(a,t),(0,c.default)(a,[{key:"componentDidMount",value:function(){w.default.addChangeListener(this.onPreferenceChange),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){w.default.removeChangeListener(this.onPreferenceChange),window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this.renderStatusDropdown(),t=null;this.state.showTutorialTip&&(t=(0,T.createMenuTip)(this.toggleDropdown));var a=null;return a=""===this.props.teamDescription?_.default.createElement("h1",{id:"headerTeamName",className:"team__name"},this.props.teamDisplayName):_.default.createElement(y.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.Constants.OVERLAY_TIME_DELAY,placement:"bottom",overlay:_.default.createElement(y.Tooltip,{id:"team-name__tooltip"},this.props.teamDescription),ref:"descriptionOverlay"},_.default.createElement("h1",{id:"headerTeamName",className:"team__name"},this.props.teamDisplayName)),_.default.createElement("div",{id:"teamHeader",className:"team__header theme"},t,_.default.createElement("div",{id:"headerInfo",className:"header__info"},a,_.default.createElement("div",{id:"headerUsername",className:"user__name"},"@"+this.props.currentUser.username)),_.default.createElement("div",{id:"sidebarDropdownMenuContainer"},_.default.createElement(N.default,{ref:"dropdown",teamType:this.props.teamType,teamDisplayName:this.props.teamDisplayName,teamName:this.props.teamName,currentUser:this.props.currentUser})),e)}}]),a}(_.default.Component);t.default=O,O.defaultProps={teamDisplayName:"",teamDescription:"",teamType:""},O.propTypes={teamDisplayName:v.default.string,teamDescription:v.default.string,teamName:v.default.string,teamType:v.default.string,currentUser:v.default.object}}).call(t,a(22))},function(e,t,a){"use strict";function n(e){var t=(0,u.getCurrentUser)(e);if(!t)return{};var a=t.id;return{userId:a,profilePicture:l.Client4.getProfilePictureUrl(a,t.last_picture_update),status:(0,u.getStatusForUserId)(e,a)}}function r(e){return{actions:(0,o.bindActionCreators)({setStatus:s.setStatus},e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(141),o=a(11),s=a(82),l=a(23),u=a(69),d=a(2163),c=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,i.connect)(n,r)(c.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(12),E=a(47),w=a(2164),C=n(w),x=a(1204),M=n(x),S=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.state={showDropdown:!1},n.onToggle=function(e){n.setState({showDropdown:e})},n.closeDropdown=function(){n.setState({showDropdown:!1})},n.setStatus=function(e){n.props.actions.setStatus({user_id:n.props.userId,status:e}),n.closeDropdown()},n.setOnline=function(e){e.preventDefault(),n.setStatus(y.UserStatuses.ONLINE)},n.setOffline=function(e){e.preventDefault(),n.setStatus(y.UserStatuses.OFFLINE)},n.setAway=function(e){e.preventDefault(),n.setStatus(y.UserStatuses.AWAY)},n.setDnd=function(e){e.preventDefault(),n.setStatus(y.UserStatuses.DND)},n.renderStatusOnlineAction=function(){return n.renderStatusAction(y.UserStatuses.ONLINE,n.setOnline)},n.renderStatusAwayAction=function(){return n.renderStatusAction(y.UserStatuses.AWAY,n.setAway)},n.renderStatusOfflineAction=function(){return n.renderStatusAction(y.UserStatuses.OFFLINE,n.setOffline)},n.renderStatusDndAction=function(){return n.renderStatusAction(y.UserStatuses.DND,n.setDnd,(0,E.localizeMessage)("status_dropdown.set_dnd.extra","Disables Desktop and Push Notifications"))},n.renderProfilePicture=function(){return n.props.profilePicture?v.default.createElement("img",{className:"user__picture",src:n.props.profilePicture}):null},n.renderStatusAction=function(e,t,a){return v.default.createElement("li",{key:e},v.default.createElement("a",{id:"status"+e,href:"#",onClick:t},v.default.createElement(_.FormattedMessage,{id:"status_dropdown.set_"+e,defaultMessage:e}),v.default.createElement("span",{className:"status-dropdown-extra"},a)))},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.renderProfilePicture(),t=[this.renderStatusOnlineAction(),this.renderStatusAwayAction(),this.renderStatusDndAction(),this.renderStatusOfflineAction()];return v.default.createElement(b.Dropdown,{id:"status-dropdown",open:this.state.showDropdown,onToggle:this.onToggle,style:this.props.style},v.default.createElement(C.default,{bsRole:"toggle"},v.default.createElement("div",{className:"status-wrapper status-selector"},e,v.default.createElement(M.default,{status:this.props.status}),v.default.createElement("span",{className:"status status-edit edit"},v.default.createElement("i",{className:"fa fa-caret-down"})))),v.default.createElement(b.Dropdown.Menu,{id:"editStatusMenu"},t))}}]),t}(v.default.Component);S.propTypes={style:m.default.object,status:m.default.string,userId:m.default.string.isRequired,profilePicture:m.default.string,actions:m.default.shape({setStatus:m.default.func.isRequired}).isRequired},S.defaultProps={userId:"",profilePicture:"",status:y.UserStatuses.OFFLINE},t.default=S},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(459),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=(0,i.default)(e,["children"]);return delete a.bsRole,delete a.bsClass,_.default.createElement("span",a,t)}}]),t}(_.default.PureComponent);y.propTypes={children:v.default.element},t.default=y},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(167),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(215),w=a(39),C=r(w),x=a(214),M=a(457),S=a(142),k=n(S),T=a(59),P=r(T),N=a(42),O=r(N),I=a(461),R=r(I),A=a(12),L=a(143),D=a(169),F=n(D),U=a(47),j=n(U),H=a(1283),B=r(H),q=a(1368),z=r(q),G=a(1284),W=r(G),V=a(1285),$=r(V),K=a(2166),Y=r(K),X=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.showTeamSettingsModal=function(e){e.preventDefault(),t.setState({showDropdown:!1,showTeamSettingsModal:!0})},t.hideTeamSettingsModal=function(){t.setState({showTeamSettingsModal:!1})},t.handleEmitUserLoggedOutEvent=function(){k.emitUserLoggedOutEvent()},t.toggleDropdown=t.toggleDropdown.bind(t),t.handleAboutModal=t.handleAboutModal.bind(t),t.aboutModalDismissed=t.aboutModalDismissed.bind(t),t.showAccountSettingsModal=t.showAccountSettingsModal.bind(t),t.showAddUsersToTeamModal=t.showAddUsersToTeamModal.bind(t),t.hideAddUsersToTeamModal=t.hideAddUsersToTeamModal.bind(t),t.showInviteMemberModal=t.showInviteMemberModal.bind(t),t.showGetTeamInviteLinkModal=t.showGetTeamInviteLinkModal.bind(t),t.showTeamMembersModal=t.showTeamMembersModal.bind(t),t.hideTeamMembersModal=t.hideTeamMembersModal.bind(t),t.toggleShortcutsModal=t.toggleShortcutsModal.bind(t),t.onTeamChange=t.onTeamChange.bind(t),t.renderCustomEmojiLink=t.renderCustomEmojiLink.bind(t),t.handleClick=t.handleClick.bind(t),t.state={teamMembers:P.default.getMyTeamMembers(),teamListings:P.default.getTeamListings(),showAboutModal:!1,showDropdown:!1,showTeamSettingsModal:!1,showTeamMembersModal:!1,showAddUsersToTeamModal:!1},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"handleClick",value:function(e){R.default.isBusy()&&(R.default.emitChanged({action:A.WebrtcActionTypes.IN_PROGRESS}),e.preventDefault())}},{key:"toggleDropdown",value:function(e){if("boolean"==typeof e)return void this.setState({showDropdown:e});e&&e.preventDefault&&e.preventDefault(),this.setState({showDropdown:!this.state.showDropdown})}},{key:"handleAboutModal",value:function(e){e.preventDefault(),this.setState({showAboutModal:!0,showDropdown:!1})}},{key:"aboutModalDismissed",value:function(){this.setState({showAboutModal:!1})}},{key:"showAccountSettingsModal",value:function(e){e.preventDefault(),this.setState({showDropdown:!1}),k.showAccountSettingsModal()}},{key:"toggleShortcutsModal",value:function(e){e.preventDefault(),this.setState({showDropdown:!1}),k.toggleShortcutsModal()}},{key:"showAddUsersToTeamModal",value:function(e){e.preventDefault(),this.setState({showAddUsersToTeamModal:!0,showDropdown:!1})}},{key:"hideAddUsersToTeamModal",value:function(){this.setState({showAddUsersToTeamModal:!1})}},{key:"showInviteMemberModal",value:function(e){e.preventDefault(),this.setState({showDropdown:!1}),k.showInviteMemberModal()}},{key:"showGetTeamInviteLinkModal",value:function(e){e.preventDefault(),this.setState({showDropdown:!1}),k.showGetTeamInviteLinkModal()}},{key:"showTeamMembersModal",value:function(e){e.preventDefault(),this.setState({showTeamMembersModal:!0})}},{key:"hideTeamMembersModal",value:function(){this.setState({showTeamMembersModal:!1})}},{key:"componentDidMount",value:function(){P.default.addChangeListener(this.onTeamChange)}},{key:"onTeamChange",value:function(){this.setState({teamMembers:P.default.getMyTeamMembers(),teamListings:P.default.getTeamListings(),showDropdown:!1})}},{key:"componentWillUnmount",value:function(){(0,g.default)(C.default.findDOMNode(this.refs.dropdown)).off("hide.bs.dropdown"),P.default.removeChangeListener(this.onTeamChange)}},{key:"renderCustomEmojiLink",value:function(){return"true"===window.mm_config.EnableCustomEmoji&&j.canCreateCustomEmoji(this.props.currentUser)?y.default.createElement("li",null,y.default.createElement(M.Link,{id:"customEmoji",onClick:this.handleClick,to:"/"+this.props.teamName+"/emoji"},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.emoji",defaultMessage:"Custom Emoji"}))):null}},{key:"render",value:function(){var t=e.mm_config,a=this.props.currentUser,n="",r="",i="",o="",s="",l=!1,u=!1,d=null,c=null;if(!a)return null;null!=a&&(l=P.default.isTeamAdminForCurrentTeam()||O.default.isSystemAdminForCurrentUser(),u=O.default.isSystemAdminForCurrentUser(),r=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"sendEmailInvite",onClick:this.showInviteMemberModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.inviteMember",defaultMessage:"Send Email Invite"}))),i=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"addUsersToTeam",onClick:this.showAddUsersToTeamModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.addMemberToTeam",defaultMessage:"Add Members to Team"}))),this.props.teamType===A.Constants.OPEN_TEAM&&"true"===t.EnableUserCreation&&(n=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"getTeamInviteLink",onClick:this.showGetTeamInviteLinkModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.teamLink",defaultMessage:"Get Team Invite Link"})))),"true"===e.window.mm_license.IsLicensed&&(t.RestrictTeamInvite!==A.Constants.PERMISSIONS_SYSTEM_ADMIN||u?t.RestrictTeamInvite!==A.Constants.PERMISSIONS_TEAM_ADMIN||l||(n=null,r=null,i=null):(n=null,r=null,i=null)));var f=y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.manageMembers",defaultMessage:"Manage Members"});l?d=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"teamSettings",onClick:this.showTeamSettingsModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.teamSettings",defaultMessage:"Team Settings"}))):f=y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.viewMembers",defaultMessage:"View Members"}),o=y.default.createElement("li",null,y.default.createElement("button",{id:"manageMembers",className:"style--none",onClick:this.showTeamMembersModal},f)),("true"===t.EnableIncomingWebhooks||"true"===t.EnableOutgoingWebhooks||"true"===t.EnableCommands||"true"===t.EnableOAuthServiceProvider&&(u||"true"!==t.EnableOnlyAdminIntegrations))&&(l||"true"!==t.EnableOnlyAdminIntegrations)&&(c=y.default.createElement("li",null,y.default.createElement(M.Link,{id:"Integrations",to:"/"+this.props.teamName+"/integrations",onClick:this.handleClick},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.integrations",defaultMessage:"Integrations"})))),u&&(s=y.default.createElement("li",null,y.default.createElement(M.Link,{id:"systemConsole",to:"/admin_console",onClick:this.handleClick},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.console",defaultMessage:"System Console"}))));var p=[],h=!1;if(("true"===t.EnableTeamCreation||O.default.isSystemAdminForCurrentUser())&&p.push(y.default.createElement("li",{key:"newTeam_li"},y.default.createElement(M.Link,{id:"createTeam",key:"newTeam_a",to:"/create_team",onClick:this.handleClick},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.create",defaultMessage:"Create a New Team"})))),!t.ExperimentalPrimaryTeam){var m=this.state.teamMembers.reduce(function(e,t){return e[t.team_id]=!0,e},{});for(var g in this.state.teamListings)if(this.state.teamListings.hasOwnProperty(g)&&!m[g]){h=!0;break}h&&p.push(y.default.createElement("li",{key:"joinTeam_li"},y.default.createElement(M.Link,{id:"joinAnotherTeam",onClick:this.handleClick,to:"/select_team"},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.join",defaultMessage:"Join Another Team"})))),p.push(y.default.createElement("li",{key:"leaveTeam_li"},y.default.createElement("button",{className:"style--none",id:"leaveTeam",onClick:k.showLeaveTeamModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.leave",defaultMessage:"Leave Team"}))))}var v=null;t.HelpLink&&(v=y.default.createElement("li",null,y.default.createElement(M.Link,{id:"helpLink",target:"_blank",rel:"noopener noreferrer",to:t.HelpLink},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.help",defaultMessage:"Help"}))));var b=null;t.ReportAProblemLink&&(b=y.default.createElement("li",null,y.default.createElement(M.Link,{id:"reportLink",target:"_blank",rel:"noopener noreferrer",to:t.ReportAProblemLink},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.report",defaultMessage:"Report a Problem"}))));var _=null;e.window.mm_config.AppDownloadLink&&!F.isMobileApp()&&(_=y.default.createElement("li",null,y.default.createElement(M.Link,{id:"nativeAppLink",target:"_blank",rel:"noopener noreferrer",to:(0,L.useSafeUrl)(e.window.mm_config.AppDownloadLink)},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.nativeApps",defaultMessage:"Download Apps"}))));var w=void 0;this.state.showTeamMembersModal&&(w=y.default.createElement(W.default,{onLoad:this.toggleDropdown,onHide:this.hideTeamMembersModal,isAdmin:l}));var C=void 0;this.state.showAddUsersToTeamModal&&(C=y.default.createElement(z.default,{onModalDismissed:this.hideAddUsersToTeamModal}));var S=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"keyboardShortcuts",onClick:this.toggleShortcutsModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.keyboardShortcuts",defaultMessage:"Keyboard Shortcuts"}))),T=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"accountSettings",onClick:this.showAccountSettingsModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.accountSettings",defaultMessage:"Account Settings"}))),N=y.default.createElement("li",null,y.default.createElement("button",{id:"about",className:"style--none",onClick:this.handleAboutModal},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.about",defaultMessage:"About Mattermost"}))),I=y.default.createElement("li",null,y.default.createElement("button",{className:"style--none",id:"logout",onClick:this.handleEmitUserLoggedOutEvent},y.default.createElement(x.FormattedMessage,{id:"navbar_dropdown.logout",defaultMessage:"Logout"}))),R=this.renderCustomEmojiLink(),D=null;(r||n||i)&&(D=y.default.createElement("li",{className:"divider"}));var U=null;(d||o||p)&&(U=y.default.createElement("li",{className:"divider"}));var j=null;(c||R)&&(j=y.default.createElement("li",{className:"divider"}));var H=null;s&&(H=y.default.createElement("li",{className:"divider"}));var q=null;(v||b||_||N)&&(q=y.default.createElement("li",{className:"divider"}));var G=null;return I&&(G=y.default.createElement("li",{className:"divider"})),y.default.createElement(E.Dropdown,{id:"sidebar-header-dropdown",open:this.state.showDropdown,onToggle:this.toggleDropdown,className:"sidebar-header-dropdown",pullRight:!0},y.default.createElement(Y.default,{bsRole:"toggle",onClick:this.toggleDropdown}),y.default.createElement(E.Dropdown.Menu,{id:"sidebarDropdownMenu"},T,D,r,n,i,U,d,o,p,j,c,R,H,s,q,v,S,b,_,N,G,I,w,y.default.createElement($.default,{show:this.state.showTeamSettingsModal,onModalDismissed:this.hideTeamSettingsModal}),y.default.createElement(B.default,{show:this.state.showAboutModal,onModalDismissed:this.aboutModalDismissed}),C))}}]),a}(y.default.Component);X.propTypes={teamType:b.default.string,teamDisplayName:b.default.string,teamName:b.default.string,currentUser:b.default.object},X.defaultProps={teamType:""},t.default=X}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(215),_=a(214),y=a(1272),E=n(y),w=a(12),C=n(w),x=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=v.default.createElement(b.Tooltip,{id:"main-menu__tooltip"},v.default.createElement(_.FormattedMessage,{id:"sidebar.mainMenu",defaultMessage:"Main menu"}));return v.default.createElement(b.OverlayTrigger,{trigger:["hover","focus"],delayShow:C.default.OVERLAY_TIME_DELAY,placement:"right",overlay:e},v.default.createElement("button",{id:"sidebarHeaderDropdownButton",className:"sidebar-header-dropdown__toggle cursor--pointer style--none",onClick:this.props.onClick},v.default.createElement(E.default,{className:"sidebar-header-dropdown__icon"})))}}]),t}(v.default.PureComponent);x.propTypes={bsRole:m.default.oneOf(["toggle"]).isRequired,onClick:m.default.func.isRequired},t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(1439),_=n(b),y=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e="none";return this.props.show&&(e="block"),v.default.createElement("div",{id:"unreadIndicator"+this.props.name,className:"nav-pills__unread-indicator "+this.props.extraClass,style:{display:e},onClick:this.props.onClick},this.props.content,v.default.createElement(_.default,{className:"icon icon__unread"}))}}]),t}(v.default.PureComponent);y.propTypes={onClick:m.default.func.isRequired,show:m.default.bool,extraClass:m.default.string,content:m.default.node,name:m.default.string},y.defaultProps={show:!1,extraClass:"",content:""},t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,d.makeGetChannel)();return function(t,a){var n=(0,m.getConfig)(t),r=e(t,{id:a.channelId})||{},i=(0,f.get)(t,v.Constants.Preferences.TUTORIAL_STEP,a.currentUserId,999),o=(0,d.getChannelsNameMapInCurrentTeam)(t),l=(0,c.getUserIdsInChannels)(t),u=0;l&&l[r.id]&&(u=l[r.id].size,l[r.id].has(a.currentUserId)&&u--);var p=a.membership,h=p?p.mention_count:0,g=r&&p?r.total_msg_count-p.msg_count:0;g<0&&(g=0);var b=null;return r.teammate_id&&(b=(0,c.getUser)(t,r.teammate_id)),{config:n,channelId:r.id,channelName:r.name,channelDisplayName:r.display_name,channelType:r.type,channelStatus:r.status,channelFake:r.fake,channelStringified:r.fake&&(0,s.default)(r),channelTeammateId:b&&b.id,channelTeammateUsername:b&&b.username,channelTeammateDeletedAt:b&&b.delete_at,showTutorialTip:i===v.Constants.TutorialSteps.CHANNEL_POPOVER&&"true"===n.EnableTutorial,townSquareDisplayName:o[v.Constants.DEFAULT_CHANNEL]&&o[v.Constants.DEFAULT_CHANNEL].display_name,offTopicDisplayName:o[v.Constants.OFFTOPIC_CHANNEL]&&o[v.Constants.OFFTOPIC_CHANNEL].display_name,unreadMsgs:g,unreadMentions:h,membersCount:u}}}function i(e){return{actions:(0,u.bindActionCreators)({keepChanneIdAsUnread:g.keepChanneIdAsUnread,savePreferences:p.savePreferences,leaveChannel:h.leaveChannel},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(121),s=n(o),l=a(141),u=a(11),d=a(144),c=a(69),f=a(89),p=a(148),h=a(90),m=a(122),g=a(1440),v=a(12),b=a(2169),_=n(b);t.default=(0,l.connect)(r,i,null,{withRef:!0})(_.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(35),d=r(u),c=a(36),f=r(c),p=a(0),h=r(p),m=a(214),g=a(27),v=r(g),b=a(81),_=a(12),y=a(47),E=n(y),w=a(303),C=a(142),x=n(C),M=a(2170),S=r(M),k=a(2174),T=r(k),P=a(311),N=(0,P.initFeedback)(),O=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return a=n=(0,d.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.isLeaving=!1,n.openLeftSidebar=function(){E.isMobile()&&setTimeout(function(){document.querySelector(".app__body .inner-wrap").classList.add("move--right"),document.querySelector(".app__body .sidebar--left").classList.add("move--right")})},n.handleLeavePublicChannel=function(){n.props.actions.leaveChannel(n.props.channelId),(0,w.trackEvent)("ui","ui_public_channel_x_button_clicked")},n.handleLeavePrivateChannel=function(){x.showLeavePrivateChannelModal({id:n.props.channelId,display_name:n.props.channelDisplayName}),(0,w.trackEvent)("ui","ui_private_channel_x_button_clicked")},n.handleLeaveDirectChannel=function(){if(!n.isLeaving){n.isLeaving=!0;var e=void 0,t=void 0;n.props.channelType===_.Constants.DM_CHANNEL?(e=n.props.channelTeammateId,t=_.Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW):(e=n.props.channelId,t=_.Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW);var a=n.props.currentUserId;n.props.actions.savePreferences(a,[{user_id:a,category:t,name:e,value:"false"}]).then(function(){n.isLeaving=!1}),(0,w.trackEvent)("ui","ui_direct_channel_x_button_clicked")}n.props.active&&b.browserHistory.push("/"+n.props.currentTeamName+"/channels/"+_.Constants.DEFAULT_CHANNEL)},n.handleSelectChannel=function(){var e=n.props,t=e.actions,a=e.channelId;N({via:"Sidebar",channel:{id:a}},"ChannelSwitched"),t.keepChanneIdAsUnread(n.isChannelUnread()?a:null,n.props.unreadMentions>0)},n.isChannelUnread=function(){var e=n.props,t=e.membership,a=e.unreadMsgs,r=e.unreadMentions;if(t){return a+r>0||t.mention_count>0}return!1},n.render=function(){if(!n.props.channelDisplayName||!n.props.channelType)return h.default.createElement("div",null);var e=null;n.props.channelType===_.Constants.DM_CHANNEL||n.props.channelType===_.Constants.GM_CHANNEL?e=n.handleLeaveDirectChannel:"true"===n.props.config.EnableXToLeaveChannelsFromLHS&&(n.props.channelType===_.Constants.OPEN_CHANNEL&&n.props.channelName!==_.Constants.DEFAULT_CHANNEL?e=n.handleLeavePublicChannel:n.props.channelType===_.Constants.PRIVATE_CHANNEL&&(e=n.handleLeavePrivateChannel));var t="";n.props.active&&(t="active");var a="sidebar-item";n.isChannelUnread()&&(a+=" unread-title");var r=!1;n.props.membership&&n.props.unreadMentions&&(r=!0),n.props.unreadMentions>0&&(a+=" has-badge"),e&&!r&&(a+=" has-close");var i=null;n.props.showTutorialTip&&n.props.channelName===_.Constants.DEFAULT_CHANNEL&&(i=h.default.createElement(T.default,{townSquareDisplayName:n.props.townSquareDisplayName,offTopicDisplayName:n.props.offTopicDisplayName}),n.openLeftSidebar());var o="";o=n.props.channelFake?"/"+n.props.currentTeamName+"/channels/"+n.props.channelName+"?fakechannel="+encodeURIComponent(n.props.channelStringified):n.props.channelType===_.Constants.DM_CHANNEL?"/"+n.props.currentTeamName+"/messages/@"+n.props.channelTeammateUsername:n.props.channelType===_.Constants.GM_CHANNEL?"/"+n.props.currentTeamName+"/messages/"+n.props.channelName:"/"+n.props.currentTeamName+"/channels/"+n.props.channelName;var s="";return s=n.props.currentUserId===n.props.channelTeammateId?h.default.createElement(m.FormattedMessage,{id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:n.props.channelDisplayName}}):n.props.channelDisplayName,h.default.createElement("li",{key:n.props.channelName,ref:"channel",className:t},h.default.createElement(S.default,{link:o,rowClass:a,channelId:n.props.channelId,channelStatus:n.props.channelStatus,channelType:n.props.channelType,displayName:s,handleClose:e,badge:r,unreadMentions:n.props.unreadMentions,membersCount:n.props.membersCount,teammateId:n.props.channelTeammateId,teammateDeletedAt:n.props.channelTeammateDeletedAt,onSelectChannel:n.handleSelectChannel}),i)},r=a,(0,d.default)(n,r)}return(0,f.default)(t,e),t}(h.default.PureComponent);O.propTypes={config:v.default.object.isRequired,channelId:v.default.string.isRequired,channelName:v.default.string.isRequired,channelDisplayName:v.default.string.isRequired,channelType:v.default.string.isRequired,channelStatus:v.default.string,channelFake:v.default.bool,channelStringified:v.default.string,channelTeammateId:v.default.string,channelTeammateUsername:v.default.string,channelTeammateDeletedAt:v.default.number,membership:v.default.object,unreadMsgs:v.default.number.isRequired,unreadMentions:v.default.number.isRequired,active:v.default.bool.isRequired,currentTeamName:v.default.string.isRequired,currentUserId:v.default.string.isRequired,showTutorialTip:v.default.bool.isRequired,townSquareDisplayName:v.default.string,offTopicDisplayName:v.default.string,membersCount:v.default.number.isRequired,actions:v.default.shape({keepChanneIdAsUnread:v.default.func.isRequired,savePreferences:v.default.func.isRequired,leaveChannel:v.default.func.isRequired}).isRequired},t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(35),u=n(l),d=a(36),c=n(d),f=a(0),p=n(f),h=a(27),m=n(h),g=a(457),v=a(81),b=a(303),_=a(169),y=a(1438),E=n(y),w=a(2171),C=n(w),x=a(2173),M=n(x),S=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return a=n=(0,u.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.trackChannelSelectedEvent=function(){n.props.onSelectChannel(),(0,b.mark)("SidebarChannelLink#click"),(0,b.trackEvent)("ui","ui_channel_selected")},n.handleClick=function(){n.trackChannelSelectedEvent(),v.browserHistory.push(n.props.link)},n.render=function(){var e=null;n.props.badge&&(e=p.default.createElement("span",{className:"badge"},n.props.unreadMentions));var t=p.default.createElement(p.default.Fragment,null,p.default.createElement(C.default,{channelId:n.props.channelId,channelStatus:n.props.channelStatus,channelType:n.props.channelType,membersCount:n.props.membersCount,teammateId:n.props.teammateId,teammateDeletedAt:n.props.teammateDeletedAt}),p.default.createElement("span",{className:"sidebar-item__name"},n.props.displayName),e,p.default.createElement(M.default,{handleClose:n.props.handleClose,channelId:n.props.channelId,channelType:n.props.channelType,teammateId:n.props.teammateId,badge:n.props.badge}));return(0,_.isDesktopApp)()?p.default.createElement(E.default,{link:n.props.link,menuId:n.props.channelId},p.default.createElement("button",{className:"btn btn-link "+n.props.rowClass,onClick:n.handleClick},t)):p.default.createElement(g.Link,{to:n.props.link,className:n.props.rowClass,onClick:n.trackChannelSelectedEvent},t)},r=a,(0,u.default)(n,r)}return(0,c.default)(t,e),t}(p.default.PureComponent);S.propTypes={link:m.default.string.isRequired,rowClass:m.default.string.isRequired,channelType:m.default.string.isRequired,channelId:m.default.string.isRequired,displayName:m.default.oneOfType([m.default.string,m.default.object]).isRequired,channelStatus:m.default.string,handleClose:m.default.func,badge:m.default.bool,membersCount:m.default.number.isRequired,unreadMentions:m.default.number,teammateId:m.default.string,teammateDeletedAt:m.default.number,onSelectChannel:m.default.func.isRequired},t.default=S},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(27),v=n(g),b=a(12),_=a(1204),y=n(_),E=a(2172),w=n(E),C=a(1268),x=n(C),M=a(1269),S=n(M),k=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=null;return this.props.channelType===b.Constants.OPEN_CHANNEL?e=m.default.createElement(x.default,{className:"icon icon__globe"}):this.props.channelType===b.Constants.PRIVATE_CHANNEL?e=m.default.createElement(S.default,{className:"icon icon__lock"}):this.props.channelType===b.Constants.GM_CHANNEL?e=m.default.createElement("div",{className:"status status--group"},this.props.membersCount):this.props.channelType===b.Constants.DM_CHANNEL&&(e=this.props.teammateId&&this.props.teammateDeletedAt?m.default.createElement(w.default,{className:"icon icon__archive"}):m.default.createElement(y.default,{type:"avatar",status:this.props.channelStatus})),e}}]),t}(m.default.PureComponent);k.propTypes={channelType:v.default.string.isRequired,channelId:v.default.string.isRequired,membersCount:v.default.number,channelStatus:v.default.string,teammateId:v.default.string,teammateDeletedAt:v.default.number},t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},m.default.createElement("path",{d:"M8.5 6.5q0-0.203-0.148-0.352t-0.352-0.148h-2q-0.203 0-0.352 0.148t-0.148 0.352 0.148 0.352 0.352 0.148h2q0.203 0 0.352-0.148t0.148-0.352zM13 5v7.5q0 0.203-0.148 0.352t-0.352 0.148h-11q-0.203 0-0.352-0.148t-0.148-0.352v-7.5q0-0.203 0.148-0.352t0.352-0.148h11q0.203 0 0.352 0.148t0.148 0.352zM13.5 1.5v2q0 0.203-0.148 0.352t-0.352 0.148h-12q-0.203 0-0.352-0.148t-0.148-0.352v-2q0-0.203 0.148-0.352t0.352-0.148h12q0.203 0 0.352 0.148t0.148 0.352z"})))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=a(215),v=a(214),b=a(27),_=n(b),y=a(12),E=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.overlayTriggerAttr=["hover","focus"],n.handleClose=function(e){e.stopPropagation(),e.preventDefault(),n.props.handleClose()},r=a,(0,c.default)(n,r)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=null;if(this.props.handleClose&&!this.props.badge){var t=m.default.createElement(g.Tooltip,{id:"remove-dm-tooltip"},m.default.createElement(v.FormattedMessage,{id:"sidebar.removeList",defaultMessage:"Remove from list"}));this.props.channelType!==y.Constants.OPEN_CHANNEL&&this.props.channelType!==y.Constants.PRIVATE_CHANNEL||(t=m.default.createElement(g.Tooltip,{id:"remove-dm-tooltip"},m.default.createElement(v.FormattedMessage,{id:"sidebar.leave",defaultMessage:"Leave channel"}))),e=m.default.createElement(g.OverlayTrigger,{trigger:this.overlayTriggerAttr,delayShow:1e3,placement:"top",overlay:t},m.default.createElement("span",{onClick:this.handleClose,className:"btn-close"},"×"))}return e}}]),t}(m.default.PureComponent);E.propTypes={handleClose:_.default.func,channelId:_.default.string.isRequired,channelType:_.default.string.isRequired,teammateId:_.default.string,badge:_.default.bool},t.default=E},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(35),u=n(l),d=a(36),c=n(d),f=a(0),p=n(f),h=a(27),m=n(h),g=a(214),v=a(12),b=a(1237),_=n(b),y=function(e){function t(){var e,a,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return a=n=(0,u.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.render=function(){var e=[],t=v.Constants.DEFAULT_CHANNEL_UI_NAME;n.props.townSquareDisplayName&&(t=n.props.townSquareDisplayName);var a=v.Constants.OFFTOPIC_CHANNEL_UI_NAME;return n.props.offTopicDisplayName&&(a=n.props.offTopicDisplayName),e.push(p.default.createElement("div",null,p.default.createElement(g.FormattedHTMLMessage,{id:"sidebar.tutorialScreen1",defaultMessage:"<h4>Channels</h4><p><strong>Channels</strong> organize conversations across different topics. They’re open to everyone on your team. To send private communications use <strong>Direct Messages</strong> for a single person or <strong>Private Channels</strong> for multiple people.</p>"}))),e.push(p.default.createElement("div",null,p.default.createElement(g.FormattedHTMLMessage,{id:"sidebar.tutorialScreen2",defaultMessage:'<h4>"{townsquare}" and "{offtopic}" channels</h4> <p>Here are two public channels to start:</p> <p><strong>{townsquare}</strong> is a place for team-wide communication. Everyone in your team is a member of this channel.</p> <p><strong>{offtopic}</strong> is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.</p>',values:{townsquare:t,offtopic:a}}))),e.push(p.default.createElement("div",null,p.default.createElement(g.FormattedHTMLMessage,{id:"sidebar.tutorialScreen3",defaultMessage:'<h4>Creating and Joining Channels</h4> <p>Click <strong>"More..."</strong> to create a new channel or join an existing one.</p> <p>You can also create a new public or private channel by clicking the <strong>"+" symbol</strong> next to the public or private channel header.</p>'}))),p.default.createElement(_.default,{placement:"right",screens:e,overlayClass:"tip-overlay--sidebar",diagnosticsTag:"tutorial_tip_2_channels"})},r=a,(0,u.default)(n,r)}return(0,c.default)(t,e),t}(p.default.PureComponent);y.propTypes={townSquareDisplayName:m.default.string,offTopicDisplayName:m.default.string},t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(0),v=n(g),b=a(214),_=a(457),y=a(48),E=n(y),w=a(59),C=n(w),x=a(1441),M=n(x),S=a(1443),k=n(S),T=a(142),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(T),N=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.getStateFromStores=a.getStateFromStores.bind(a),a.isStateValid=a.isStateValid.bind(a),a.updateState=a.updateState.bind(a),a.doPermalinkEvent=a.doPermalinkEvent.bind(a),a.doPermalinkEvent(e),a.state=a.getStateFromStores(e),a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"doPermalinkEvent",value:function(e){var t=e.match.params.postid;P.emitPostFocusEvent(t)}},{key:"getStateFromStores",value:function(e){var t=e.match.params.postid,a=E.default.getCurrent(),n=a?a.id:"",r=a?a.name:"",i=C.default.getCurrent();return{channelId:n,channelName:r,teamName:i?i.name:"",postId:t}}},{key:"isStateValid",value:function(){return""!==this.state.channelId&&this.state.teamName}},{key:"updateState",value:function(){this.setState(this.getStateFromStores(this.props))}},{key:"componentDidMount",value:function(){E.default.addChangeListener(this.updateState),C.default.addChangeListener(this.updateState),(0,m.default)("body").addClass("app__body")}},{key:"componentWillUnmount",value:function(){E.default.removeChangeListener(this.updateState),C.default.removeChangeListener(this.updateState),(0,m.default)("body").removeClass("app__body")}},{key:"componentWillReceiveProps",value:function(e){this.doPermalinkEvent(e),this.setState(this.getStateFromStores(e))}},{key:"render",value:function(){return this.isStateValid()?v.default.createElement("div",{id:"app-content",className:"app__content"},v.default.createElement(M.default,{channelId:this.state.channelId}),v.default.createElement(k.default,{channelId:this.state.channelId,focusedPostId:this.state.postId}),v.default.createElement("div",{id:"archive-link-home"},v.default.createElement(_.Link,{to:"/"+this.state.teamName+"/channels/"+this.state.channelName},v.default.createElement(b.FormattedMessage,{id:"center_panel.recent",defaultMessage:"Click here to jump to recent messages. "}),v.default.createElement("i",{className:"fa fa-arrow-down"})))):null}}]),t}(v.default.PureComponent);t.default=N},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(216),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(27),b=r(v),_=a(0),y=r(_),E=a(215),w=a(214);a(1442);var C=a(142),x=n(C),M=a(312),S=n(M),k=a(49),T=r(k),P=a(461),N=r(P),O=a(59),I=r(O),R=a(48),A=r(R),L=a(304),D=n(L),F=a(1343),U=r(F),j=a(12),H=a(1142),B=n(H),q=a(143),z=a(47),G=n(z),W=a(460),V=a(1332),$=r(V),K=a(1225),Y=r(K),X=a(1271),Z=r(X),J=a(1336),Q=r(J),ee=a(1339),te=r(ee),ae=a(1267),ne=r(ae),re=a(1331),ie=r(re),oe=a(2189),se=r(oe),le=a(1340),ue=r(le),de=a(1282),ce=r(de),fe=a(1204),pe=r(fe),he=a(1233),me=r(he),ge=a(1366),ve=r(ge),be=a(2193),_e=r(be),ye=a(1342),Ee=r(ye),we=a(464),Ce=r(we),xe=j.Constants.PRE_RELEASE_FEATURES,Me=function(t){function a(e){(0,d.default)(this,a);var t=(0,h.default)(this,(a.__proto__||(0,l.default)(a)).call(this,e));return t.onWebrtcChange=function(){t.setState({isBusy:N.default.isBusy()})},t.onBusy=function(e){t.setState({isBusy:e})},t.handleLeave=function(){t.props.channel.type===j.Constants.PRIVATE_CHANNEL?x.showLeavePrivateChannelModal(t.props.channel):t.props.actions.leaveChannel(t.props.channel.id)},t.toggleFavorite=function(){t.props.isFavorite?t.props.actions.unfavoriteChannel(t.props.channel.id):t.props.actions.favoriteChannel(t.props.channel.id)},t.searchMentions=function(e){e.preventDefault(),t.props.rhsState===j.RHSStates.MENTION?t.props.actions.closeRightHandSide():t.props.actions.showMentions()},t.getPinnedPosts=function(e){e.preventDefault(),t.props.rhsState===j.RHSStates.PIN?t.props.actions.closeRightHandSide():t.props.actions.showPinnedPosts()},t.getFlagged=function(e){e.preventDefault(),t.props.rhsState===j.RHSStates.FLAG?t.props.actions.closeRightHandSide():t.props.actions.showFlaggedPosts()},t.handleShortcut=function(e){G.cmdOrCtrlPressed(e)&&e.shiftKey&&e.keyCode===j.Constants.KeyCodes.M&&(e.preventDefault(),t.searchMentions(e))},t.showRenameChannelModal=function(e){e.preventDefault(),t.setState({showRenameChannelModal:!0})},t.hideRenameChannelModal=function(){t.setState({showRenameChannelModal:!1})},t.showChannelNotificationsModal=function(e){e.preventDefault(),t.setState({showChannelNotificationsModal:!0})},t.hideChannelNotificationsModal=function(){t.setState({showChannelNotificationsModal:!1})},t.initWebrtc=function(e,a){a&&!t.state.isBusy&&(t.props.actions.closeRightHandSide(),S.initWebrtc(e,!0))},t.openDirectMessageModal=function(){T.default.handleViewAction({type:j.ActionTypes.TOGGLE_DM_MODAL,value:!0,channelId:t.props.channel.id})},t.handleOnMouseOver=function(){t.refs.headerOverlay&&t.refs.headerOverlay.show()},t.handleOnMouseOut=function(){t.refs.headerOverlay&&t.refs.headerOverlay.hide()},t.showMembersModal=function(){t.setState({showMembersModal:!0})},t.hideMembersModal=function(){t.setState({showMembersModal:!1})},t.showEditChannelPurposeModal=function(){t.setState({showEditChannelPurposeModal:!0})},t.hideEditChannelPurposeModal=function(){t.setState({showEditChannelPurposeModal:!1})},t.hideEditChannelHeaderModal=function(){t.setState({showEditChannelHeaderModal:!1})},t.showEditChannelHeaderModal=function(){t.setState({showEditChannelHeaderModal:!0})},t.handleWebRTCOnClick=function(e){e.preventDefault();var a=t.props.dmUser.id,n=t.props.dmUserStatus.status,r=n===j.UserStatuses.OFFLINE,i=n===j.UserStatuses.DND;t.initWebrtc(a,!r||!i)},t.showInviteModal=function(){var e=t.props,a=e.channel,n=e.currentUser,r=e.actions,i={modalId:j.ModalIdentifiers.CHANNEL_INVITE,dialogType:Y.default,dialogProps:{channel:a,currentUser:n}};r.openModal(i)},t.state={showEditChannelHeaderModal:!1,showEditChannelPurposeModal:!1,showMembersModal:!1,showRenameChannelModal:!1,showChannelNotificationsModal:!1,isBusy:N.default.isBusy()},t}return(0,g.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){this.props.actions.getCustomEmojisInText(this.props.channel.header),N.default.addChangedListener(this.onWebrtcChange),N.default.addBusyListener(this.onBusy),document.addEventListener("keydown",this.handleShortcut)}},{key:"componentWillUnmount",value:function(){N.default.removeChangedListener(this.onWebrtcChange),N.default.removeBusyListener(this.onBusy),document.removeEventListener("keydown",this.handleShortcut)}},{key:"componentWillReceiveProps",value:function(e){this.props.channel.id!==e.channel.id&&this.props.actions.getCustomEmojisInText(e.channel.header)}},{key:"render",value:function(){if(G.isEmptyObject(this.props.channel)||G.isEmptyObject(this.props.channelMember)||G.isEmptyObject(this.props.currentUser))return y.default.createElement("div",{className:"channel-header"});var t=this.props.channel,a=y.default.createElement(E.Tooltip,{id:"recentMentionsTooltip"},y.default.createElement(w.FormattedMessage,{id:"channel_header.recentMentions",defaultMessage:"Recent Mentions"})),n=y.default.createElement(E.Tooltip,{id:"pinnedPostTooltip"},y.default.createElement(w.FormattedMessage,{id:"channel_header.pinnedPosts",defaultMessage:"Pinned Posts"})),r=y.default.createElement(E.Tooltip,{id:"flaggedTooltip",className:"text-nowrap"},y.default.createElement(w.FormattedMessage,{id:"channel_header.flagged",defaultMessage:"Flagged Posts"})),i={singleline:!0,mentionHighlight:!1,siteURL:(0,q.getSiteURL)(),channelNamesMap:A.default.getChannelNamesMap(),team:I.default.getCurrent(),atMentions:!0},o=y.default.createElement(E.Popover,{id:"header-popover",bStyle:"info",bSize:"large",placement:"bottom",className:"description",onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut},y.default.createElement(U.default,{message:t.header,options:i})),s=t.display_name,l=G.isChannelAdmin(this.props.channelMember.roles),u=!G.isEmptyObject(this.props.teamMember)&&G.isAdmin(this.props.teamMember.roles),d=G.isSystemAdmin(this.props.currentUser.roles),c=this.props.channel.type===j.Constants.DM_CHANNEL,f=this.props.channel.type===j.Constants.GM_CHANNEL,p=void 0;if(c){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,m=this.props.dmUserStatus.status,g=G.getUserIdFromChannelName(t);s=this.props.currentUser.id===g?y.default.createElement(w.FormattedMessage,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you) ",values:{displayname:G.displayUsername(g)}}):G.displayUsername(g)+" ";if("true"===e.mm_config.EnableWebrtc&&h&&G.isFeatureEnabled(xe.WEBRTC_PREVIEW)&&this.props.currentUser.id!==g){var v=m===j.UserStatuses.OFFLINE,b=m===j.UserStatuses.DND,_=this.props.dmUserIsInCall,C="",x=void 0;v||b||_?(C="offline",v?x=y.default.createElement(w.FormattedMessage,{id:"channel_header.webrtc.offline",defaultMessage:"The user is offline"}):b?x=y.default.createElement(w.FormattedMessage,{id:"channel_header.webrtc.doNotDisturb",defaultMessage:"Do not disturb"}):_&&(x=y.default.createElement(w.FormattedMessage,{id:"channel_header.webrtc.unavailable",defaultMessage:"New call unavailable until your existing call ends"}))):x=y.default.createElement(w.FormattedMessage,{id:"channel_header.webrtc.call",defaultMessage:"Start Video Call"});var M=y.default.createElement(E.Tooltip,{id:"webrtcTooltip"},x);p=y.default.createElement("div",{className:"webrtc__header channel-header__icon wide text "+C},y.default.createElement("button",{className:"style--none",onClick:this.handleWebRTCOnClick,disabled:v||b},y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:j.Constants.WEBRTC_TIME_DELAY,placement:"bottom",overlay:M},y.default.createElement("div",{id:"webrtc-btn",className:"webrtc__button "+C},"WebRTC"))))}}var S=void 0;c||(S=y.default.createElement(se.default,{channel:t}));var k=[];c?k.push(y.default.createElement("li",{key:"edit_header_direct",role:"presentation"},y.default.createElement(Ee.default,{id:"channelEditHeaderDirect",role:"menuitem",modalId:j.ModalIdentifiers.EDIT_CHANNEL_HEADER,dialogType:ne.default,dialogProps:{channel:t}},y.default.createElement(w.FormattedMessage,{id:"channel_header.channelHeader",defaultMessage:"Edit Channel Header"})))):f?(k.push(y.default.createElement("li",{key:"edit_header_direct",role:"presentation"},y.default.createElement(Ee.default,{id:"channelEditHeaderGroup",role:"menuitem",modalId:j.ModalIdentifiers.EDIT_CHANNEL_HEADER,dialogType:ne.default,dialogProps:{channel:t}},y.default.createElement(w.FormattedMessage,{id:"channel_header.channelHeader",defaultMessage:"Edit Channel Header"})))),k.push(y.default.createElement("li",{key:"notification_preferences",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelNotificationsGroup",role:"menuitem",onClick:this.showChannelNotificationsModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.notificationPreferences",defaultMessage:"Notification Preferences"})))),k.push(y.default.createElement("li",{key:"add_members",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelAddMembersGroup",role:"menuitem",onClick:this.openDirectMessageModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.addMembers",defaultMessage:"Add Members"}))))):(k.push(y.default.createElement("li",{key:"view_info",role:"presentation"},y.default.createElement(Ee.default,{id:"channelViewInfo",role:"menuitem",modalId:j.ModalIdentifiers.CHANNEL_INFO,dialogType:$.default,dialogProps:{channel:t}},y.default.createElement(w.FormattedMessage,{id:"channel_header.viewInfo",defaultMessage:"View Info"})))),this.props.isDefault&&k.push(y.default.createElement("li",{key:"manage_members",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelManageMembers",role:"menuitem",onClick:this.showMembersModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.viewMembers",defaultMessage:"View Members"})))),k.push(y.default.createElement("li",{key:"notification_preferences",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelNotificationsGroup",role:"menuitem",onClick:this.showChannelNotificationsModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.notificationPreferences",defaultMessage:"Notification Preferences"})))),this.props.isDefault||(k.push(y.default.createElement("li",{key:"divider-1",className:"divider"})),D.canManageMembers(t,l,u,d)?(k.push(y.default.createElement("li",{key:"add_members",role:"presentation"},y.default.createElement(Ee.default,{id:"channelAddMembers",ref:"channelInviteModalButton",role:"menuitem",modalId:j.ModalIdentifiers.CHANNEL_INVITE,dialogType:Y.default,dialogProps:{channel:t,currentUser:this.props.currentUser}},y.default.createElement(w.FormattedMessage,{id:"channel_header.addMembers",defaultMessage:"Add Members"})))),k.push(y.default.createElement("li",{key:"manage_members",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelManageMembers",role:"menuitem",onClick:this.showMembersModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.manageMembers",defaultMessage:"Manage Members"}))))):k.push(y.default.createElement("li",{key:"view_members",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelViewMembers",role:"menuitem",onClick:this.showMembersModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.viewMembers",defaultMessage:"View Members"}))))),D.showManagementOptions(t,l,u,d)&&(k.push(y.default.createElement("li",{key:"divider-2",className:"divider"})),k.push(y.default.createElement("li",{key:"set_channel_header",role:"presentation"},y.default.createElement(Ee.default,{id:"channelEditHeader",role:"menuitem",modalId:j.ModalIdentifiers.EDIT_CHANNEL_HEADER,dialogType:ne.default,dialogProps:{channel:t}},y.default.createElement(w.FormattedMessage,{id:"channel_header.setHeader",defaultMessage:"Edit Channel Header"})))),k.push(y.default.createElement("li",{key:"set_channel_purpose",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelEditPurpose",role:"menuitem",onClick:this.showEditChannelPurposeModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.setPurpose",defaultMessage:"Edit Channel Purpose"})))),k.push(y.default.createElement("li",{key:"rename_channel",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelRename",role:"menuitem",onClick:this.showRenameChannelModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.rename",defaultMessage:"Rename Channel"}))))),D.showDeleteOptionForCurrentUser(t,l,u,d)&&k.push(y.default.createElement("li",{key:"delete_channel",role:"presentation"},y.default.createElement(Ee.default,{id:"channelDelete",role:"menuitem",modalId:j.ModalIdentifiers.DELETE_CHANNEL,dialogType:te.default,dialogProps:{channel:t}},y.default.createElement(w.FormattedMessage,{id:"channel_header.delete",defaultMessage:"Delete Channel"})))),this.props.isDefault||(k.push(y.default.createElement("li",{key:"divider-3",className:"divider"})),k.push(y.default.createElement("li",{key:"leave_channel",role:"presentation"},y.default.createElement("button",{className:"style--none",id:"channelLeave",role:"menuitem",onClick:this.handleLeave},y.default.createElement(w.FormattedMessage,{id:"channel_header.leave",defaultMessage:"Leave Channel"}))))));var T=void 0,P=void 0;t.type!==j.Constants.DM_CHANNEL||this.props.dmUser.delete_at||(T=y.default.createElement(pe.default,{type:"avatar",status:t.status}),P=y.default.createElement("span",{className:"header-status__text"},y.default.createElement(w.FormattedMessage,{id:"status_dropdown.set_"+t.status,defaultMessage:G.toTitleCase(t.status)})));var N=void 0;if(t.header){var O=void 0,R=B.formatText(t.header,i);O=this.props.enableFormatting?y.default.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description"},T,P,y.default.createElement("span",{onClick:G.handleFormattedTextClick},(0,W.messageHtmlToComponent)(R,!1,{mentions:!1}))):y.default.createElement("div",{id:"channelHeaderDescription",onClick:G.handleFormattedTextClick,className:"channel-header__description light"},T,P,t.header),N=y.default.createElement(E.OverlayTrigger,{trigger:"click",placement:"bottom",rootClose:!0,overlay:o,ref:"headerOverlay"},O)}else{var L=void 0;D.showManagementOptions(t,l,u,d)&&(L=y.default.createElement("button",{className:"style--none",onClick:this.showEditChannelHeaderModal},y.default.createElement(w.FormattedMessage,{id:"channel_header.addChannelHeader",defaultMessage:"Add a channel description"}))),N=y.default.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description light"},T,P,L)}var F=void 0;this.state.showEditChannelHeaderModal&&(F=y.default.createElement(ne.default,{onHide:this.hideEditChannelHeaderModal,channel:t}));var H=void 0;H=this.props.isFavorite?y.default.createElement(E.Tooltip,{id:"favoriteTooltip"},y.default.createElement(w.FormattedMessage,{id:"channelHeader.removeFromFavorites",defaultMessage:"Remove from Favorites"})):y.default.createElement(E.Tooltip,{id:"favoriteTooltip"},y.default.createElement(w.FormattedMessage,{id:"channelHeader.addToFavorites",defaultMessage:"Add to Favorites"}));var z=y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:j.Constants.OVERLAY_TIME_DELAY,placement:"bottom",overlay:H},y.default.createElement("button",{id:"toggleFavorite",onClick:this.toggleFavorite,className:"style--none color--link channel-header__favorites "+(this.props.isFavorite?"active":"inactive")},y.default.createElement("i",{className:"icon fa "+(this.props.isFavorite?"fa-star":"fa-star-o")}))),V=void 0;this.state.showMembersModal&&(V=y.default.createElement(Z.default,{onModalDismissed:this.hideMembersModal,showInviteModal:this.showInviteModal,channel:t}));var K=void 0;this.state.showEditChannelPurposeModal&&(K=y.default.createElement(ie.default,{onModalDismissed:this.hideEditChannelPurposeModal,channel:t}));var X="channel-header__icon";return this.props.rhsState===j.RHSStates.PIN&&(X+=" active"),y.default.createElement("div",{id:"channel-header",className:"channel-header alt"},y.default.createElement("div",{className:"flex-parent"},y.default.createElement("div",{className:"flex-child"},y.default.createElement("div",{id:"channelHeaderInfo",className:"channel-header__info"},z,y.default.createElement("div",{id:"channelHeaderTitle",className:"channel-header__title dropdown"},y.default.createElement("h2",null,y.default.createElement("button",{id:"channelHeaderDropdownButton",className:"dropdown-toggle theme style--none",type:"button","data-toggle":"dropdown","aria-expanded":"true"},y.default.createElement("strong",{id:"channelHeaderTitle",className:"heading"},s),y.default.createElement("span",{id:"channelHeaderDropdownIcon",className:"fa fa-angle-down header-dropdown__icon"})),y.default.createElement("ul",{id:"channelHeaderDropdownMenu",className:"dropdown-menu",role:"menu","aria-labelledby":"channel_header_dropdown"},k))),N)),y.default.createElement("div",{className:"flex-child"},p),y.default.createElement("div",{className:"flex-child"},S),y.default.createElement("div",{className:"flex-child"},y.default.createElement(Ce.default,{pluggableName:"ChannelHeaderButton"})),y.default.createElement("div",{className:"flex-child"},y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:j.Constants.OVERLAY_TIME_DELAY,placement:"bottom",overlay:n},y.default.createElement("button",{id:"channelHeaderPinButton",className:"style--none "+X,onClick:this.getPinnedPosts},y.default.createElement(_e.default,{className:"icon icon__pin","aria-hidden":"true"})))),y.default.createElement("div",{className:"flex-child search-bar__container"},y.default.createElement(ce.default,{showMentionFlagBtns:!1,isFocus:G.isMobile()})),y.default.createElement("div",{className:"flex-child"},y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:j.Constants.OVERLAY_TIME_DELAY,placement:"bottom",overlay:a},y.default.createElement("button",{id:"channelHeaderMentionButton",className:"channel-header__icon icon--hidden style--none",onClick:this.searchMentions},y.default.createElement(ve.default,{className:"icon icon__mentions","aria-hidden":"true"})))),y.default.createElement("div",{className:"flex-child"},y.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],delayShow:j.Constants.OVERLAY_TIME_DELAY,placement:"bottom",overlay:r},y.default.createElement("button",{id:"channelHeaderFlagButton",className:"channel-header__icon icon--hidden style--none",onClick:this.getFlagged},y.default.createElement(me.default,{className:"icon icon__flag"}))))),F,K,V,y.default.createElement(Q.default,{show:this.state.showChannelNotificationsModal,onHide:this.hideChannelNotificationsModal,channel:t,channelMember:this.props.channelMember,currentUser:this.props.currentUser}),y.default.createElement(ue.default,{show:this.state.showRenameChannelModal,onHide:this.hideRenameChannelModal,channel:t}))}}]),a}(y.default.Component);Me.propTypes={channel:b.default.object.isRequired,channelMember:b.default.object.isRequired,teamMember:b.default.object.isRequired,isFavorite:b.default.bool,isDefault:b.default.bool,currentUser:b.default.object.isRequired,dmUser:b.default.object,dmUserStatus:b.default.object,dmUserIsInCall:b.default.bool,enableFormatting:b.default.bool.isRequired,rhsState:b.default.oneOf((0,o.default)(j.RHSStates)),actions:b.default.shape({leaveChannel:b.default.func.isRequired,favoriteChannel:b.default.func.isRequired,unfavoriteChannel:b.default.func.isRequired,showFlaggedPosts:b.default.func.isRequired,showPinnedPosts:b.default.func.isRequired,showMentions:b.default.func.isRequired,closeRightHandSide:b.default.func.isRequired,openModal:b.default.func.isRequired,getCustomEmojisInText:b.default.func.isRequired}).isRequired},Me.defaultProps={dmUser:{},dmUserStatus:{status:j.UserStatuses.OFFLINE}},t.default=Me}).call(t,a(22))},function(e,t,a){(function(e){+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return{end:t[a]};return!1}e.fn.emulateTransitionEnd=function(t){var a=!1,n=this;e(this).one("bsTransitionEnd",function(){a=!0});var r=function(){a||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),r=a.data("bs.alert");r||a.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(a)})}var a='[data-dismiss="alert"]',n=function(t){e(t).on("click",a,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function a(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",a,n.prototype.close)}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),i="object"==typeof t&&t;r||n.data("bs.button",r=new a(this,i)),"toggle"==t?r.toggle():t&&r.setState(t)})}var a=function(t,n){this.$element=e(t),this.options=e.extend({},a.DEFAULTS,n),this.isLoading=!1};a.VERSION="3.3.7",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(t){var a="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();t+="Text",null==i.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==i[t]?this.options[t]:i[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(a).attr(a,a).prop(a,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(a).removeAttr(a).prop(a,!1))},this),0)},a.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var a=this.$element.find("input");"radio"==a.prop("type")?(a.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==a.prop("type")&&(a.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),a.prop("checked",this.$element.hasClass("active")),e&&a.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=a,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var n=e(a.target).closest(".btn");t.call(n,"toggle"),e(a.target).is('input[type="radio"], input[type="checkbox"]')||(a.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),i=e.extend({},a.DEFAULTS,n.data(),"object"==typeof t&&t),o="string"==typeof t?t:i.slide;r||n.data("bs.carousel",r=new a(this,i)),"number"==typeof t?r.to(t):o?r[o]():i.interval&&r.pause().cycle()})}var a=function(t,a){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},a.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},a.prototype.getItemForDirection=function(e,t){var a=this.getItemIndex(t);if(("prev"==e&&0===a||"next"==e&&a==this.$items.length-1)&&!this.options.wrap)return t;var n="prev"==e?-1:1,r=(a+n)%this.$items.length;return this.$items.eq(r)},a.prototype.to=function(e){var t=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",this.$items.eq(e))},a.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){if(!this.sliding)return this.slide("next")},a.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},a.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||this.getItemForDirection(t,r),o=this.interval,s="next"==t?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var u=i[0],d=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(s),i.addClass(s),r.one("bsTransitionEnd",function(){i.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=a,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(a){var n,r=e(this),i=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=e.extend({},i.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),t.call(i,o),s&&i.data("bs.carousel").to(s),a.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var a=e(this);t.call(a,a.data())})})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){var a,n=t.attr("data-target")||(a=t.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function a(t){return this.each(function(){var a=e(this),r=a.data("bs.collapse"),i=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!r&&i.toggle&&/show|hide/.test(t)&&(i.toggle=!1),r||a.data("bs.collapse",r=new n(this,i)),"string"==typeof t&&r[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"))&&t.transitioning)){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){r&&r.length&&(a.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[a](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(a,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var a=e.hasClass("in");e.attr("aria-expanded",a),t.toggleClass("collapsed",!a).attr("aria-expanded",a)};var r=e.fn.collapse;e.fn.collapse=a,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var i=t(r),o=i.data("bs.collapse"),s=o?"toggle":r.data();a.call(i,s)})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){var a=t.attr("data-target");a||(a=t.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var n=a&&e(a);return n&&n.length?n:t.parent()}function a(a){a&&3===a.which||(e(r).remove(),e(i).each(function(){var n=e(this),r=t(n),i={relatedTarget:this};r.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&e.contains(r[0],a.target)||(r.trigger(a=e.Event("hide.bs.dropdown",i)),a.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",i)))))}))}function n(t){return this.each(function(){var a=e(this),n=a.data("bs.dropdown");n||a.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(a)})}var r=".dropdown-backdrop",i='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var i=t(r),o=i.hasClass("open");if(a(),!o){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",a);var s={relatedTarget:this};if(i.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},o.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var n=e(this);if(a.preventDefault(),a.stopPropagation(),!n.is(".disabled, :disabled")){var r=t(n),o=r.hasClass("open");if(!o&&27!=a.which||o&&27==a.which)return 27==a.which&&r.find(i).trigger("focus"),n.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(a.target);38==a.which&&l>0&&l--,40==a.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),i=r.data("bs.modal"),o=e.extend({},a.DEFAULTS,r.data(),"object"==typeof t&&t);i||r.data("bs.modal",i=new a(this,o)),"string"==typeof t?i[t](n):o.show&&i.show(n)})}var a=function(t,a){this.options=a,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(i)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=a,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&a.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(i,o,this)})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),i="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||n.data("bs.tooltip",r=new a(this,i)),"string"==typeof t&&r[t]())})}var a=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(t,a,n){if(this.enabled=!0,this.type=t,this.$element=e(a),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var o=r[i];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},a.prototype.getDelegateOptions=function(){var t={},a=this.getDefaults();return this._options&&e.each(this._options,function(e,n){a[e]!=n&&(t[e]=n)}),t},a.prototype.enter=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a)),t instanceof e.Event&&(a.inState["focusin"==t.type?"focus":"hover"]=!0),a.tip().hasClass("in")||"in"==a.hoverState?void(a.hoverState="in"):(clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)):a.show())},a.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},a.prototype.leave=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(a||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a)),t instanceof e.Event&&(a.inState["focusout"==t.type?"focus":"hover"]=!1),!a.isInStateTrue()){if(clearTimeout(a.timeout),a.hoverState="out",!a.options.delay||!a.options.delay.hide)return a.hide();a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)}},a.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),c=i[0].offsetWidth,f=i[0].offsetHeight;if(u){var p=s,h=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+f>h.bottom?"top":"top"==s&&d.top-f<h.top?"bottom":"right"==s&&d.right+c>h.width?"left":"left"==s&&d.left-c<h.left?"right":s,i.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,d,c,f);this.applyPlacement(m,s);var g=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(a.TRANSITION_DURATION):g()}},a.prototype.applyPlacement=function(t,a){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;"top"==a&&u!=i&&(t.top=t.top+i-u);var d=this.getViewportAdjustedDelta(a,t,l,u);d.left?t.left+=d.left:t.top+=d.top;var c=/top|bottom/.test(a),f=c?2*d.left-r+l:2*d.top-i+u,p=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(f,n[0][p],c)},a.prototype.replaceArrow=function(e,t,a){this.arrow().css(a?"left":"top",50*(1-e/t)+"%").css(a?"top":"left","")},a.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},a.prototype.hide=function(t){function n(){"in"!=r.hoverState&&i.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,i=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n(),this.hoverState=null,this},a.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(t){t=t||this.$element;var a=t[0],n="BODY"==a.tagName,r=a.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=window.SVGElement&&a instanceof window.SVGElement,o=n?{top:0,left:0}:i?null:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,o)},a.prototype.getCalculatedOffset=function(e,t,a,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-a/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-a/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-a}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},a.prototype.getViewportAdjustedDelta=function(e,t,a,n){var r={top:0,left:0};if(!this.$viewport)return r;var i=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-i-o.scroll,l=t.top+i-o.scroll+n;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var u=t.left-i,d=t.left+i+a;u<o.left?r.left=o.left-u:d>o.right&&(r.left=o.left+o.width-d)}return r},a.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},a.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(t){var a=this;t&&((a=e(t.currentTarget).data("bs."+this.type))||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a))),t?(a.inState.click=!a.inState.click,a.isInStateTrue()?a.enter(a):a.leave(a)):a.tip().hasClass("in")?a.leave(a):a.enter(a)},a.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=a,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),i="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||n.data("bs.popover",r=new a(this,i)),"string"==typeof t&&r[t]())})}var a=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.7",a.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),a=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof a?"html":"append":"text"](a),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=a,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(a,n){this.$body=e(document.body),this.$scrollElement=e(e(a).is(document.body)?window:a),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function a(a){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),i="object"==typeof a&&a;r||n.data("bs.scrollspy",r=new t(this,i)),"string"==typeof a&&r[a]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,a="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(a="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),i=/^#./.test(r)&&e(r);return i&&i.length&&i.is(":visible")&&[[i[a]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),n=this.options.offset+a-this.$scrollElement.height(),r=this.offsets,i=this.targets,o=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),t>=n)return o!=(e=i[i.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=i[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(i[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var a=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(a).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=a,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);a.call(t,t.data())})})}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new a(this)),"string"==typeof t&&r[t]()})}var a=function(t){this.element=e(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,a=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=a.find(".active:last a"),i=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),t.trigger(o),!o.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),a),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},a.prototype.activate=function(t,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),s=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=a,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(a){a.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(e)}).call(t,a(167))},function(e,t,a){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),i="object"==typeof t&&t;r||n.data("bs.affix",r=new a(this,i)),"string"==typeof t&&r[t]()})}var a=function(t,n){this.options=e.extend({},a.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.7",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(e,t,a,n){var r=this.$target.scrollTop(),i=this.$element.offset(),o=this.$target.height();if(null!=a&&"top"==this.affixed)return r<a&&"top";if("bottom"==this.affixed)return null!=a?!(r+this.unpin<=i.top)&&"bottom":!(r+o<=e-n)&&"bottom";var s=null==this.affixed,l=s?r:i.top,u=s?o:t;return null!=a&&r<=a?"top":null!=n&&l+u>=e-n&&"bottom"},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},a.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,i=n.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(i=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof i&&(i=n.bottom(this.$element));var s=this.getState(o,t,r,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-t-i})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=a,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this),n=a.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(a,n)})})}(e)}).call(t,a(167))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,f.makeGetProfilesInChannel)();return function(t,a){var n=(0,c.getAllChannelStats)(t)[a.channel.id]||{},r=e(t,a.channel.id,!0);return(0,s.default)({},a,{memberCount:n.member_count,members:r,currentUserId:(0,f.getCurrentUserId)(t)})}}function i(e){return{actions:(0,u.bindActionCreators)({getProfilesInChannel:d.getProfilesInChannel},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(82),c=a(144),f=a(69),p=a(2190),h=n(p);t.default=(0,l.connect)(r,i)(h.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(31),c=n(d),f=a(35),p=n(f),h=a(36),m=n(h),g=a(167),v=n(g),b=a(27),_=n(b),y=a(0),E=n(y),w=a(215),C=a(214),x=a(23),M=a(81),S=a(172),k=a(48),T=n(k),P=a(59),N=n(P),O=a(42),I=n(O),R=a(304),A=a(12),L=n(A),D=a(47),F=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(D),U=a(1225),j=n(U),H=a(1271),B=n(H),q=a(1157),z=n(q),G=a(2191),W=n(G),V=a(2192),$=n(V),K=a(1284),Y=n(K),X=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.hideChannelMembersModal=function(){a.setState({showChannelMembersModal:!1})},a.showChannelInviteModal=function(){a.setState({showChannelInviteModal:!0})},a.hideChannelInviteModal=function(){a.setState({showChannelInviteModal:!1})},a.hideTeamMembersModal=function(){a.setState({showTeamMembersModal:!1})},a.handleGetProfilesInChannel=function(e){a.setState({popoverTarget:e.target,showPopover:!a.state.showPopover}),a.props.actions.getProfilesInChannel(a.props.channel.id,0)},a.getTargetPopover=function(){return a.state.popoverTarget},a.showMembersModal=a.showMembersModal.bind(a),a.handleShowDirectChannel=a.handleShowDirectChannel.bind(a),a.closePopover=a.closePopover.bind(a),a.state={showPopover:!1,showTeamMembersModal:!1,showChannelMembersModal:!1,showChannelInviteModal:!1,teamMembers:I.default.getProfilesUsernameMap(),isSystemAdmin:I.default.isSystemAdminForCurrentUser(),isTeamAdmin:N.default.isTeamAdminForCurrentTeam(),isChannelAdmin:T.default.isChannelAdminForCurrentChannel(),sortedMembers:[]},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidUpdate",value:function(){(0,v.default)(".member-list__popover .popover-content .more-modal__body").perfectScrollbar()}},{key:"componentWillReceiveProps",value:function(e){if(!F.areObjectsEqual(this.props.members,e.members)){var t=this.sortMembers(e.members),a=I.default.getProfilesUsernameMap();this.setState({sortedMembers:t,teamMembers:a})}}},{key:"sortMembers",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=I.default.getStatus(e.id);return(0,i.default)({},e,{status:t})}).sort(F.sortUsersByStatusAndDisplayName)}},{key:"handleShowDirectChannel",value:function(e){var t=this;e.preventDefault();var a=e.currentTarget.getAttribute("data-member-id");a&&(0,S.openDirectChannelToUser)(a,function(e,a){M.browserHistory.push(N.default.getCurrentTeamRelativeUrl()+"/channels/"+e.name),a&&t.closePopover()},function(){t.closePopover()})}},{key:"closePopover",value:function(){this.setState({showPopover:!1})}},{key:"showMembersModal",value:function(e){e.preventDefault(),this.setState({showPopover:!1,showChannelMembersModal:!0})}},{key:"render",value:function(){var e=this,t=void 0,a=[],n=this.state,r=n.sortedMembers,i=n.teamMembers,o=n.isSystemAdmin,s=n.isTeamAdmin,l=n.isChannelAdmin;if(this.props.members&&i&&(r.forEach(function(t,n){var r=void 0;e.props.currentUserId!==t.id&&e.props.channel.type!==L.default.DM_CHANNEl&&(r=E.default.createElement($.default,{className:"icon icon__message","aria-hidden":"true"}));var o="";i[t.username]&&(o=F.displayUsernameForUser(i[t.username])),o&&a.push(E.default.createElement("div",{"data-member-id":t.id,className:"more-modal__row",onClick:e.handleShowDirectChannel,key:"popover-member-"+n},E.default.createElement(z.default,{src:x.Client4.getProfilePictureUrl(t.id,t.last_picture_update),status:t.status,width:"32",height:"32"}),E.default.createElement("div",{className:"more-modal__details"},E.default.createElement("div",{className:"more-modal__name"},o)),E.default.createElement("div",{className:"more-modal__actions"},r)))}),this.props.channel.type!==L.default.GM_CHANNEL)){var u=E.default.createElement(C.FormattedMessage,{id:"members_popover.manageMembers",defaultMessage:"Manage Members"}),d=(0,R.canManageMembers)(this.props.channel,l,s,o),c=T.default.isDefault(this.props.channel);(!1===d&&!1===c||c)&&(u=E.default.createElement(C.FormattedMessage,{id:"members_popover.viewMembers",defaultMessage:"View Members"})),t=E.default.createElement("div",{className:"more-modal__button",key:"popover-member-more"},E.default.createElement("button",{className:"btn btn-link",onClick:this.showMembersModal},u))}var f=this.props.memberCount,p="-";f>0&&(p=f.toString());var h=E.default.createElement(C.FormattedMessage,{id:"members_popover.title",defaultMessage:"Channel Members"}),m=void 0;this.state.showChannelMembersModal&&(m=E.default.createElement(B.default,{onModalDismissed:this.hideChannelMembersModal,showInviteModal:this.showChannelInviteModal,channel:this.props.channel}));var g=void 0;this.state.showTeamMembersModal&&(g=E.default.createElement(Y.default,{onHide:this.hideTeamMembersModal,isAdmin:s||o}));var v=void 0;this.state.showChannelInviteModal&&(v=E.default.createElement(j.default,{onHide:this.hideChannelInviteModal,channel:this.props.channel}));var b=E.default.createElement(w.Tooltip,{id:"channelMembersTooltip"},E.default.createElement(C.FormattedMessage,{id:"channel_header.channelMembers",defaultMessage:"Members"}));return E.default.createElement("div",{id:"channelMember",className:"channel-header__icon wide "+(this.state.showPopover?"active":"")},E.default.createElement(w.OverlayTrigger,{trigger:["hover","focus"],delayShow:L.default.OVERLAY_TIME_DELAY,placement:"bottom",overlay:b},E.default.createElement("div",{id:"member_popover",className:"member-popover__trigger",ref:"member_popover_target",onClick:this.handleGetProfilesInChannel},E.default.createElement("span",{id:"channelMemberCountText",className:"icon__text"},p),E.default.createElement(W.default,{id:"channelMemberIcon",className:"icon icon__members","aria-hidden":"true"}))),E.default.createElement(w.Overlay,{rootClose:!0,onHide:this.closePopover,show:this.state.showPopover,target:this.getTargetPopover,placement:"bottom"},E.default.createElement(w.Popover,{ref:"memebersPopover",className:"member-list__popover",id:"member-list-popover"},E.default.createElement("div",{className:"more-modal__header"},h),E.default.createElement("div",{className:"more-modal__body"},E.default.createElement("div",{className:"more-modal__list"},a)),t)),m,g,v)}}]),t}(E.default.Component);X.propTypes={channel:_.default.object.isRequired,members:_.default.array.isRequired,memberCount:_.default.number,currentUserId:_.default.string.isRequired,actions:_.default.shape({getProfilesInChannel:_.default.func.isRequired}).isRequired},t.default=X},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},m.default.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{id:"Channel-Header/Web-HD",transform:"translate(-725.000000, -32.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",{id:"Channel-Header"},m.default.createElement("g",{id:"user-count",transform:"translate(676.000000, 22.000000)"},m.default.createElement("path",{d:"M64.9481342,24 C64.6981342,20.955 63.2551342,19.076 60.6731342,18.354 C61.4831342,17.466 61.9881342,16.296 61.9881342,15 C61.9881342,12.238 59.7501342,10 56.9881342,10 C54.2261342,10 51.9881342,12.238 51.9881342,15 C51.9881342,16.297 52.4941342,17.467 53.3031342,18.354 C50.7221342,19.076 49.2771342,20.955 49.0271342,24 C49.0161342,24.146 49.0061342,24.577 49.0001342,25.001 C48.9911342,25.553 49.4361342,26 49.9881342,26 L63.9881342,26 C64.5411342,26 64.9851342,25.553 64.9761342,25.001 C64.9701342,24.577 64.9601342,24.146 64.9481342,24 Z M56.9881342,12 C58.6421342,12 59.9881342,13.346 59.9881342,15 C59.9881342,16.654 58.6421342,18 56.9881342,18 C55.3341342,18 53.9881342,16.654 53.9881342,15 C53.9881342,13.346 55.3341342,12 56.9881342,12 Z M51.0321342,24 C51.2981342,21.174 52.7911342,20 55.9881342,20 L57.9881342,20 C61.1851342,20 62.6781342,21.174 62.9441342,24 L51.0321342,24 Z",id:"User_4_x2C__Profile_5-Copy-9"})))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"18px",height:"16px",viewBox:"0 0 18 16"},m.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-200.000000, -174.000000)",fill:"inherit"},m.default.createElement("g",{transform:"translate(200.000000, 174.000000)"},m.default.createElement("path",{d:"M7.2546625,1.42801356 C10.458475,1.42801356 12.999475,3.24528136 12.999475,5.52023729 C12.9895,8.04188475 10.6062625,9.89326102 7.40245,9.89326102 C7.40245,9.89326102 6.9134125,9.91229831 6.4115125,9.83747119 L5.82535,9.79622373 L5.15335,10.3586169 C4.997425,10.5397356 4.3199125,11.1095322 3.736375,11.4794373 C4.0915375,10.4598847 4.07605,10.1370441 4.07605,10.1370441 L4.1251375,9.49004068 L3.55315,9.19549153 C2.0986375,8.44616271 1.4444875,6.88616271 1.4444875,5.52023729 C1.4444875,3.24528136 4.05085,1.42801356 7.2546625,1.42801356 M7.2546625,0.370386441 C3.465475,0.370386441 0.3944875,2.65829831 0.3944875,5.52023729 C0.3944875,7.3028678 1.2623125,9.20342373 3.0751375,10.1370441 C3.0751375,10.1478847 3.07225,10.1560814 3.07225,10.1679797 C3.07225,10.9426915 2.43175,12.0048136 2.1794875,12.4429356 L2.1805375,12.4429356 C2.1605875,12.4902644 2.148775,12.5420881 2.148775,12.5973492 C2.148775,12.8141627 2.322025,12.9881424 2.5375375,12.9881424 C2.5693,12.9881424 2.6210125,12.9815322 2.6393875,12.9815322 C2.6446375,12.9815322 2.6467375,12.9815322 2.6462125,12.9831186 C3.986275,12.762339 5.9642125,11.2435864 6.2576875,10.8837288 C6.5585125,10.928678 6.761425,10.9358169 7.0136875,10.9358169 C7.120525,10.9358169 7.2347125,10.9342305 7.3696375,10.9342305 C11.1583,10.9342305 14.094625,8.75446102 14.049475,5.52023729 C14.049475,2.65829831 11.0435875,0.370386441 7.2546625,0.370386441"}),m.default.createElement("path",{d:"M17.2055125,9.79172881 C17.2055125,8.35811525 16.6498,7.26532203 15.2624875,6.4451322 C15.228625,6.82614237 15.120475,7.23517966 15.0031375,7.59477288 C15.8998375,8.21903729 16.1555125,8.85995932 16.1555125,9.79172881 C16.1555125,10.9323797 15.62815,11.7597085 14.40175,12.3919051 L13.879375,12.653139 C13.879375,12.653139 13.9337125,14.0082237 14.0140375,14.3511593 C12.9895,13.5946915 12.6374875,12.9630237 12.6374875,12.9630237 L12.08545,13.0486915 C11.86705,13.0809492 11.276425,13.0812136 11.276425,13.0812136 C9.85,13.0812136 8.7929125,12.7388068 7.8909625,12.0278169 C8.135875,12.0124814 6.42805,12.0132746 6.3899875,12.0468542 C7.4326375,13.3297559 9.1373125,14.1388407 11.276425,14.1388407 C11.3927125,14.1388407 11.49115,14.1398983 11.58355,14.1398983 C11.801425,14.1398983 11.9773,14.1338169 12.237175,14.095478 C12.491275,14.4058915 13.914025,15.7728746 15.0724375,15.9629831 C15.0719125,15.9619254 15.073225,15.9619254 15.078475,15.9619254 C15.0939625,15.9619254 15.13885,15.967478 15.16615,15.967478 C15.3522625,15.967478 15.5024125,15.8167661 15.5024125,15.6293017 C15.5024125,15.5817085 15.49165,15.5367593 15.47485,15.4960407 L15.4759,15.4960407 C15.258025,15.117939 14.9159875,14.0129831 14.9159875,13.3435051 C14.9159875,13.3331932 14.9128375,13.3260542 14.9128375,13.3168 C16.4797,12.5095661 17.2055125,11.3321627 17.2055125,9.79172881"}))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},m.default.createElement("g",{id:"Symbols",stroke:"inherit",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},m.default.createElement("g",{transform:"translate(-775.000000, -32.000000)",fillRule:"nonzero",fill:"inherit"},m.default.createElement("g",null,m.default.createElement("g",{transform:"translate(764.000000, 22.000000)"},m.default.createElement("g",{transform:"translate(10.000000, 10.000000)"},m.default.createElement("path",{d:"M16.456,7.291 L9.483,0.25 C9.31,0.078 9.178,0 9.08,0 C8.896,0 8.831,0.276 8.831,0.732 L8.831,3.044 L5.831,5.96 L2.578,6.268 C1.887,6.405 1.668,6.917 2.167,7.41 L4.781,10.011 L3.83,10.961 L1.05,15.511 C0.93,15.761 1.03,15.862 1.28,15.74 L5.83,12.961 L6.786,12.005 L9.359,14.565 C9.556,14.76 9.754,14.854 9.929,14.854 C10.197,14.854 10.413,14.634 10.497,14.219 L10.83,10.961 L13.746,7.961 L16.082,7.961 C16.788,7.961 16.955,7.785 16.456,7.291 Z M12.312,6.567 L9.396,9.567 L8.911,10.065 L8.84,10.757 L8.797,11.184 L5.589,7.992 L6.018,7.952 L6.72,7.886 L7.225,7.396 L10.225,4.48 L10.547,4.167 L12.616,6.256 L12.312,6.567 Z"}))))))))}}]),t}(m.default.PureComponent);t.default=g},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2195),o=r(i),s=a(67),l=r(s),u=a(68),d=r(u),c=a(34),f=r(c),p=a(30),h=r(p),m=a(31),g=r(m),v=a(35),b=r(v),_=a(36),y=r(_),E=a(27),w=r(E),C=a(0),x=r(C),M=a(39),S=r(M),k=a(214),T=a(2198),P=a(12),N=r(P),O=a(1206),I=r(O),R=a(470),A=r(R),L=a(2199),D=r(L),F=a(169),U=n(F),j=a(47),H=n(j),B=a(1137),q=r(B),z=a(1274),G=r(z),W=a(1353),V=r(W),$=a(2200),K=r($),Y=a(2201),X=r(Y),Z=a(2211),J=r(Z),Q=10,ee=N.default.POST_CHUNK_SIZE/2,te=function(e){function t(e){var a=this;(0,h.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.initialScroll=function(){var e=n.refs.postlist,t=n.props.posts;if(!n.hasScrolledToNewMessageSeparator&&e&&t){var a=n.refs.newMessageSeparator;a?(a.scrollIntoView(),n.checkBottom()||n.setUnreadsBelow(t,n.props.currentUserId)):(e.scrollTop=e.scrollHeight,n.atBottom=!0),t.length>=ee&&(n.hasScrolledToNewMessageSeparator=!0)}},n.setUnreadsBelow=function(e,t){var a=e.reduce(function(e,a){return a.create_at>n.state.lastViewed&&a.user_id!==t&&a.state!==N.default.POST_DELETED?e+1:e},0);n.setState({unViewedCount:a})},n.handleScrollStop=function(){n.setState({isScrolling:!1})},n.checkBottom=function(){return!n.refs.postlist||(n.refs.postlist.scrollHeight<=n.refs.postlist.clientHeight||n.refs.postlist.clientHeight+n.refs.postlist.scrollTop>=n.refs.postlist.scrollHeight-Q)},n.handleResize=function(e){var t=n.refs.postlist,a=n.refs.newMessageSeparator,r=n.atBottom||e;if(t){if(r)t.scrollTop=t.scrollHeight;else if(!n.hasScrolled&&a){var i=S.default.findDOMNode(a);i.scrollIntoView()}n.previousScrollHeight=t.scrollHeight,n.previousScrollTop=t.scrollTop,n.previousClientHeight=t.clientHeight,n.atBottom=n.checkBottom()}n.props.actions.checkAndSetMobileView()},n.loadPosts=function(){var e=(0,d.default)(l.default.mark(function e(t,r){var i,o,s,u,d,c,f;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=void 0,!r){e.next=16;break}return o=n.props.actions.getPostThread(r,!1),s=n.props.actions.getPostsBefore(t,r,0,ee),u=n.props.actions.getPostsAfter(t,r,0,ee),e.next=7,s;case 7:return d=e.sent,i=d.data,e.next=11,u;case 11:return e.next=13,o;case 13:n.hasScrolledToFocusedPost=!0,e.next=22;break;case 16:return e.next=18,n.props.actions.getPosts(t,0,ee);case 18:c=e.sent,i=c.data,n.checkBottom()||(f=i.order.map(function(e){return i.posts[e]}),n.setUnreadsBelow(f,n.props.currentUserId)),n.hasScrolledToNewMessageSeparator=!0;case 22:n.setState({isDoingInitialLoad:!1}),i&&i.order.length<ee&&n.setState({atEnd:!0});case 24:case"end":return e.stop()}},e,a)}));return function(t,a){return e.apply(this,arguments)}}(),n.loadMorePosts=function(e){e&&e.preventDefault(),n.props.actions.increasePostVisibility(n.props.channel.id,n.props.focusedPostId).then(function(e){n.setState({atEnd:!e&&n.props.posts.length<n.props.postVisibility})})},n.handleScroll=function(){n.hasScrolled=n.hasScrolledToNewMessageSeparator||n.hasScrolledToFocusedPost,n.refs.postlist&&(n.previousScrollTop=n.refs.postlist.scrollTop,n.refs.postlist.scrollHeight===n.previousScrollHeight&&(n.atBottom=n.checkBottom()),n.updateFloatingTimestamp(),n.state.isScrolling||n.setState({isScrolling:!0}),n.checkBottom()&&n.setState({lastViewed:(new Date).getTime(),unViewedCount:0,isScrolling:!1}),n.scrollStopAction.fireAfter(N.default.SCROLL_DELAY))},n.updateFloatingTimestamp=function(){if(H.isMobile()&&n.props.posts)for(var e=0;e<n.props.posts.length;e++){var t=n.props.posts[e],a=n.refs[t.id];if(!a||!a.domNode||a.domNode.offsetTop+a.domNode.clientHeight<=n.refs.postlist.scrollTop){var r=void 0;r=e>0?n.props.posts[e-1]:t,n.state.topPost&&r.id===n.state.topPost.id||n.setState({topPost:r});break}}},n.scrollToBottom=function(){n.refs.postlist&&(n.refs.postlist.scrollTop=n.refs.postlist.scrollHeight)},n.createPosts=function(e){for(var t=[],a=new Date(0),r=n.props.currentUserId,i=n.props.lastViewedAt||0,o=!1,s=e.length-1;s>=0;s--){var l=e[s];if(null!=l&&l.type!==P.PostTypes.EPHEMERAL_ADD_TO_CHANNEL){var u=x.default.createElement(X.default,{ref:l.id,key:"post "+(l.id||l.pending_post_id),post:l,lastPostCount:s>=0&&s<N.default.TEST_ID_COUNT?s:-1,getPostList:n.getPostList}),d=H.getDateForUnixTicks(l.create_at);if(d.toDateString()!==a.toDateString()&&t.push(x.default.createElement(G.default,{key:d,date:d})),l.user_id!==r&&0!==i&&l.create_at>i&&!H.isPostEphemeral(l)&&!o){o=!0;var c="";U.isInternetExplorer()||(c="new_message_"+l.id),t.push(x.default.createElement("div",{id:c,key:"unviewed",ref:"newMessageSeparator",className:"new-separator"},x.default.createElement("hr",{className:"separator__hr"}),x.default.createElement("div",{className:"separator__text"},x.default.createElement(k.FormattedMessage,{id:"posts_view.newMsg",defaultMessage:"New Messages"}))))}t.push(u),a=d}}return t},n.getPostList=function(){return n.refs.postlist},n.scrollStopAction=new I.default(n.handleScrollStop),n.previousScrollTop=o.default,n.previousScrollHeight=0,n.previousClientHeight=0,n.atBottom=!1,n.state={atEnd:!1,unViewedCount:0,isDoingInitialLoad:!0,isScrolling:!1,lastViewed:e.lastViewedAt},n}return(0,y.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.loadPosts(this.props.channel.id,this.props.focusedPostId),this.props.actions.checkAndSetMobileView(),D.default.addListener(A.default.POST_LIST_SCROLL_CHANGE,this.handleResize),window.addEventListener("resize",this.handleResize),this.initialScroll()}},{key:"componentWillUnmount",value:function(){D.default.removeListener(A.default.POST_LIST_SCROLL_CHANGE,this.handleResize),window.removeEventListener("resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(e){if(e.focusedPostId&&this.props.focusedPostId!==e.focusedPostId)return this.hasScrolledToFocusedPost=!1,this.hasScrolledToNewMessageSeparator=!1,this.setState({atEnd:!1,isDoingInitialLoad:!e.posts}),void this.loadPosts(e.channel.id,e.focusedPostId);var t=this.props.channel||{},a=e.channel||{};null==e.focusedPostId&&t.id!==a.id&&(this.hasScrolled=!1,this.hasScrolledToFocusedPost=!1,this.hasScrolledToNewMessageSeparator=!1,this.atBottom=!1,this.setState({atEnd:!1,lastViewed:e.lastViewedAt,isDoingInitialLoad:!e.posts,unViewedCount:0}),a.id&&this.loadPosts(a.id))}},{key:"componentWillUpdate",value:function(){this.refs.postlist&&(this.previousScrollTop=this.refs.postlist.scrollTop,this.previousScrollHeight=this.refs.postlist.scrollHeight,this.previousClientHeight=this.refs.postlist.clientHeight)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.posts!==e.posts||this.props.postVisibility!==e.postVisibility||this.state.atEnd!==t.atEnd){var a=e.posts||[],n=this.props.posts||[];if(null==this.props.focusedPostId){var r=0===a.length&&n.length>0||a.length>0&&n.length>0&&a[0].id!==n[0].id;!this.checkBottom()&&r&&this.setUnreadsBelow(n,this.props.currentUserId)}var i=this.refs.postlist;if(i){this.initialScroll();var o=this.refs[this.props.focusedPostId];if(o&&this.props.posts)if(this.hasScrolledToFocusedPost)this.previousScrollHeight!==i.scrollHeight&&n[0].id===a[0].id&&(i.scrollTop=this.previousScrollTop+(i.scrollHeight-this.previousScrollHeight));else{var s=S.default.findDOMNode(o),l=s.getBoundingClientRect(),u=i.clientHeight/2;i.scrollTop+=l.top-u}else if(i&&a&&n&&n[0]&&a[0]){var d=!1,c=n[0].id,f=a[0].id,p=n[0].pending_post_id;if(c!==f&&p!==f&&(this.atBottom&&(d=!0),H.isPostEphemeral(n[0])&&(d=!0)),d)return this.atBottom=!0,void(i.scrollTop=i.scrollHeight);this.previousScrollHeight!==i.scrollHeight&&n[0].id===a[0].id&&(i.scrollTop=this.previousScrollTop+(i.scrollHeight-this.previousScrollHeight))}}}}},{key:"render",value:function(){var e=this.props.posts||[],t=this.props.channel;if(0===e.length&&this.state.isDoingInitialLoad||null==t)return x.default.createElement("div",{id:"post-list"},x.default.createElement(q.default,{position:"absolute",key:"loading"}));var a=void 0;a=this.state.atEnd?(0,T.createChannelIntroMessage)(t,this.props.fullWidth):this.props.postVisibility>=N.default.MAX_POST_VISIBILITY?x.default.createElement("div",{className:"post-list__loading post-list__loading-search"},x.default.createElement(k.FormattedMessage,{id:"posts_view.maxLoaded",defaultMessage:"Looking for a specific message? Try searching for it"})):this.state.isDoingInitialLoad?x.default.createElement(q.default,{style:{height:"0px"}}):x.default.createElement("button",{ref:"loadmoretop",className:"more-messages-text theme style--none color--link",onClick:this.loadMorePosts},x.default.createElement(k.FormattedMessage,{id:"posts_view.loadMore",defaultMessage:"Load more messages"}));var n=this.state.topPost?this.state.topPost.create_at:0,r=this.props.postVisibility;return this.props.focusedPostId&&(r+=N.default.POST_CHUNK_SIZE/2),x.default.createElement("div",{id:"post-list"},x.default.createElement(V.default,{isScrolling:this.state.isScrolling,isMobile:H.isMobile(),createAt:n}),x.default.createElement(J.default,{isScrolling:this.state.isScrolling,atBottom:this.atBottom,onClick:this.scrollToBottom}),x.default.createElement(K.default,{newMessages:this.state.unViewedCount,onClick:this.scrollToBottom}),x.default.createElement("div",{ref:"postlist",className:"post-list-holder-by-time",key:"postlist-"+t.id,onScroll:this.handleScroll},x.default.createElement("div",{className:"post-list__table"},x.default.createElement("div",{id:"postListContent",ref:"postlistcontent",className:"post-list__content"},a,this.createPosts(e.slice(0,r))))))}}]),t}(x.default.PureComponent);te.propTypes={posts:w.default.array,postVisibility:w.default.number,channel:w.default.object.isRequired,lastViewedAt:w.default.number,loadingPosts:w.default.bool,currentUserId:w.default.string,focusedPostId:w.default.string,fullWidth:w.default.bool,actions:w.default.shape({getPosts:w.default.func.isRequired,getPostsBefore:w.default.func.isRequired,getPostsAfter:w.default.func.isRequired,getPostThread:w.default.func.isRequired,increasePostVisibility:w.default.func.isRequired,checkAndSetMobileView:w.default.func.isRequired}).isRequired},t.default=te},function(e,t,a){e.exports={default:a(2196),__esModule:!0}},function(e,t,a){a(2197),e.exports=9007199254740991},function(e,t,a){var n=a(29);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a="";return t||(a="channel-intro--centered"),e.type===k.default.DM_CHANNEL?s(e,a):e.type===k.default.GM_CHANNEL?o(e,a):E.default.isDefault(e)?u(e,a):e.name===k.default.OFFTOPIC_CHANNEL?l(e,a):e.type===k.default.OPEN_CHANNEL||e.type===k.default.PRIVATE_CHANNEL?d(e,a):null}function o(e,t){var a=M.default.getProfileListInChannel(e.id,!0);if(a.length>0){for(var n=[],r="",i=0;i<a.length;i++){var o=a[i];n.push(g.default.createElement(R.default,{key:"introprofilepicture"+o.id,src:H.imageURLForUser(o),width:"50",height:"50",user:o})),i===a.length-1?r+=H.displayUsernameForUser(o):i===a.length-2?r+=H.displayUsernameForUser(o)+" and ":r+=H.displayUsernameForUser(o)+", "}return g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+t},g.default.createElement("div",{className:"post-profile-img__container channel-intro-img"},n),g.default.createElement("p",{className:"channel-intro-text"},g.default.createElement(v.FormattedHTMLMessage,{id:"intro_messages.GM",defaultMessage:"This is the start of your group message history with {names}.<br />Messages and files shared here are not shown to people outside this area.",values:{names:r}})),f(e))}return g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+t},g.default.createElement("p",{className:"channel-intro-text"},g.default.createElement(v.FormattedMessage,{id:"intro_messages.group_message",defaultMessage:"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area."})))}function s(e,t){var a=H.getDirectTeammate(e.id);if(a){var n=a.username;return a.nickname.length>0&&(n=a.nickname),g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+t},g.default.createElement("div",{className:"post-profile-img__container channel-intro-img"},g.default.createElement(R.default,{src:H.imageURLForUser(a),width:"50",height:"50",user:a,hasMention:!0})),g.default.createElement("div",{className:"channel-intro-profile"},g.default.createElement("strong",null,g.default.createElement(F.default,{user:a,disablePopover:!1,hasMention:!0}))),g.default.createElement("p",{className:"channel-intro-text"},g.default.createElement(v.FormattedHTMLMessage,{id:"intro_messages.DM",defaultMessage:"This is the start of your direct message history with {teammate}.<br />Direct messages and files shared here are not shown to people outside this area.",values:{teammate:n}})),f(e))}return g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+t},g.default.createElement("p",{className:"channel-intro-text"},g.default.createElement(v.FormattedMessage,{id:"intro_messages.teammate",defaultMessage:"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area."})))}function l(t,a){var n=g.default.createElement(v.FormattedMessage,{id:"intro_messages.channel",defaultMessage:"channel"}),r=f(t);p(t)||(r=null);var i=c(t,n);return t.type!==k.default.PRIVATE_CHANNEL||h(e.window.mm_config.RestrictPrivateChannelManageMembers)||(i=null),g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+a},g.default.createElement(v.FormattedHTMLMessage,{id:"intro_messages.offTopic",defaultMessage:'<h4 class="channel-intro__title">Beginning of {display_name}</h4><p class="channel-intro__content">This is the start of {display_name}, a channel for non-work-related conversations.<br/></p>',values:{display_name:t.display_name}}),i,r)}function u(t,a){var n=null;h(e.window.mm_config.RestrictTeamInvite)&&(n=g.default.createElement("span",{className:"intro-links color--link cursor--pointer",onClick:_.showGetTeamInviteLinkModal},g.default.createElement("i",{className:"fa fa-user-plus"}),g.default.createElement(v.FormattedMessage,{id:"intro_messages.inviteOthers",defaultMessage:"Invite others to this team"})));var r=f(t);return p(t)||(r=null),g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+a},g.default.createElement(v.FormattedHTMLMessage,{id:"intro_messages.default",defaultMessage:"<h4 class='channel-intro__title'>Beginning of {display_name}</h4><p class='channel-intro__content'><strong>Welcome to {display_name}!</strong><br/><br/>This is the first channel teammates see when they sign up - use it for posting updates everyone needs to know.</p>",values:{display_name:t.display_name}}),n,r,g.default.createElement("br",null))}function d(t,a){var n,r,i=t.display_name,o=H.displayUsername(t.creator_id);t.type===k.default.PRIVATE_CHANNEL?(n=g.default.createElement(v.FormattedMessage,{id:"intro_messages.group",defaultMessage:"private channel"}),r=g.default.createElement(v.FormattedMessage,{id:"intro_messages.onlyInvited",defaultMessage:" Only invited members can see this private channel."})):(n=g.default.createElement(v.FormattedMessage,{id:"intro_messages.channel",defaultMessage:"channel"}),r=g.default.createElement(v.FormattedMessage,{id:"intro_messages.anyMember",defaultMessage:" Any member can join and read this channel."}));var s,l=g.default.createElement(v.FormattedDate,{value:t.create_at,month:"long",day:"2-digit",year:"numeric"});s=""===o?g.default.createElement(v.FormattedMessage,{id:"intro_messages.noCreator",defaultMessage:"This is the start of the {name} {type}, created on {date}.",values:{name:i,type:n,date:l}}):g.default.createElement("span",null,g.default.createElement(v.FormattedMessage,{id:"intro_messages.creator",defaultMessage:"This is the start of the {name} {type}, created by {creator} on {date}.",values:{name:i,type:n,creator:o,date:l}}));var u="";t.purpose&&""!==t.purpose&&(u=g.default.createElement("span",null,g.default.createElement(v.FormattedMessage,{id:"intro_messages.purpose",defaultMessage:" This {type}'s purpose is: {purpose}",values:{purpose:t.purpose,type:n}})));var d=f(t);p(t)||(d=null);var m=c(t,n);return t.type!==k.default.PRIVATE_CHANNEL||h(e.window.mm_config.RestrictPrivateChannelManageMembers)||(m=null),g.default.createElement("div",{id:"channelIntro",className:"channel-intro "+a},g.default.createElement("h4",{className:"channel-intro__title"},g.default.createElement(v.FormattedMessage,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:i}})),g.default.createElement("p",{className:"channel-intro__content"},s,r,u,g.default.createElement("br",null)),m,d)}function c(e,t){return g.default.createElement(L.default,{className:"intro-links color--link",dialogType:P.default,dialogProps:{channel:e}},g.default.createElement("i",{className:"fa fa-user-plus"}),g.default.createElement(v.FormattedMessage,{id:"intro_messages.invite",defaultMessage:"Invite others to this {type}",values:{type:t}}))}function f(e){return g.default.createElement(L.default,{className:"intro-links color--link",dialogType:O.default,dialogProps:{channel:e}},g.default.createElement("i",{className:"fa fa-pencil"}),g.default.createElement(v.FormattedMessage,{id:"intro_messages.setHeader",defaultMessage:"Set a Header"}))}function p(e){var t=E.default.isChannelAdminForCurrentChannel(),a=C.default.isTeamAdminForCurrentTeam(),n=M.default.isSystemAdminForCurrentUser();return!!(0,U.showManagementOptions)(e,t,a,n)}function h(t){if("true"!==e.window.mm_license.IsLicensed)return!0;var a=E.default.isChannelAdminForCurrentChannel(),n=C.default.isTeamAdminForCurrentTeam(),r=M.default.isSystemAdminForCurrentUser();return!(t===k.default.PERMISSIONS_SYSTEM_ADMIN&&!r||t===k.default.PERMISSIONS_TEAM_ADMIN&&!n&&!r||t===k.default.PERMISSIONS_CHANNEL_ADMIN&&!(a||n||r))}Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelIntroMessage=i,t.createGMIntroMessage=o,t.createDMIntroMessage=s,t.createOffTopicIntroMessage=l,t.createDefaultIntroMessage=u,t.createStandardIntroMessage=d;var m=a(0),g=r(m),v=a(214),b=a(142),_=n(b),y=a(48),E=r(y),w=a(59),C=r(w),x=a(42),M=r(x),S=a(12),k=r(S),T=a(1225),P=r(T),N=a(1267),O=r(N),I=a(1157),R=r(I),A=a(1226),L=r(A),D=a(1208),F=r(D),U=a(304),j=a(47),H=n(j)}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(459),i=n(r),o=a(34),s=n(o),l=a(30),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(60),m=n(h),g=a(49),v=n(g),b=a(470),_=n(b),y=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.handleEventPayload=function(t){var a=t.action,n=a.type,r=a.value,o=(0,i.default)(a,["type","value"]);switch(n){case _.default.POST_LIST_SCROLL_CHANGE:e.emit(n,r,o)}},e.dispatchToken=v.default.register(e.handleEventPayload),e}return(0,p.default)(t,e),t}(m.default),E=new y;t.default=E},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(1439),y=n(_),E=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.state={visible:!1,rendered:!1},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.newMessages>0?this.setState({rendered:!0},function(){t.setState({visible:!0})}):this.setState({visible:!1})}},{key:"render",value:function(){var e="new-messages__button";return this.state.visible&&(e+=" visible"),this.state.rendered||(e+=" disabled"),v.default.createElement("div",{className:e,onTransitionEnd:this.setRendered.bind(this),ref:"indicator"},v.default.createElement("div",{onClick:this.props.onClick},v.default.createElement(b.FormattedMessage,{id:"posts_view.newMsgBelow",defaultMessage:"New {count, plural, one {message} other {messages}}",values:{count:this.props.newMessages}}),v.default.createElement(y.default,{className:"icon icon__unread"})))}},{key:"setRendered",value:function(){this.setState({rendered:this.state.visible})}}]),t}(v.default.PureComponent);E.propTypes={onClick:m.default.func.isRequired,newMessages:m.default.number},E.defaultProps={newMessages:0},t.default=E},function(e,t,a){"use strict";function n(e,t){var a=t.post||{};return{post:(0,i.getPost)(e,a.id),lastPostCount:t.lastPostCount,user:(0,s.getUser)(e,a.user_id),status:(0,s.getStatusForUserId)(e,a.user_id),currentUser:(0,s.getCurrentUser)(e),isFirstReply:Boolean(a.isFirstReply&&a.commentedOnPost),highlight:a.highlight,consecutivePostByUser:a.consecutivePostByUser,previousPostIsComment:a.previousPostIsComment,replyCount:a.replyCount,isCommentMention:a.isCommentMention,center:(0,o.get)(e,l.Preferences.CATEGORY_DISPLAY_SETTINGS,l.Preferences.CHANNEL_DISPLAY_MODE,l.Preferences.CHANNEL_DISPLAY_MODE_DEFAULT)===l.Preferences.CHANNEL_DISPLAY_MODE_CENTERED,compactDisplay:(0,o.get)(e,l.Preferences.CATEGORY_DISPLAY_SETTINGS,l.Preferences.MESSAGE_DISPLAY,l.Preferences.MESSAGE_DISPLAY_DEFAULT)===l.Preferences.MESSAGE_DISPLAY_COMPACT}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(145),o=a(89),s=a(69),l=a(12),u=a(2202),d=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=(0,r.connect)(n)(d.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(18),y=a(49),E=r(y),w=a(12),C=a(460),x=n(C),M=a(47),S=n(M),k=a(2203),T=r(k),P=a(2207),N=r(P),O=a(1157),I=r(O),R=a(1236),A=r(R),L=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return D.call(a),a.state={dropdownOpened:!1,hover:!1,sameRoot:a.hasSameRoot(e)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({sameRoot:this.hasSameRoot(e)})}},{key:"render",value:function(){var e=this.props.post||{},t=x.isSystemMessage(e),a=e&&e.props&&"true"===e.props.from_webhook,n=this.props.status;a&&(n=null);var r=void 0,i=this.state.sameRoot&&this.props.consecutivePostByUser&&!e.root_id&&0===this.props.replyCount;i||(r=b.default.createElement(I.default,{src:x.getProfilePicSrcForPost(e,this.props.user),status:n,user:this.props.user,isBusy:this.props.isBusy,hasMention:!0}),a?r=b.default.createElement(I.default,{src:x.getProfilePicSrcForPost(e,this.props.user)}):x.isSystemMessage(e)&&(r=b.default.createElement(A.default,{className:"icon"})),this.props.compactDisplay&&(r=a?b.default.createElement(I.default,{src:"",status:n,isBusy:this.props.isBusy,user:this.props.user}):b.default.createElement(I.default,{src:"",status:n})));var o=b.default.createElement("div",{className:"post__img"},r),s="";return this.props.center&&(s="center"),b.default.createElement("div",{ref:this.getRef,onMouseOver:this.setHover,onMouseLeave:this.unsetHover},b.default.createElement("div",{id:"post_"+e.id,className:this.getClassName(e,t,a)},b.default.createElement("div",{className:"post__content "+s},o,b.default.createElement("div",null,b.default.createElement(N.default,{post:e,handleCommentClick:this.handleCommentClick,handleDropdownOpened:this.handleDropdownOpened,user:this.props.user,currentUser:this.props.currentUser,compactDisplay:this.props.compactDisplay,status:this.props.status,isBusy:this.props.isBusy,lastPostCount:this.props.lastPostCount,isFirstReply:this.props.isFirstReply,replyCount:this.props.replyCount,showTimeWithoutHover:!i,getPostList:this.props.getPostList,hover:this.state.hover}),b.default.createElement(T.default,{post:e,handleCommentClick:this.handleCommentClick,compactDisplay:this.props.compactDisplay,lastPostCount:this.props.lastPostCount,isCommentMention:this.props.isCommentMention,isFirstReply:this.props.isFirstReply})))))}}]),t}(b.default.PureComponent);L.propTypes={post:g.default.object.isRequired,user:g.default.object,status:g.default.string,currentUser:g.default.object.isRequired,center:g.default.bool,compactDisplay:g.default.bool,isFirstReply:g.default.bool,highlight:g.default.bool,consecutivePostByUser:g.default.bool,previousPostIsComment:g.default.bool,isCommentMention:g.default.bool,replyCount:g.default.number,isBusy:g.default.bool,lastPostCount:g.default.number,getPostList:g.default.func.isRequired};var D=function(){var e=this;this.handleCommentClick=function(t){t.preventDefault();var a=e.props.post;a&&E.default.handleServerAction({type:w.ActionTypes.RECEIVED_POST_SELECTED,postId:S.getRootId(a),channelId:a.channel_id})},this.handleDropdownOpened=function(t){e.setState({dropdownOpened:t})},this.hasSameRoot=function(e){var t=e.post;return!e.isFirstReply&&(!(t.root_id||e.previousPostIsComment||!e.consecutivePostByUser)||!!t.root_id)},this.getClassName=function(t,a,n){var r="post";(t.failed||t.state===_.Posts.POST_DELETED)&&(r+=" post--hide-controls"),e.props.highlight&&(r+=" post--highlight");var i="";i=e.state.sameRoot?"same--root":"other--root";var o="";e.props.currentUser.id!==t.user_id||n||a||(o="current--user");var s="";e.props.consecutivePostByUser&&(s="same--user");var l="";return t.root_id&&t.root_id.length>0?l="post--comment":e.props.replyCount>0&&(l="post--root",s="",i=""),a&&(r+=" post--system",s="",o="",l="",i=""),e.props.compactDisplay&&(r+=" post--compact"),e.state.dropdownOpened&&(r+=" post--hovered"),t.is_pinned&&(r+=" post--pinned"),r+" "+s+" "+i+" "+l+" "+o},this.getRef=function(t){e.domNode=t},this.setHover=function(){e.setState({hover:!0})},this.unsetHover=function(){e.setState({hover:!1})}};t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=void 0,n=void 0,r=(0,u.get)(e,f.Preferences.CATEGORY_DISPLAY_SETTINGS,f.Preferences.COLLAPSE_DISPLAY,f.Preferences.COLLAPSE_DISPLAY_DEFAULT),i=(0,c.makeGetGlobalItem)(f.StoragePrefixes.EMBED_VISIBLE+t.post.id,r.startsWith("false"))(e);return t.post.root_id&&(a=(0,l.getPost)(e,t.post.root_id),n=a?(0,d.getUser)(e,a.user_id):null),(0,o.default)({},t,{parentPost:a,parentPostUser:n,pluginPostTypes:e.plugins.postTypes,previewCollapsed:r,previewEnabled:(0,u.getBool)(e,f.Preferences.CATEGORY_DISPLAY_SETTINGS,f.Preferences.LINK_PREVIEW_DISPLAY,!0),isEmbedVisible:i})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(145),u=a(89),d=a(69),c=a(314),f=a(12),p=a(2204),h=n(p);t.default=(0,s.connect)(r)(h.default)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(18),E=a(171),w=n(E),C=a(460),x=n(C),M=a(47),S=n(M),k=a(1206),T=r(k),P=a(1228),N=r(P),O=a(2205),I=r(O),R=a(1365),A=r(R),L=a(1231),D=r(L),F=a(1234),U=r(F),j=a(1281),H=r(j),B=a(1170),q=r(B),z=function(t){function a(e){(0,l.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.sendingAction=new T.default(function(){var e=t.props.post;e&&e.id===e.pending_post_id&&t.setState({sending:!0})}),t.state={sending:!1},t}return(0,h.default)(a,t),(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.post;e&&e.id===e.pending_post_id&&this.sendingAction.fireAfter(3e3)}},{key:"componentWillUnmount",value:function(){this.sendingAction.cancel()}},{key:"componentWillReceiveProps",value:function(e){var t=e.post;t&&t.id!==t.pending_post_id&&(this.sendingAction.cancel(),this.setState({sending:!1}))}},{key:"render",value:function(){var t=this.props.post,a=this.props.parentPost,n="",r="",i=S.isPostEphemeral(t);if(this.props.isFirstReply&&a&&!i){var o=this.props.parentPostUser,s="",l="...";if(null!=o){var u=S.displayUsernameForUser(o);a.props&&a.props.from_webhook&&a.props.override_username&&"true"===e.window.mm_config.EnablePostUsernameOverride&&(u=a.props.override_username),s="s"===u.slice(-1)?"'":"'s",l=b.default.createElement("a",{className:"theme",onClick:w.searchForTerm.bind(null,u)},u)}var d="";a.message?d=S.replaceHtmlEntities(a.message):a.file_ids&&a.file_ids.length>0&&(d=b.default.createElement(I.default,{parentPostId:a.id})),n=b.default.createElement("div",{className:"post__link"},b.default.createElement("span",null,b.default.createElement(_.FormattedMessage,{id:"post_body.commentedOn",defaultMessage:"Commented on {name}{apostrophe} message: ",values:{name:l,apostrophe:s}}),b.default.createElement("a",{className:"theme",onClick:this.props.handleCommentClick},d)))}var c=void 0;this.props.post.failed&&(r+=" post--fail",c=b.default.createElement(A.default,{post:this.props.post})),x.isEdited(this.props.post)&&(r+=" post--edited");var f=null;(t.file_ids&&t.file_ids.length>0||t.filenames&&t.filenames.length>0)&&this.props.post.state!==y.Posts.POST_DELETED&&(f=b.default.createElement(N.default,{post:t,compactDisplay:this.props.compactDisplay}));var p=void 0;this.state.sending&&(p=b.default.createElement("img",{className:"post-loading-gif pull-right",src:q.default}),r+=" post-waiting");var h=b.default.createElement("div",{key:t.id+"_message",id:t.id+"_message",className:r},c,p,b.default.createElement(U.default,{lastPostCount:this.props.lastPostCount,post:this.props.post,compactDisplay:this.props.compactDisplay,hasMention:!0})),m=t.type&&this.props.pluginPostTypes.hasOwnProperty(t.type),g=void 0;g=this.props.post.state===y.Posts.POST_DELETED||m?h:b.default.createElement(D.default,{post:this.props.post,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible},h);var v="";this.props.isCommentMention&&(v="mention-comment");var E="";return i&&(E="post--ephemeral"),b.default.createElement("div",null,n,b.default.createElement("div",{className:"post__body "+v+" "+E},g,f,b.default.createElement(H.default,{post:t})))}}]),a}(b.default.PureComponent);z.propTypes={post:g.default.object.isRequired,parentPost:g.default.object,parentPostUser:g.default.object,handleCommentClick:g.default.func.isRequired,compactDisplay:g.default.bool,isCommentMention:g.default.bool,isFirstReply:g.default.bool,previewCollapsed:g.default.string,previewEnabled:g.default.bool,lastPostCount:g.default.number,pluginPostTypes:g.default.object,isEmbedVisible:g.default.bool},t.default=z}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(0,c.makeGetFilesForPost)();return function(t,a){var n=void 0;return a.parentPostId&&(n=e(t,a.parentPostId)),(0,s.default)({},a,{fileInfos:n})}}function i(e){return{actions:(0,u.bindActionCreators)({getFilesForPost:d.getFilesForPost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(1265),c=a(1266),f=a(2206),p=n(f);t.default=(0,l.connect)(r,i)(p.default)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.fileInfos&&0!==this.props.fileInfos.length||this.props.actions.getFilesForPost(this.props.parentPostId)}},{key:"render",value:function(){if(!this.props.fileInfos||0===this.props.fileInfos.length)return null;var e=null;return this.props.fileInfos.length>1&&(e=v.default.createElement(b.FormattedMessage,{id:"post_body.plusMore",defaultMessage:" plus {count, number} other {count, plural, one {file} other {files}}",values:{count:this.props.fileInfos.length-1}})),v.default.createElement("span",null,this.props.fileInfos[0].name,e)}}]),t}(v.default.PureComponent);_.propTypes={parentPostId:m.default.string.isRequired,fileInfos:m.default.arrayOf(m.default.object),actions:m.default.shape({getFilesForPost:m.default.func.isRequired}).isRequired},t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)({},t,{displayNameType:(0,u.get)(e,l.Preferences.CATEGORY_DISPLAY_SETTINGS,"name_format","false")})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(28),o=n(i),s=a(141),l=a(18),u=a(89),d=a(2208),c=n(d);t.default=(0,s.connect)(r)(c.default)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(12),y=n(_),E=a(460),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),C=a(2209),x=n(C),M=a(1208),S=n(M),k=function(t){function a(e){(0,s.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.state={},t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"render",value:function(){var t=this.props.post,a=w.isSystemMessage(t),n=v.default.createElement(S.default,{user:this.props.user,displayNameType:this.props.displayNameType,status:this.props.status,isBusy:this.props.isBusy,hasMention:!0}),r=void 0,i=void 0;return t.props&&t.props.from_webhook?(n=t.props.override_username&&"true"===e.window.mm_config.EnablePostUsernameOverride?v.default.createElement(S.default,{user:this.props.user,overwriteName:t.props.override_username,disablePopover:!0}):v.default.createElement(S.default,{user:this.props.user,displayNameType:this.props.displayNameType,disablePopover:!0}),r=v.default.createElement("div",{className:"bot-indicator"},y.default.BOT_NAME)):a&&(n=v.default.createElement(S.default,{user:{},overwriteName:v.default.createElement(b.FormattedMessage,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:y.default.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0})),this.props.compactDisplay&&(i=v.default.createElement("strong",{className:"colon"},":")),v.default.createElement("div",{className:"post__header"},v.default.createElement("div",{className:"col col__name"},n,i),r,v.default.createElement("div",{className:"col"},v.default.createElement(x.default,{post:t,handleCommentClick:this.props.handleCommentClick,handleDropdownOpened:this.props.handleDropdownOpened,compactDisplay:this.props.compactDisplay,lastPostCount:this.props.lastPostCount,replyCount:this.props.replyCount,isFirstReply:this.props.isFirstReply,showTimeWithoutHover:this.props.showTimeWithoutHover,getPostList:this.props.getPostList,hover:this.props.hover})))}}]),a}(v.default.PureComponent);k.propTypes={post:m.default.object.isRequired,user:m.default.object,handleCommentClick:m.default.func.isRequired,handleDropdownOpened:m.default.func.isRequired,compactDisplay:m.default.bool,displayNameType:m.default.string,status:m.default.string,isBusy:m.default.bool,replyCount:m.default.number,isFirstReply:m.default.bool,lastPostCount:m.default.number,getPostList:m.default.func.isRequired,hover:m.default.bool.isRequired,showTimeWithoutHover:m.default.bool},t.default=k}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{useMilitaryTime:(0,c.getBool)(e,f.Preferences.CATEGORY_DISPLAY_SETTINGS,f.Preferences.USE_MILITARY_TIME,!1),isFlagged:null!=(0,c.get)(e,f.Preferences.CATEGORY_FLAGGED_POST,t.post.id,null),isMobile:e.views.channel.mobileView})}function i(e){return{actions:(0,u.bindActionCreators)({removePost:d.removePost,addReaction:d.addReaction},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(28),s=n(o),l=a(141),u=a(11),d=a(146),c=a(89),f=a(12),p=a(2210),h=n(p);t.default=(0,l.connect)(r,i)(h.default)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=r(i),s=a(30),l=r(s),u=a(31),d=r(u),c=a(35),f=r(c),p=a(36),h=r(p),m=a(27),g=r(m),v=a(0),b=r(v),_=a(214),y=a(18),E=a(220),w=n(E),C=a(171),x=a(12),M=r(x),S=a(460),k=n(S),T=a(47),P=n(T),N=a(1367),O=r(N),I=a(1227),R=r(I),A=a(1180),L=r(A),D=a(1232),F=r(D),U=a(1235),j=r(U),H=a(1192),B=r(H),q=function(e){function t(e){(0,l.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.toggleEmojiPicker=function(){var e=!a.state.showEmojiPicker;a.setState({showEmojiPicker:e}),a.props.handleDropdownOpened(e)},a.hideEmojiPicker=function(){a.setState({showEmojiPicker:!1}),a.props.handleDropdownOpened(!1)},a.removePost=function(){a.props.actions.removePost(a.props.post)},a.createRemovePostButton=function(){return b.default.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:a.removePost},"×")},a.reactEmojiClick=function(e){a.setState({showEmojiPicker:!1,reactionPickerOffset:21});var t=e.name||e.aliases[0];a.props.actions.addReaction(a.props.post.id,t),(0,C.emitEmojiPosted)(t),a.props.handleDropdownOpened(!1)},a.handleDotMenuOpened=function(e){a.setState({showDotMenu:e}),a.props.handleDropdownOpened(e)},a.getDotMenu=function(){return a.refs.dotMenu},a.buildOptions=function(e,t,n){if(!k.shouldShowDotMenu(e))return null;var r=a.props.isMobile,i=a.props.hover||a.state.showEmojiPicker||a.state.showDotMenu,o=void 0,s=void 0;if(!t){if(r||i||!e.root_id&&a.props.replyCount||a.props.isFirstReply){var l=r?"":"pull-right";o=b.default.createElement(O.default,{idPrefix:"commentIcon",idCount:n,handleCommentClick:a.props.handleCommentClick,commentCount:a.props.replyCount,id:e.channel_id+"_"+e.id,extraClass:l})}i&&"true"===window.mm_config.EnableEmojiPicker&&(s=b.default.createElement("span",null,b.default.createElement(L.default,{show:a.state.showEmojiPicker,container:a.props.getPostList,target:a.getDotMenu,onHide:a.hideEmojiPicker,onEmojiClick:a.reactEmojiClick,rightOffset:7}),b.default.createElement("button",{className:"reacticon__container color--link style--none",onClick:a.toggleEmojiPicker},b.default.createElement(B.default,{className:"icon icon--emoji"}))))}var u=void 0;return(r||i)&&(u=b.default.createElement(R.default,{idPrefix:M.default.CENTER,idCount:n,post:e,commentCount:a.props.replyCount,isFlagged:a.props.isFlagged,handleCommentClick:a.props.handleCommentClick,handleDropdownOpened:a.handleDotMenuOpened})),b.default.createElement("div",{ref:"dotMenu",className:"col col__reply"},u,s,o)},a.state={showEmojiPicker:!1,reactionPickerOffset:21},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.post,t=-1;this.props.lastPostCount>=0&&this.props.lastPostCount<M.default.TEST_ID_COUNT&&(t=this.props.lastPostCount);var a=P.isPostEphemeral(e),n=k.isSystemMessage(e),r=void 0;a||e.failed||n||!this.props.hover&&!this.props.isFlagged||(r=b.default.createElement(F.default,{idPrefix:"centerPostFlag",idCount:t,postId:e.id,isFlagged:this.props.isFlagged,isEphemeral:a}));var i=void 0;a?i=b.default.createElement("div",{className:"col col__remove"},this.createRemovePostButton()):e.failed||(i=this.buildOptions(e,n,t));var o=void 0;a&&!this.props.compactDisplay&&e.state!==y.Posts.POST_DELETED&&(o=b.default.createElement("span",{className:"post__visibility"},b.default.createElement(_.FormattedMessage,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"})));var s=void 0;e.is_pinned&&(s=b.default.createElement("span",{className:"post__pinned-badge"},b.default.createElement(_.FormattedMessage,{id:"post_info.pinned",defaultMessage:"Pinned"})));var l=void 0;if(this.props.hover||this.props.showTimeWithoutHover){var u=!(a||y.Posts.POST_DELETED===e.state||w.isPostPendingOrFailed(e));l=b.default.createElement(j.default,{isPermalink:u,eventTime:e.create_at,useMilitaryTime:this.props.useMilitaryTime,postId:e.id})}return b.default.createElement("div",{className:"post__header--info"},b.default.createElement("div",{className:"col"},l,s,r,o),i)}}]),t}(b.default.PureComponent);q.propTypes={post:g.default.object.isRequired,handleCommentClick:g.default.func.isRequired,handleDropdownOpened:g.default.func.isRequired,useMilitaryTime:g.default.bool.isRequired,isFlagged:g.default.bool,replyCount:g.default.number,isFirstReply:g.default.bool,isMobile:g.default.bool,lastPostCount:g.default.number,compactDisplay:g.default.bool,getPostList:g.default.func.isRequired,hover:g.default.bool.isRequired,showTimeWithoutHover:g.default.bool.isRequired,actions:g.default.shape({removePost:g.default.func.isRequired,addReaction:g.default.func.isRequired}).isRequired},t.default=q},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(2212),E=n(y),w=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){if((0,m.default)(window).width()>768)return null;var e="post-list__arrows";return this.props.isScrolling&&!this.props.atBottom&&(e+=" scrolling"),_.default.createElement("div",{className:e,onClick:this.props.onClick},_.default.createElement(E.default,null))}}]),t}(_.default.PureComponent);w.propTypes={isScrolling:v.default.bool.isRequired,atBottom:v.default.bool.isRequired,onClick:v.default.func.isRequired},t.default=w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(0),m=n(h),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("span",this.props,m.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",viewBox:"-239 239 21 23",style:v},m.default.createElement("path",{d:"M-239,241.4l2.4-2.4l8.1,8.2l8.1-8.2l2.4,2.4l-10.5,10.6L-239,241.4z M-228.5,257.2l8.1-8.2l2.4,2.4l-10.5,10.6l-10.5-10.6 l2.4-2.4L-228.5,257.2z"})))}}]),t}(m.default.PureComponent);t.default=g;var v={enableBackground:"new -239 239 21 23"}},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.match,a=e.history,n=t.params,r=n.path,i=n.identifier;"channels"===r?i.length===Z?w(t,a):i.length===J?T(t,a):i.length===Q?S(t,a):C(t,a):"messages"===r&&(i.length===Z?M(t,a):i.length===J?T(t,a):0===i.indexOf("@")?x(t,a):i.indexOf("@")>0?k(t,a):s(t,a))}function o(e){G.emitChannelClickEvent(e)}function s(e,t){var a=e.params.team;t.push(a?"/"+a+"/channels/"+B.Constants.DEFAULT_CHANNEL:"/")}Object.defineProperty(t,"__esModule",{value:!0});var l=a(34),u=r(l),d=a(30),c=r(d),f=a(31),p=r(f),h=a(35),m=r(h),g=a(36),v=r(g),b=a(67),_=r(b),y=a(68),E=r(y),w=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,o,l,u,d,c,f;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,r=n.team,i=n.identifier,o=i.toLowerCase(),l=U.default.get(o)){e.next=13;break}return e.next=6,(0,O.joinChannel)(D.default.getCurrentId(),H.default.getCurrentId(),o,null)(Y,X);case 6:if(u=e.sent,d=u.data,!(c=u.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:l=d.channel;case 13:l.type===B.Constants.DM_CHANNEL?(f=D.default.get(V.getUserIdFromChannelId(l.name)),a.replace("/"+r+"/messages/@"+f.name)):l.type===B.Constants.GM_CHANNEL?a.replace("/"+r+"/messages/"+l.name):a.replace("/"+r+"/channels/"+l.name);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,l,u,d,c,f,p;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,r=n.team,i=n.identifier,l=i.toLowerCase(),u=U.default.getByName(l)){e.next=13;break}return e.next=6,(0,O.joinChannel)(D.default.getCurrentId(),H.default.getCurrentId(),null,l)(Y,X);case 6:if(d=e.sent,c=d.data,!(f=d.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:u=c.channel;case 13:u.type===B.Constants.DM_CHANNEL?(p=D.default.get(V.getUserIdFromChannelId(u.name)),a.replace("/"+r+"/messages/@"+p.name)):u.type===B.Constants.GM_CHANNEL?a.replace("/"+r+"/messages/"+u.name):o(u);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,l,u,d;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params.identifier,r=n.slice(1,n.length).toLowerCase(),i=D.default.getProfileByUsername(r)){e.next=13;break}return e.next=6,(0,I.getUserByUsername)(r)(Y,X);case 6:if(l=e.sent,u=l.data,!(d=l.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:i=u;case 13:(0,q.openDirectChannelToUser)(i.id,function(e){o(e)},function(){return s(t,a)});case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,o,l,u,d,c;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,r=n.team,i=n.identifier,o=i.toLowerCase(),l=D.default.getProfile(o)){e.next=13;break}return e.next=6,(0,I.getUser)(o)(Y,X);case 6:if(u=e.sent,d=u.data,!(c=u.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:l=d;case 13:a.replace("/"+r+"/messages/@"+l.username);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,o,l,u,d,c;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,r=n.team,i=n.identifier,o=V.getUserIdFromChannelId(i.toLowerCase()),l=D.default.getProfile(o)){e.next=13;break}return e.next=6,(0,I.getUser)(o)(Y,X);case 6:if(u=e.sent,d=u.data,!(c=u.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:l=d;case 13:a.replace("/"+r+"/messages/@"+l.username);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,o,l,u,d,c;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,r=n.team,i=n.identifier,o=i.toLowerCase(),l=D.default.getProfileByEmail(o)){e.next=13;break}return e.next=6,(0,I.getUserByEmail)(o)(Y,X);case 6:if(u=e.sent,d=u.data,!(c=u.error)){e.next=12;break}return s(t,a),e.abrupt("return");case 12:l=d;case 13:a.replace("/"+r+"/messages/@"+l.username);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=(0,E.default)(_.default.mark(function e(t,a){var n,r,i,l,u,d;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params.identifier,r=n.toLowerCase(),a.replace(t.url.replace("/channels/","/messages/")),i=U.default.getByName(r)){e.next=14;break}return e.next=7,(0,O.joinChannel)(D.default.getCurrentId(),H.default.getCurrentId(),null,r)(Y,X);case 7:if(l=e.sent,u=l.data,!(d=l.error)){e.next=13;break}return s(t,a),e.abrupt("return");case 13:i=u.channel;case 14:o(i);case 15:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),P=a(0),N=r(P),O=a(90),I=a(82),R=a(2214),A=r(R),L=a(42),D=r(L),F=a(48),U=r(F),j=a(59),H=r(j),B=a(12),q=a(172),z=a(142),G=n(z),W=a(47),V=n(W),$=a(40),K=r($),Y=K.default.dispatch,X=K.default.getState,Z=26,J=40,Q=54,ee=function(e){function t(e){(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i(e),a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.match.params.identifier!==e.match.params.identifier&&i(e)}},{key:"render",value:function(){return N.default.createElement(A.default,null)}}]),t}(N.default.PureComponent);t.default=ee},function(e,t,a){"use strict";(function(e){function n(t){var a=t.entities.channels.currentChannelId;return{channelId:a,deactivatedChannel:f(t,a),showTutorial:Number((0,o.get)(t,u.Preferences.TUTORIAL_STEP,t.entities.users.currentUserId,999))<=u.TutorialSteps.INTRO_SCREENS&&"true"===e.window.mm_config.EnableTutorial}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),i=a(71),o=a(89),s=a(457),l=a(47),u=a(12),d=a(2215),c=function(e){return e&&e.__esModule?e:{default:e}}(d),f=(0,i.createSelector)(function(e){return e.entities.users.profiles},function(e,t){return t},function(e,t){var a=(0,l.getDirectTeammate)(t);return Boolean(a&&a.delete_at)});t.default=(0,s.withRouter)((0,r.connect)(n)(c.default))}).call(t,a(22))},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(177),o=r(i),s=a(34),l=r(s),u=a(30),d=r(u),c=a(31),f=r(c),p=a(35),h=r(p),m=a(36),g=r(m),v=a(167),b=r(v),_=a(27),y=r(_),E=a(0),w=r(E),C=a(214),x=a(90),M=a(169),S=n(M),k=a(2216),T=r(k),P=a(12),N=r(P),O=a(48),I=r(O),R=a(42),A=r(R),L=a(59),D=r(L),F=a(168),U=a(142),j=n(U),H=a(1441),B=r(H),q=a(2217),z=r(q),G=a(1344),W=r(G),V=a(1443),$=r(V),K=a(2219),Y=r(K),X=a(303),Z=a(40),J=r(Z),Q=J.default.dispatch,ee=J.default.getState,te=function(e){function t(e){(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.createDeferredPostView=function(){a.deferredPostView=(0,T.default)($.default,w.default.createElement("div",{id:"post-list"}))},a.getChannelView=function(){return a.refs.channelView},a.updateChannel(a.props),a.createDeferredPostView(),a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"updateChannel",value:function(e){var t=void 0,a=new URLSearchParams(e.location.search).get("fakechannel");a?t=JSON.parse(a):(t=I.default.getByName(e.match.params.channel),t&&t.type===N.default.DM_CHANNEL?(0,F.loadNewDMIfNeeded)(t.id):t&&t.type===N.default.GM_CHANNEL&&(0,F.loadNewGMIfNeeded)(t.id),t?j.emitChannelClickEvent(t):(0,x.joinChannel)(A.default.getCurrentId(),D.default.getCurrentId(),null,e.match.params.channel)(Q,ee).then(function(a){a.data?(t=a.data.channel,t&&t.type===N.default.DM_CHANNEL?(0,F.loadNewDMIfNeeded)(t.id):t&&t.type===N.default.GM_CHANNEL&&(0,F.loadNewGMIfNeeded)(t.id),j.emitChannelClickEvent(t)):a.error&&(e.match.params.team?e.history.push("/"+e.match.params.team+"/channels/town-square"):e.history.push("/"))}))}},{key:"componentDidMount",value:function(){(0,b.default)("body").addClass("app__body"),(S.isInternetExplorer()||S.isEdge())&&(0,b.default)("body").addClass("browser--ie")}},{key:"componentWillUnmount",value:function(){(0,b.default)("body").removeClass("app__body")}},{key:"componentWillReceiveProps",value:function(e){this.props.match.url!==e.match.url&&(this.updateChannel(e),this.createDeferredPostView())}},{key:"componentDidUpdate",value:function(e){if(e.channelId!==this.props.channelId){(0,X.mark)("ChannelView#componentDidUpdate");var t=(0,X.measure)("SidebarChannelLink#click","ChannelView#componentDidUpdate"),a=(0,o.default)(t,1),n=a[0],r=(0,X.measure)("TeamLink#click","ChannelView#componentDidUpdate"),i=(0,o.default)(r,1),s=i[0];(0,X.clearMarks)(["SidebarChannelLink#click","ChannelView#componentDidUpdate","TeamLink#click"]),-1!==n&&(0,X.trackEvent)("performance","channel_switch",{duration:Math.round(n)}),-1!==s&&(0,X.trackEvent)("performance","team_switch",{duration:Math.round(s)})}}},{key:"render",value:function(){if(this.props.showTutorial)return w.default.createElement(Y.default,{isRoot:!1});var e=void 0;e=this.props.deactivatedChannel?w.default.createElement("div",{className:"post-create-message"},w.default.createElement(C.FormattedMessage,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a deactivated user."})):w.default.createElement("div",{className:"post-create__container",id:"post-create"},w.default.createElement(z.default,{getChannelView:this.getChannelView}));var t=this.deferredPostView;return w.default.createElement("div",{ref:"channelView",id:"app-content",className:"app__content"},w.default.createElement(W.default,{overlayType:"center"}),w.default.createElement(B.default,{channelId:this.props.channelId}),w.default.createElement(t,{channelId:this.props.channelId}),e)}}]),t}(w.default.PureComponent);te.propTypes={channelId:y.default.string.isRequired,deactivatedChannel:y.default.bool.isRequired,showTutorial:y.default.bool.isRequired},t.default=te},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(a){function n(e,t){(0,l.default)(this,n);var a=(0,f.default)(this,(n.__proto__||(0,o.default)(n)).call(this,e,t));return a.state={shouldRender:!1},a}return(0,h.default)(n,a),(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){return e.setState({shouldRender:!0})})})}},{key:"render",value:function(){return this.state.shouldRender?b.default.createElement(e,this.props):t}}]),n}(b.default.Component);return(0,g.default)(a,e)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),o=n(i),s=a(30),l=n(s),u=a(31),d=n(u),c=a(35),f=n(c),p=a(36),h=n(p);t.default=r;var m=a(480),g=n(m),v=a(0),b=n(v)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return function(e,t){var a=(0,f.getCurrentChannel)(e)||{},n=(0,E.makeGetGlobalItem)(C.StoragePrefixes.DRAFT+a.id,{message:"",uploadsInProgress:[],fileInfos:[]}),r=(0,m.getMostRecentPostIdInChannel)(e,a.id),i=(0,m.getPost)(e,r),o=(0,m.makeGetCommentCountForPost)(),s=(0,m.getLatestReplyablePostId)(e),u=(0,f.getCurrentChannelStats)(e)?(0,f.getCurrentChannelStats)(e).member_count:1;return(0,l.default)({},t,{currentTeamId:(0,c.getCurrentTeamId)(e),currentChannel:a,currentChannelMembersCount:u,currentUserId:(0,p.getCurrentUserId)(e),ctrlSend:(0,h.getBool)(e,C.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),fullWidthTextBox:(0,h.get)(e,C.Preferences.CATEGORY_DISPLAY_SETTINGS,C.Preferences.CHANNEL_DISPLAY_MODE,C.Preferences.CHANNEL_DISPLAY_MODE_DEFAULT)===C.Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,showTutorialTip:(0,h.get)(e,C.Preferences.TUTORIAL_STEP,(0,p.getCurrentUserId)(e),999),messageInHistoryItem:(0,m.makeGetMessageInHistoryItem)(v.Posts.MESSAGE_TYPES.POST)(e),draft:n(e),recentPostIdInChannel:r,commentCountForPost:o(e,{post:i}),latestReplyablePostId:s,currentUsersLatestPost:(0,m.getCurrentUsersLatestPost)(e)})}}function i(e,t){return function(){(0,b.emitUserPostedEvent)(e),(0,_.createPost)(e,t),(0,b.postListScrollChange)(!0)}}function o(e){return{actions:(0,d.bindActionCreators)({addMessageIntoHistory:g.addMessageIntoHistory,onSubmitPost:i,moveHistoryIndexBack:g.moveHistoryIndexBack,moveHistoryIndexForward:g.moveHistoryIndexForward,addReaction:g.addReaction,removeReaction:g.removeReaction,setDraft:w.setGlobalItem,clearDraftUploads:w.actionOnGlobalItemsWithPrefix,selectPostFromRightHandSideSearchByPostId:y.selectPostFromRightHandSideSearchByPostId,setEditingPost:_.setEditingPost},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(28),l=n(s),u=a(141),d=a(11),c=a(170),f=a(144),p=a(69),h=a(89),m=a(145),g=a(146),v=a(18),b=a(142),_=a(171),y=a(305),E=a(314),w=a(222),C=a(12),x=a(2218),M=n(x);t.default=(0,u.connect)(r,o)(M.default)},function(e,t,a){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(217),o=r(i),s=a(28),l=r(s),u=a(34),d=r(u),c=a(30),f=r(c),p=a(31),h=r(p),m=a(35),g=r(m),v=a(36),b=r(v),_=a(27),y=r(_),E=a(0),w=r(E),C=a(39),x=r(C),M=a(214),S=a(18),k=a(172),T=n(k),P=a(142),N=n(P),O=a(171),I=a(306),R=r(I),A=a(12),L=r(A),D=a(1184),F=n(D),U=a(460),j=n(U),H=a(169),B=n(H),q=a(47),z=n(q),G=a(1144),W=r(G),V=a(1180),$=r(V),K=a(1347),Y=r(K),X=a(1350),Z=r(X),J=a(1351),Q=r(J),ee=a(1352),te=r(ee),ae=a(1192),ne=r(ae),re=a(1221),ie=r(re),oe=a(1237),se=r(oe),le=a(311),ue=L.default.TutorialSteps,de=L.default.KeyCodes,ce=(0,le.initFeedback)(),fe=function(t){function a(e){(0,f.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,d.default)(a)).call(this,e));return t.handlePostError=function(e){t.setState({postError:e})},t.toggleEmojiPicker=function(){t.setState({showEmojiPicker:!t.state.showEmojiPicker})},t.hideEmojiPicker=function(){t.setState({showEmojiPicker:!1})},t.doSubmit=function(e){var a=t.props.currentChannel.id;if(e&&e.preventDefault(),!(t.props.draft.uploadsInProgress.length>0||t.state.submitting)){var n={};if(n.file_ids=[],n.message=t.state.message,0!==n.message.trim().length||0!==t.props.draft.fileInfos.length){if(t.state.postError)return t.setState({errorClass:"animation--highlight"}),void setTimeout(function(){t.setState({errorClass:null})},L.default.ANIMATION_TIMEOUT);t.props.actions.addMessageIntoHistory(t.state.message),t.setState({submitting:!0,serverError:null});var r=z.REACTION_PATTERN.exec(n.message);if(0===n.message.indexOf("/")){t.setState({message:"",postError:null,enableSendButton:!1});var i={};i.channel_id=a,i.team_id=t.props.currentTeamId,T.executeCommand(n.message,i,function(){t.setState({submitting:!1})},function(e){e.sendMessage?t.sendMessage(n):t.setState({serverError:e.message,submitting:!1,message:n.message})})}else r&&R.default.has(r[2])?t.sendReaction(r):t.sendMessage(n);t.setState({message:"",submitting:!1,postError:null,serverError:null,enableSendButton:!1}),t.props.actions.setDraft(A.StoragePrefixes.DRAFT+a,null);var o=Date.now()-t.lastBlurAt<150;t.focusTextbox(o)}}},t.handleNotifyAllConfirmation=function(e){t.hideNotifyAllModal(),t.doSubmit(e)},t.hideNotifyAllModal=function(){t.setState({showConfirmModal:!1})},t.showNotifyAllModal=function(){t.setState({showConfirmModal:!0})},t.handleSubmit=function(e){var a=t.props.currentChannel;if(13===e.charCode?ce({message:t.state.message,sentVia:"Keyboard"},"MessageSent"):ce({message:t.state.message,sentVia:"Sendbutton"},"MessageSent"),(j.containsAtMention(t.state.message,"@all")||j.containsAtMention(t.state.message,"@channel"))&&t.props.currentChannelMembersCount>L.default.NOTIFY_ALL_MEMBERS&&"true"===window.mm_config.EnableConfirmNotificationsToChannel)return void t.showNotifyAllModal();if("/header"===t.state.message.trimRight())return N.showChannelHeaderUpdateModal(a),void t.setState({message:""});var n=a.type===L.default.DM_CHANNEL||a.type===L.default.GM_CHANNEL;return n||"/purpose"!==t.state.message.trimRight()?n||"/rename"!==t.state.message.trimRight()?void t.doSubmit(e):(N.showChannelNameUpdateModal(a),void t.setState({message:""})):(N.showChannelPurposeUpdateModal(a),void t.setState({message:""}))},t.sendMessage=function(e){var a=t.props,n=a.actions,r=a.currentChannel,i=a.currentUserId,o=a.draft;e.channel_id=r.id;var s=z.getTimestamp(),l=i;e.pending_post_id=l+":"+s,e.user_id=l,e.create_at=s,e.parent_id=t.state.parentId,n.onSubmitPost(e,o.fileInfos),t.setState({submitting:!1})},t.focusTextbox=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!t.refs.textbox||!e&&B.isMobile()||t.refs.textbox.focus()},t.postMsgKeyPress=function(e){var a=e.ctrlKey||e.metaKey;!B.isMobile()&&(t.props.ctrlSend&&a||!t.props.ctrlSend)&&(e.which!==de.ENTER||e.shiftKey||e.altKey||(e.preventDefault(),x.default.findDOMNode(t.refs.textbox).blur(),t.handleSubmit(e))),N.emitLocalUserTypingEvent(t.props.currentChannel.id,"")},t.handleChange=function(e){var a=e.target.value,n=t.props.currentChannel.id,r=t.handleEnableSendButton(a,t.props.draft.fileInfos);t.setState({message:a,enableSendButton:r});var i=(0,l.default)({},t.props.draft,{message:a});t.props.actions.setDraft(A.StoragePrefixes.DRAFT+n,i)},t.handleFileUploadChange=function(){t.focusTextbox(!0)},t.handleUploadStart=function(e,a){var n=[].concat((0,o.default)(t.props.draft.uploadsInProgress),(0,o.default)(e)),r=(0,l.default)({},t.props.draft,{uploadsInProgress:n});t.props.actions.setDraft(A.StoragePrefixes.DRAFT+a,r),t.focusTextbox()},t.handleFileUploadComplete=function(e,a,n){for(var r=(0,l.default)({},t.props.draft),i=0;i<a.length;i++)!function(e){var t=r.uploadsInProgress.indexOf(a[e]);-1!==t&&(r.uploadsInProgress=r.uploadsInProgress.filter(function(e,a){return t!==a}))}(i);r.fileInfos=r.fileInfos.concat(e),t.props.actions.setDraft(A.StoragePrefixes.DRAFT+n,r),n===t.props.currentChannel.id&&t.setState({enableSendButton:!0})},t.handleUploadError=function(e,a,n){var r=t.props.draft,i=e;if(i&&"string"!=typeof i&&(i=e.message),-1!==a){var o=r.uploadsInProgress.indexOf(a);if(-1!==o){var s=r.uploadsInProgress.filter(function(e,t){return o!==t}),u=(0,l.default)({},r,{uploadsInProgress:s});t.props.actions.setDraft(A.StoragePrefixes.DRAFT+n,u)}}t.setState({serverError:i})},t.removePreview=function(e){var a={},n=(0,l.default)({},t.props.draft),r=t.props.currentChannel.id;t.setState({serverError:null});var i=n.fileInfos.findIndex(function(t){return t.id===e});if(-1===i){if(-1!==(i=n.uploadsInProgress.indexOf(e))){var o=n.uploadsInProgress.filter(function(e,t){return i!==t});a=(0,l.default)({},n,{uploadsInProgress:o}),t.refs.fileUpload.getWrappedInstance().cancelUpload(e)}}else{var s=n.fileInfos.filter(function(e,t){return i!==t});a=(0,l.default)({},n,{fileInfos:s})}t.props.actions.setDraft(A.StoragePrefixes.DRAFT+r,a);var u=t.handleEnableSendButton(t.state.message,n.fileInfos);t.setState({enableSendButton:u}),t.handleFileUploadChange()},t.getFileCount=function(){var e=t.props.draft;return e.fileInfos.length+e.uploadsInProgress.length},t.getFileUploadTarget=function(){return t.refs.textbox},t.getCreatePostControls=function(){return t.refs.createPostControls},t.handleKeyDown=function(e){var a=e.ctrlKey||e.metaKey,n=0===t.state.message.length,r=0===t.props.draft.message.length,i=t.props.ctrlSend&&e.keyCode===de.ENTER&&a,o=!a&&!e.altKey&&!e.shiftKey&&e.keyCode===de.UP,s=!a&&!e.altKey&&e.shiftKey&&e.keyCode===de.UP,l=a&&!e.altKey&&!e.shiftKey;i?t.postMsgKeyPress(e):o&&n?t.editLastPost(e):s&&n?t.replyToLastPost(e):l&&r&&e.keyCode===de.UP?t.loadPrevMessage(e):l&&r&&e.keyCode===de.DOWN&&t.loadNextMessage(e)},t.editLastPost=function(e){e.preventDefault();var a=t.props.currentUsersLatestPost;if(a){var n=void 0;n=a.root_id&&a.root_id.length>0?z.localizeMessage("create_post.comment",S.Posts.MESSAGE_TYPES.COMMENT):z.localizeMessage("create_post.post",S.Posts.MESSAGE_TYPES.POST),t.props.actions.setEditingPost(a.id,t.props.commentCountForPost,"#post_textbox",n)}},t.replyToLastPost=function(e){e.preventDefault();var a=t.props.latestReplyablePostId;a&&t.props.actions.selectPostFromRightHandSideSearchByPostId(a)},t.loadPrevMessage=function(e){e.preventDefault(),t.props.actions.moveHistoryIndexBack(S.Posts.MESSAGE_TYPES.POST).then(function(){return t.fillMessageFromHistory()})},t.loadNextMessage=function(e){e.preventDefault(),t.props.actions.moveHistoryIndexForward(S.Posts.MESSAGE_TYPES.POST).then(function(){return t.fillMessageFromHistory()})},t.handleBlur=function(){t.lastBlurAt=Date.now()},t.showPostDeletedModal=function(){t.setState({showPostDeletedModal:!0})},t.hidePostDeletedModal=function(){t.setState({showPostDeletedModal:!1})},t.handleEmojiClick=function(e){var a=e.name||e.aliases[0];if(a){if(""===t.state.message)t.setState({message:":"+a+": "});else{var n=/\s+$/.test(t.state.message)?t.state.message+":"+a+": ":t.state.message+" :"+a+": ";t.setState({message:n})}t.setState({showEmojiPicker:!1}),t.focusTextbox()}},t.state={message:t.props.draft.message,submitting:!1,showPostDeletedModal:!1,enableSendButton:!1,showEmojiPicker:!1,showConfirmModal:!1},t.lastBlurAt=0,t}return(0,b.default)(a,t),(0,h.default)(a,[{key:"componentWillMount",value:function(){var e=this.handleEnableSendButton(this.state.message,this.props.draft.fileInfos);this.props.actions.clearDraftUploads(A.StoragePrefixes.DRAFT,function(e,t){return t?(0,l.default)({},t,{uploadsInProgress:[]}):t}),this.setState({enableSendButton:e})}},{key:"componentDidMount",value:function(){this.focusTextbox(),document.addEventListener("keydown",this.showShortcuts)}},{key:"componentWillReceiveProps",value:function(e){if(e.currentChannel.id!==this.props.currentChannel.id){var t=e.draft;this.setState({message:t.message,submitting:!1,serverError:null})}}},{key:"componentDidUpdate",value:function(e){e.currentChannel.id!==this.props.currentChannel.id&&this.focusTextbox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.showShortcuts)}},{key:"sendReaction",value:function(e){var t=this.props.currentChannel.id,a=e[1],n=e[2],r=this.props.latestReplyablePostId;r&&"+"===a?(this.props.actions.addReaction(r,n),(0,O.emitEmojiPosted)(n)):r&&"-"===a&&this.props.actions.removeReaction(r,n),this.props.actions.setDraft(A.StoragePrefixes.DRAFT+t,null)}},{key:"showShortcuts",value:function(e){(e.ctrlKey||e.metaKey)&&e.keyCode===de.FORWARD_SLASH&&(e.preventDefault(),N.toggleShortcutsModal())}},{key:"fillMessageFromHistory",value:function(){var e=this.props.messageInHistoryItem;e&&this.setState({message:e})}},{key:"createTutorialTip",value:function(){var e=[];return e.push(w.default.createElement("div",null,w.default.createElement(M.FormattedHTMLMessage,{id:"create_post.tutorialTip",defaultMessage:"<h4>Sending Messages</h4><p>Type here to write a message and press <strong>Enter</strong> to post it.</p><p>Click the <strong>Attachment</strong> button to upload an image or a file.</p>"}))),w.default.createElement(se.default,{id:"postTextboxTipMessage",placement:"top",screens:e,overlayClass:"tip-overlay--chat",diagnosticsTag:"tutorial_tip_1_sending_messages"})}},{key:"handleEnableSendButton",value:function(e,t){return 0!==e.trim().length||0!==t.length}},{key:"render",value:function(){var t=this.props,a=t.currentChannel,n=t.currentChannelMembersCount,r=t.draft,i=t.fullWidthTextBox,o=t.getChannelView,s=t.showTutorialTip,l=n-1,u=w.default.createElement(M.FormattedMessage,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),d=w.default.createElement(M.FormattedMessage,{id:"notify_all.confirm",defaultMessage:"Confirm"}),c=w.default.createElement(M.FormattedMessage,{id:"notify_all.question",defaultMessage:"By using @all or @channel you are about to send notifications to {totalMembers} people. Are you sure you want to do this?",values:{totalMembers:l}}),f=null;this.state.serverError&&(f=w.default.createElement("div",{className:"has-error"},w.default.createElement("label",{className:"control-label"},this.state.serverError)));var p=null;if(this.state.postError){var h="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");p=w.default.createElement("label",{className:h},this.state.postError)}var m=null;(r.fileInfos.length>0||r.uploadsInProgress.length>0)&&(m=w.default.createElement(Y.default,{fileInfos:r.fileInfos,onRemove:this.removePreview,uploadsInProgress:r.uploadsInProgress}));var g="post-create-footer";p&&(g+=" has-error");var v=null;parseInt(s,10)===ue.POST_POPOVER&&"true"===e.window.mm_config.EnableTutorial&&(v=this.createTutorialTip());var b="";i||(b="center");var _="send-button theme";this.state.enableSendButton||(_+=" disabled");var y="";F.canUploadFiles()||(y=" post-create--attachment-disabled");var E=w.default.createElement(Z.default,{ref:"fileUpload",fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,postType:"post"}),C=null;return"true"===window.mm_config.EnableEmojiPicker&&(C=w.default.createElement("span",{className:"emoji-picker__container"},w.default.createElement($.default,{show:this.state.showEmojiPicker,container:o,target:this.getCreatePostControls,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:15,topOffset:-7}),w.default.createElement(ne.default,{id:"emojiPickerButton",className:"icon icon--emoji "+(this.state.showEmojiPicker?"active":""),onClick:this.toggleEmojiPicker}))),w.default.createElement("form",{id:"create_post",ref:"topDiv",role:"form",className:b,onSubmit:this.handleSubmit},w.default.createElement("div",{className:"post-create"+y},w.default.createElement("div",{className:"post-create-body"},w.default.createElement("div",{className:"post-body__cell"},w.default.createElement(ie.default,{onChange:this.handleChange,onKeyPress:this.postMsgKeyPress,onKeyDown:this.handleKeyDown,handlePostError:this.handlePostError,value:this.state.message,onBlur:this.handleBlur,emojiEnabled:"true"===window.mm_config.EnableEmojiPicker,createMessage:z.localizeMessage("create_post.write","Write a message..."),channelId:a.id,popoverMentionKeyClick:!0,id:"post_textbox",ref:"textbox"}),w.default.createElement("span",{ref:"createPostControls",className:"post-body__actions"},E,C,w.default.createElement("a",{className:_,onClick:this.handleSubmit},w.default.createElement("i",{className:"fa fa-paper-plane"})))),v),w.default.createElement("div",{id:"postCreateFooter",className:g},w.default.createElement(Q.default,{channelId:a.id,parentId:""}),p,m,f)),w.default.createElement(te.default,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),w.default.createElement(W.default,{title:u,message:c,confirmButtonText:d,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}]),a}(w.default.Component);fe.propTypes={getChannelView:y.default.func,currentChannelMembersCount:y.default.number,currentChannel:y.default.object,currentTeamId:y.default.string,currentUserId:y.default.string,ctrlSend:y.default.bool,fullWidthTextBox:y.default.bool,showTutorialTip:y.default.string,messageInHistoryItem:y.default.string,draft:y.default.shape({message:y.default.string.isRequired,uploadsInProgress:y.default.array.isRequired,fileInfos:y.default.array.isRequired}).isRequired,recentPostIdInChannel:y.default.string,commentCountForPost:y.default.number,latestReplyablePostId:y.default.string,currentUsersLatestPost:y.default.object,actions:y.default.shape({addMessageIntoHistory:y.default.func.isRequired,moveHistoryIndexBack:y.default.func.isRequired,moveHistoryIndexForward:y.default.func.isRequired,addReaction:y.default.func.isRequired,onSubmitPost:y.default.func.isRequired,removeReaction:y.default.func.isRequired,clearDraftUploads:y.default.func.isRequired,setDraft:y.default.func.isRequired,setEditingPost:y.default.func.isRequired,selectPostFromRightHandSideSearchByPostId:y.default.func.isRequired}).isRequired},fe.defaultProps={latestReplyablePostId:""},t.default=fe}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(31),u=n(l),d=a(35),c=n(d),f=a(36),p=n(f),h=a(167),m=n(h),g=a(27),v=n(g),b=a(0),_=n(b),y=a(48),E=n(y),w=a(12),C=n(w),x=a(2220),M=n(x),S=function(e){function t(e){(0,s.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleChannelChange=a.handleChannelChange.bind(a),a.state={townSquare:E.default.getByName(C.default.DEFAULT_CHANNEL)},a}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){E.default.addChangeListener(this.handleChannelChange),this.props.isRoot&&(0,m.default)("body").addClass("app__body")}},{key:"componentWillUnmount",value:function(){E.default.removeChangeListener(this.handleChannelChange),this.props.isRoot&&(0,m.default)("body").removeClass("app__body")}},{key:"handleChannelChange",value:function(){this.setState({townSquare:E.default.getByName(C.default.DEFAULT_CHANNEL)})}},{key:"render",value:function(){return _.default.createElement("div",{id:"app-content",className:"app__content"},_.default.createElement(M.default,{townSquare:this.state.townSquare,handleDone:this.handleDone}))}}]),t}(_.default.Component);t.default=S,S.defaultProps={isRoot:!0},S.propTypes={isRoot:v.default.bool}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),i=n(r),o=a(30),s=n(o),l=a(35),u=n(l),d=a(31),c=n(d),f=a(36),p=n(f),h=a(27),m=n(h),g=a(0),v=n(g),b=a(214),_=a(303),y=a(142),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),w=a(168),C=a(120),x=n(C),M=a(59),S=n(M),k=a(42),T=n(k),P=a(12),N=a(143),O=a(2221),I=n(O),R=a(311),A=(0,R.initFeedback)(),L=function(t){function a(e){(0,s.default)(this,a);var t=(0,u.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.handleCircleClick=function(e){e.preventDefault();var a=e.currentTarget.getAttribute("data-screen");t.setState({currentScreen:a})},t.handleNext=t.handleNext.bind(t),t.createScreen=t.createScreen.bind(t),t.createCircles=t.createCircles.bind(t),t.skipTutorial=t.skipTutorial.bind(t),t.state={currentScreen:0},t}return(0,p.default)(a,t),(0,c.default)(a,null,[{key:"propTypes",get:function(){return{townSquare:m.default.object,offTopic:m.default.object}}}]),(0,c.default)(a,[{key:"handleNext",value:function(){switch(this.state.currentScreen){case 0:A({decision:"TutorialStarted",group:localStorage.getItem("EXPERIMENT1_GROUP")},"TutorialExperimentParticipated"),(0,_.trackEvent)("tutorial","tutorial_screen_1_welcome_to_mattermost_next");break;case 1:(0,_.trackEvent)("tutorial","tutorial_screen_2_how_mattermost_works_next");break;case 2:(0,_.trackEvent)("tutorial","tutorial_screen_3_youre_all_set_next")}if(this.state.currentScreen<2)return void this.setState({currentScreen:this.state.currentScreen+1});var e=x.default.getInt(P.Preferences.TUTORIAL_STEP,T.default.getCurrentId(),0);(0,w.savePreference)(P.Preferences.TUTORIAL_STEP,T.default.getCurrentId(),(e+1).toString())}},{key:"skipTutorial",value:function(e){switch(e.preventDefault(),A({decision:"TutorialSkipped",group:localStorage.getItem("EXPERIMENT1_GROUP")},"TutorialExperimentParticipated"),this.state.currentScreen){case 0:(0,_.trackEvent)("tutorial","tutorial_screen_1_welcome_to_mattermost_skip");break;case 1:(0,_.trackEvent)("tutorial","tutorial_screen_2_how_mattermost_works_skip");break;case 2:(0,_.trackEvent)("tutorial","tutorial_screen_3_youre_all_set_skip")}(0,w.savePreference)(P.Preferences.TUTORIAL_STEP,T.default.getCurrentId(),"999")}},{key:"createScreen",value:function(){switch(this.state.currentScreen){case 0:return this.createScreenOne();case 1:return this.createScreenTwo();case 2:return this.createScreenThree()}return null}},{key:"createScreenOne",value:function(){var e=this.createCircles();return v.default.createElement("div",{id:"tutorialIntroOne"},v.default.createElement(b.FormattedHTMLMessage,{id:"tutorial_intro.screenOne",defaultMessage:"<h3>Welcome to:</h3> <h1>Mattermost</h1> <p>Your team communication all in one place, instantly searchable and available anywhere.</p> <p>Keep your team connected to help them achieve what matters most.</p>"}),e)}},{key:"createScreenTwo",value:function(){var t=this.createCircles(),a=null,n=null;if(e.mm_config.AppDownloadLink){var r=(0,N.useSafeUrl)(e.mm_config.AppDownloadLink);a=v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.mobileApps",defaultMessage:"Install the apps for {link} for easy access and notifications on the go.",values:{link:v.default.createElement("a",{id:"appDownloadLink",href:r,target:"_blank",rel:"noopener noreferrer"},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.mobileAppsLinkText",defaultMessage:"PC, Mac, iOS and Android"}))}}),n=v.default.createElement("a",{id:"appDownloadImage",href:r,target:"_blank",rel:"noopener noreferrer"},v.default.createElement("img",{className:"tutorial__app-icons",src:I.default}))}return v.default.createElement("div",{id:"tutorialIntroTwo"},v.default.createElement(b.FormattedHTMLMessage,{id:"tutorial_intro.screenTwo",defaultMessage:"<h3>How Mattermost works:</h3> <p>Communication happens in public discussion channels, private channels and direct messages.</p> <p>Everything is archived and searchable from any web-enabled desktop, laptop or phone.</p>"}),a,n,t)}},{key:"createScreenThree",value:function(){var t=S.default.getCurrent(),a=void 0,n=void 0;"true"===e.window.mm_license.IsLicensed&&e.window.mm_config.RestrictTeamInvite!==P.Constants.PERMISSIONS_ALL||(a=t.type===P.Constants.INVITE_TEAM?v.default.createElement("button",{id:"tutorialIntroInvite",className:"intro-links color--link style--none",onClick:E.showInviteMemberModal},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.invite",defaultMessage:"Invite teammates"})):v.default.createElement("button",{id:"tutorialIntroInvite",className:"intro-links color--link style--none",onClick:E.showGetTeamInviteLinkModal},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.teamInvite",defaultMessage:"Invite teammates"})),n=v.default.createElement("p",null,a,v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.whenReady",defaultMessage:" when you’re ready."})));var r=this.createCircles(),i=null;e.window.mm_config.SupportEmail&&(i=v.default.createElement("p",{id:"supportInfo"},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.support",defaultMessage:"Need anything, just email us at "}),v.default.createElement("a",{href:"mailto:"+e.window.mm_config.SupportEmail,target:"_blank",rel:"noopener noreferrer"},e.window.mm_config.SupportEmail),"."));var o=P.Constants.DEFAULT_CHANNEL_UI_NAME;return this.props.townSquare&&(o=this.props.townSquare.display_name),v.default.createElement("div",{id:"tutorialIntroThree"},v.default.createElement("h3",null,v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.allSet",defaultMessage:"You’re all set"})),n,i,v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.end",defaultMessage:'Click "Next" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.',values:{channel:o}}),r)}},{key:"createCircles",value:function(){for(var e=[],t=0;t<3;t++){var a="circle";t===this.state.currentScreen&&(a+=" active"),e.push(v.default.createElement("a",{id:"tutorialIntroCircle"+t,href:"#",key:"circle"+t,className:a,"data-screen":t,onClick:this.handleCircleClick}))}return v.default.createElement("div",{className:"tutorial__circles"},e)}},{key:"render",value:function(){var e=this.createScreen(),t="control"===localStorage.getItem("EXPERIMENT1_GROUP")?"btn btn-primary":"btn";return v.default.createElement("div",{className:"tutorial-steps__container"},v.default.createElement("div",{id:"tutorialIntroContent",className:"tutorial__content"},v.default.createElement("div",{className:"tutorial__steps"},e,v.default.createElement("div",{className:"tutorial__footer"},v.default.createElement("button",{id:"tutorialNextButton",className:t,tabIndex:"1",onClick:this.handleNext},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.next",defaultMessage:"Next"})),v.default.createElement("a",{id:"tutorialSkipLink",className:"tutorial-skip",href:"#",onClick:this.skipTutorial},v.default.createElement(b.FormattedMessage,{id:"tutorial_intro.skip",defaultMessage:"Skip tutorial"}))))))}}]),a}(v.default.Component);t.default=L}).call(t,a(22))},function(e,t,a){e.exports=a.p+"files/1e3af4d072a53dfd298d2e416e68335a.png"},function(e,t,a){e.exports=function(e){a.e(4).then(function(t){e(a(2223))}.bind(null,a)).catch(a.oe)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=function(e){a.e(9).then(function(t){e(a(2275))}.bind(null,a)).catch(a.oe)}},,,,,function(e,t,a){e.exports=function(e){a.e(25).then(function(t){e(a(2280))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(2).then(function(t){e(a(2282))}.bind(null,a)).catch(a.oe)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=function(e){a.e(23).then(function(t){e(a(2496))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(24).then(function(t){e(a(2498))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(18).then(function(t){e(a(2500))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(20).then(function(t){e(a(2502))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(19).then(function(t){e(a(2504))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(21).then(function(t){e(a(2506))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(16).then(function(t){e(a(2508))}.bind(null,a)).catch(a.oe)}},,,function(e,t,a){e.exports=function(e){a.e(7).then(function(t){e(a(2511))}.bind(null,a)).catch(a.oe)}},,,,,,function(e,t,a){e.exports=function(e){a.e(6).then(function(t){e(a(2517))}.bind(null,a)).catch(a.oe)}},,,,,,,,function(e,t,a){e.exports=function(e){a.e(10).then(function(t){e(a(2525))}.bind(null,a)).catch(a.oe)}},,,,function(e,t,a){e.exports=function(e){a.e(14).then(function(t){e(a(2529))}.bind(null,a)).catch(a.oe)}},,,function(e,t,a){e.exports=function(e){a.e(8).then(function(t){e(a(2532))}.bind(null,a)).catch(a.oe)}},,,,,function(e,t,a){e.exports=function(e){a.e(26).then(function(t){e(a(2537))}.bind(null,a)).catch(a.oe)}},,function(e,t,a){e.exports=function(e){a.e(12).then(function(t){e(a(2539))}.bind(null,a)).catch(a.oe)}},,,,function(e,t,a){e.exports=function(e){a.e(11).then(function(t){e(a(2543))}.bind(null,a)).catch(a.oe)}},,,,function(e,t,a){"use strict";e.exports=a(2547)},function(e,t,a){"use strict";function n(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||void 0===e){var t=e;l.get(this)||s.initialize(this,t)}else{var a=e;"update"===a?s.update(this):"destroy"===a&&s.destroy(this)}})}}var r,i,o,s=a(2548),l=a(1151);i=[a(167)],r=n,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o),e.exports=n},function(e,t,a){"use strict";var n=a(2549),r=a(2553),i=a(2561);e.exports={initialize:r,update:i,destroy:n}},function(e,t,a){"use strict";var n=a(1176),r=a(1191),i=a(1151);e.exports=function(e){var t=i.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),n.removePsClasses(e),i.remove(e))}},function(e,t,a){"use strict";e.exports=function(){return{handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}}},function(e,t,a){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var a=void 0!==t;this.events[e]=this.events[e].filter(function(n){return!(!a||n===t)||(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},r.prototype.bind=function(e,t,a){this.eventElement(e).bind(t,a)},r.prototype.unbind=function(e,t,a){this.eventElement(e).unbind(t,a)},r.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},r.prototype.once=function(e,t,a){var n=this.eventElement(e),r=function(e){n.unbind(t,r),a(e)};n.bind(t,r)},e.exports=r},function(e,t,a){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,a){"use strict";var n=a(1151),r=a(1169),i={"click-rail":a(2554),"drag-scrollbar":a(2555),keyboard:a(2556),wheel:a(2557),touch:a(2558),selection:a(2559)},o=a(2560);e.exports=function(e,t){e.classList.add("ps");var a=n.add(e,"object"==typeof t?t:{});e.classList.add("ps--theme_"+a.settings.theme),a.settings.handlers.forEach(function(t){i[t](e)}),o(e),r(e)}},function(e,t,a){"use strict";function n(e,t){function a(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var r=n.pageY-window.pageYOffset-a(t.scrollbarYRail).top,s=r>t.scrollbarYTop?1:-1;o(e,"top",e.scrollTop+s*t.containerHeight),i(e),n.stopPropagation()}),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var r=n.pageX-window.pageXOffset-a(t.scrollbarXRail).left,s=r>t.scrollbarXLeft?1:-1;o(e,"left",e.scrollLeft+s*t.containerWidth),i(e),n.stopPropagation()})}var r=a(1151),i=a(1169),o=a(1177);e.exports=function(e){n(e,r.get(e))}},function(e,t,a){"use strict";function n(e,t){function a(a){var r=n+a*t.railXRatio,o=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=r<0?0:r>o?o:r;var s=i.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;u(e,"left",s)}var n=null,r=null,s=function(t){a(t.pageX-r),l(e),t.stopPropagation(),t.preventDefault()},d=function(){i.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(a){r=a.pageX,n=i.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,i.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",d),a.stopPropagation(),a.preventDefault()})}function r(e,t){function a(a){var r=n+a*t.railYRatio,o=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=r<0?0:r>o?o:r;var s=i.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));u(e,"top",s)}var n=null,r=null,s=function(t){a(t.pageY-r),l(e),t.stopPropagation(),t.preventDefault()},d=function(){i.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(a){r=a.pageY,n=i.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,i.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",d),a.stopPropagation(),a.preventDefault()})}var i=a(1176),o=a(1191),s=a(1151),l=a(1169),u=a(1177);e.exports=function(e){var t=s.get(e);n(e,t),r(e,t)}},function(e,t,a){"use strict";function n(e,t){function a(a,n){var r=e.scrollTop;if(0===a){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var i=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===i&&a<0||i>=t.contentWidth-t.containerWidth&&a>0)return!t.settings.wheelPropagation}return!0}var n=!1;t.event.bind(e,"mouseenter",function(){n=!0}),t.event.bind(e,"mouseleave",function(){n=!1});var o=!1;t.event.bind(t.ownerDocument,"keydown",function(u){if(!(u.isDefaultPrevented&&u.isDefaultPrevented()||u.defaultPrevented)){var d=i.matches(t.scrollbarX,":focus")||i.matches(t.scrollbarY,":focus");if(n||d){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(r.isEditable(c))return}var f=0,p=0;switch(u.which){case 37:f=u.metaKey?-t.contentWidth:u.altKey?-t.containerWidth:-30;break;case 38:p=u.metaKey?t.contentHeight:u.altKey?t.containerHeight:30;break;case 39:f=u.metaKey?t.contentWidth:u.altKey?t.containerWidth:30;break;case 40:p=u.metaKey?-t.contentHeight:u.altKey?-t.containerHeight:-30;break;case 33:p=90;break;case 32:p=u.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=u.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=u.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+f),s(e),o=a(f,p),o&&u.preventDefault()}}})}var r=a(1176),i=a(1191),o=a(1151),s=a(1169),l=a(1177);e.exports=function(e){n(e,o.get(e))}},function(e,t,a){"use strict";function n(e,t){function a(a,n){var r=e.scrollTop;if(0===a){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var i=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===i&&a<0||i>=t.contentWidth-t.containerWidth&&a>0)return!t.settings.wheelPropagation}return!0}function n(e){var t=e.deltaX,a=-1*e.deltaY;return void 0!==t&&void 0!==a||(t=-1*e.wheelDeltaX/6,a=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,a*=10),t!==t&&a!==a&&(t=0,a=e.wheelDelta),e.shiftKey?[-a,-t]:[t,a]}function r(t,a){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){var r=window.getComputedStyle(n);if(![r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/))return!1;var i=n.scrollHeight-n.clientHeight;if(i>0&&!(0===n.scrollTop&&a>0||n.scrollTop===i&&a<0))return!0;var o=n.scrollLeft-n.clientWidth;if(o>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===o&&t>0))return!0}return!1}function s(s){var u=n(s),d=u[0],c=u[1];r(d,c)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(c?o(e,"top",e.scrollTop-c*t.settings.wheelSpeed):o(e,"top",e.scrollTop+d*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(d?o(e,"left",e.scrollLeft+d*t.settings.wheelSpeed):o(e,"left",e.scrollLeft-c*t.settings.wheelSpeed),l=!0):(o(e,"top",e.scrollTop-c*t.settings.wheelSpeed),o(e,"left",e.scrollLeft+d*t.settings.wheelSpeed)),i(e),(l=l||a(d,c))&&(s.stopPropagation(),s.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var r=a(1151),i=a(1169),o=a(1177);e.exports=function(e){n(e,r.get(e))}},function(e,t,a){"use strict";function n(e,t,a,n){function r(a,n){var r=e.scrollTop,i=e.scrollLeft,o=Math.abs(a),s=Math.abs(n);if(s>o){if(n<0&&r===t.contentHeight-t.containerHeight||n>0&&0===r)return!t.settings.swipePropagation}else if(o>s&&(a<0&&i===t.contentWidth-t.containerWidth||a>0&&0===i))return!t.settings.swipePropagation;return!0}function l(t,a){s(e,"top",e.scrollTop-a),s(e,"left",e.scrollLeft-t),o(e)}function u(){y=!0}function d(){y=!1}function c(e){return e.targetTouches?e.targetTouches[0]:e}function f(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function p(e){if(f(e)){E=!0;var t=c(e);g.pageX=t.pageX,g.pageY=t.pageY,v=(new Date).getTime(),null!==_&&clearInterval(_),e.stopPropagation()}}function h(e){if(!E&&t.settings.swipePropagation&&p(e),!y&&E&&f(e)){var a=c(e),n={pageX:a.pageX,pageY:a.pageY},i=n.pageX-g.pageX,o=n.pageY-g.pageY;l(i,o),g=n;var s=(new Date).getTime(),u=s-v;u>0&&(b.x=i/u,b.y=o/u,v=s),r(i,o)&&(e.stopPropagation(),e.preventDefault())}}function m(){!y&&E&&(E=!1,t.settings.swipeEasing&&(clearInterval(_),_=setInterval(function(){return i.get(e)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(_):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(_)},10)))}var g={},v=0,b={},_=null,y=!1,E=!1;a?(t.event.bind(window,"touchstart",u),t.event.bind(window,"touchend",d),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",m)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",u),t.event.bind(window,"pointerup",d),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",u),t.event.bind(window,"MSPointerUp",d),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",m)))}var r=a(1176),i=a(1151),o=a(1169),s=a(1177);e.exports=function(e){if(r.env.supportsTouch||r.env.supportsIePointer){n(e,i.get(e),r.env.supportsTouch,r.env.supportsIePointer)}}},function(e,t,a){"use strict";function n(e,t){function a(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function n(){u||(u=setInterval(function(){if(!i.get(e))return void clearInterval(u);s(e,"top",e.scrollTop+d.top),s(e,"left",e.scrollLeft+d.left),o(e)},50))}function l(){u&&(clearInterval(u),u=null),r.stopScrolling(e)}var u=null,d={top:0,left:0},c=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(a())?c=!0:(c=!1,l())}),t.event.bind(window,"mouseup",function(){c&&(c=!1,l())}),t.event.bind(window,"keyup",function(){c&&(c=!1,l())}),t.event.bind(window,"mousemove",function(t){if(c){var a={x:t.pageX,y:t.pageY},i={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};a.x<i.left+3?(d.left=-5,r.startScrolling(e,"x")):a.x>i.right-3?(d.left=5,r.startScrolling(e,"x")):d.left=0,a.y<i.top+3?(d.top=i.top+3-a.y<5?-5:-20,r.startScrolling(e,"y")):a.y>i.bottom-3?(d.top=a.y-i.bottom+3<5?5:20,r.startScrolling(e,"y")):d.top=0,0===d.top&&0===d.left?l():n()}})}var r=a(1176),i=a(1151),o=a(1169),s=a(1177);e.exports=function(e){n(e,i.get(e))}},function(e,t,a){"use strict";function n(e,t){t.event.bind(e,"scroll",function(){i(e)})}var r=a(1151),i=a(1169);e.exports=function(e){n(e,r.get(e))}},function(e,t,a){"use strict";var n=a(1176),r=a(1191),i=a(1151),o=a(1169),s=a(1177);e.exports=function(e){var t=i.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(r.css(t.scrollbarXRail,"marginLeft"))+n.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(r.css(t.scrollbarYRail,"marginTop"))+n.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),o(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}}]));
//# sourceMappingURL=0.122705577cf4dee98302.js.map